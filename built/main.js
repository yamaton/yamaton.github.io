!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.areSameWidth=t.areSameHeight=t.getHeight=t.getWidth=t.makeUnorderedPair=t.negate=t.normalize=t.unitVec=t.randn=t.randRange=t.range=t.cloestPointPairY=t.cloestPointPairX=t.distEuclid=t.distVerti=t.distHoriz=t.bottommostPoint=t.topmostPoint=t.leftmostPoint=t.rightmostPoint=t.vectorMean=t.arrMinBy=t.arrMaxBy=t.arrMetaBy=t.arrMean=t.arrSum=t.arrMin=t.arrMax=void 0,t.arrMax=function(e){return e.reduce((function(e,t){return Math.max(e,t)}),-1/0)},t.arrMin=function(e){return e.reduce((function(e,t){return Math.min(e,t)}),1/0)},t.arrSum=function(e){return e.reduce((function(e,t){return e+t}),0)},t.arrMean=function(e){return t.arrSum(e)/e.length},t.arrMetaBy=function(e,t,n){var o=e.map(t),i=n(o),r=Array();for(var a in e)o[a]==i&&r.push(e[a]);return r},t.arrMaxBy=function(e){var n=e.xs,o=e.f;return t.arrMetaBy(n,o,t.arrMax)},t.arrMinBy=function(e){var n=e.xs,o=e.f;return t.arrMetaBy(n,o,t.arrMin)},t.vectorMean=function(e){return{x:t.arrMean(e.map((function(e){return e.x}))),y:t.arrMean(e.map((function(e){return e.y})))}},t.rightmostPoint=function(e){return t.vectorMean(t.arrMaxBy({xs:e,f:function(e){return e.x}}))},t.leftmostPoint=function(e){return t.vectorMean(t.arrMinBy({xs:e,f:function(e){return e.x}}))},t.topmostPoint=function(e){return t.vectorMean(t.arrMinBy({xs:e,f:function(e){return e.y}}))},t.bottommostPoint=function(e){return t.vectorMean(t.arrMaxBy({xs:e,f:function(e){return e.y}}))},t.distHoriz=function(e,t){return Math.abs(e.x-t.x)},t.distVerti=function(e,t){return Math.abs(e.y-t.y)},t.distEuclid=function(e,t){return Math.hypot(e.x-t.x,e.y-t.y)};var o=function(e,t,n,o,i){for(var r=n(e.vertices),a=o(e.vertices),s=n(t.vertices),l=o(t.vertices),c=[r,s,1/0],u=1/0,d=0,p=[r,a];d<p.length;d++)for(var f=p[d],v=0,m=[s,l];v<m.length;v++){var g=m[v],y=i(f,g);y<u&&(c=[f,g,u=y])}return c};t.cloestPointPairX=function(e,n){return o(e,n,t.leftmostPoint,t.rightmostPoint,t.distHoriz)},t.cloestPointPairY=function(e,n){return o(e,n,t.topmostPoint,t.bottommostPoint,t.distVerti)},t.range=function(e){return e=Math.floor(e),Array.from(Array(e).keys())},t.randRange=function(e,t,n){void 0===n&&(n=1);var o=Math.floor(e),i=Math.floor(t);return o+Math.floor(Math.random()*(i-o)/n)*n},t.randn=function(){for(var e=0,n=0;0===e;)e=Math.random();for(;0===n;)n=Math.random();var o=Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*n);return(o=o/10+.5)>1||o<0?t.randn():o-.5},t.unitVec=function(e,n){var o=t.distEuclid(e,n);return{x:(n.x-e.x)/o,y:(n.y-e.y)/o}},t.normalize=function(e){var t=Math.hypot(e.x,e.y);return{x:e.x/t,y:e.y/t}},t.negate=function(e){return{x:-e.x,y:-e.y}},t.makeUnorderedPair=function(e,t){var n;return t<e&&(e=(n=[t,e])[0],t=n[1]),{first:e,second:t}},t.getWidth=function(e){var n=e.vertices.map((function(e){return e.x}));return t.arrMax(n)-t.arrMin(n)},t.getHeight=function(e){var n=e.vertices.map((function(e){return e.y}));return t.arrMax(n)-t.arrMin(n)},t.areSameHeight=function(e,n){return t.getHeight(e)==t.getHeight(n)},t.areSameWidth=function(e,n){return t.getWidth(e)==t.getWidth(n)}},function(e,t,n){(function(t){e.exports=function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){if(r)return r(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var c=n[a]={exports:{}};t[a][0].call(c.exports,(function(e){return i(t[a][1][e]||e)}),c,c.exports,e,t,n,o)}return n[a].exports}for(var r=!1,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),a=e("../core/Sleeping"),s=(e("../render/Render"),e("../core/Common")),l=e("../geometry/Bounds"),c=e("../geometry/Axes");!function(){o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o.create=function(t){var n={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0},lineWidth:0}},o=s.extend(n,t);return e(o,t),o},o.nextGroup=function(e){return e?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var e=function(e,t){t=t||{},o.set(e,{bounds:e.bounds||l.create(e.vertices),positionPrev:e.positionPrev||r.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),c.rotate(e.axes,e.angle),l.update(e.bounds,e.vertices,e.velocity),o.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#2e2b44":s.choose(["#006BA6","#0496FF","#FFBC42","#D81159","#8F2D56"]);e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||"#000",e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};o.set=function(e,t,n){var i;for(i in"string"==typeof t&&(i=t,(t={})[i]=n),t)if(n=t[i],t.hasOwnProperty(i))switch(i){case"isStatic":o.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":o.setMass(e,n);break;case"density":o.setDensity(e,n);break;case"inertia":o.setInertia(e,n);break;case"vertices":o.setVertices(e,n);break;case"position":o.setPosition(e,n);break;case"angle":o.setAngle(e,n);break;case"velocity":o.setVelocity(e,n);break;case"angularVelocity":o.setAngularVelocity(e,n);break;case"parts":o.setParts(e,n);break;default:e[i]=n}},o.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var o=e.parts[n];o.isStatic=t,t?(o._original={restitution:o.restitution,friction:o.friction,mass:o.mass,inertia:o.inertia,density:o.density,inverseMass:o.inverseMass,inverseInertia:o.inverseInertia},o.restitution=0,o.friction=1,o.mass=o.inertia=o.density=1/0,o.inverseMass=o.inverseInertia=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.angularVelocity=0,o.speed=0,o.angularSpeed=0,o.motion=0):o._original&&(o.restitution=o._original.restitution,o.friction=o._original.friction,o.mass=o._original.mass,o.inertia=o._original.inertia,o.density=o._original.density,o.inverseMass=o._original.inverseMass,o.inverseInertia=o._original.inverseInertia,delete o._original)}},o.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},o.setDensity=function(e,t){o.setMass(e,t*e.area),e.density=t},o.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},o.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=c.fromVertices(e.vertices),e.area=i.area(e.vertices),o.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),o.setInertia(e,o._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),l.update(e.bounds,e.vertices,e.velocity)},o.setParts=function(e,t,n){var r;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,r=0;r<t.length;r++){var a=t[r];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(n=void 0===n||n){var s=[];for(r=0;r<t.length;r++)s=s.concat(t[r].vertices);i.clockwiseSort(s);var l=i.hull(s),c=i.centre(l);o.setVertices(e,l),i.translate(e.vertices,c)}var u=o._totalProperties(e);e.area=u.area,e.parent=e,e.position.x=u.centre.x,e.position.y=u.centre.y,e.positionPrev.x=u.centre.x,e.positionPrev.y=u.centre.y,o.setMass(e,u.mass),o.setInertia(e,u.inertia),o.setPosition(e,u.centre)}},o.setPosition=function(e,t){var n=r.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.position.x+=n.x,a.position.y+=n.y,i.translate(a.vertices,n),l.update(a.bounds,a.vertices,e.velocity)}},o.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.angle+=n,i.rotate(a.vertices,n,e.position),c.rotate(a.axes,n),l.update(a.bounds,a.vertices,e.velocity),o>0&&r.rotateAbout(a.position,n,e.position,a.position)}},o.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=r.magnitude(e.velocity)},o.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},o.translate=function(e,t){o.setPosition(e,r.add(e.position,t))},o.rotate=function(e,t,n){if(n){var i=Math.cos(t),r=Math.sin(t),a=e.position.x-n.x,s=e.position.y-n.y;o.setPosition(e,{x:n.x+(a*i-s*r),y:n.y+(a*r+s*i)}),o.setAngle(e,e.angle+t)}else o.setAngle(e,e.angle+t)},o.scale=function(e,t,n,r){var a=0,s=0;r=r||e.position;for(var u=0;u<e.parts.length;u++){var d=e.parts[u];i.scale(d.vertices,t,n,r),d.axes=c.fromVertices(d.vertices),d.area=i.area(d.vertices),o.setMass(d,e.density*d.area),i.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),o.setInertia(d,o._inertiaScale*i.inertia(d.vertices,d.mass)),i.translate(d.vertices,{x:d.position.x,y:d.position.y}),u>0&&(a+=d.area,s+=d.inertia),d.position.x=r.x+(d.position.x-r.x)*t,d.position.y=r.y+(d.position.y-r.y)*n,l.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(o.setMass(e,e.density*a),o.setInertia(e,s))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},o.update=function(e,t,n,o){var a=Math.pow(t*n*e.timeScale,2),s=1-e.frictionAir*n*e.timeScale,u=e.position.x-e.positionPrev.x,d=e.position.y-e.positionPrev.y;e.velocity.x=u*s*o+e.force.x/e.mass*a,e.velocity.y=d*s*o+e.force.y/e.mass*a,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*s*o+e.torque/e.inertia*a,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=r.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var p=0;p<e.parts.length;p++){var f=e.parts[p];i.translate(f.vertices,e.velocity),p>0&&(f.position.x+=e.velocity.x,f.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(f.vertices,e.angularVelocity,e.position),c.rotate(f.axes,e.angularVelocity),p>0&&r.rotateAbout(f.position,e.angularVelocity,e.position,f.position)),l.update(f.bounds,f.vertices,e.velocity)}},o.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var o=t.x-e.position.x,i=t.y-e.position.y;e.torque+=o*n.y-i*n.x},o._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var o=e.parts[n],i=o.mass!==1/0?o.mass:1;t.mass+=i,t.area+=o.area,t.inertia+=o.inertia,t.centre=r.add(t.centre,r.mult(o.position,i))}return t.centre=r.div(t.centre,t.mass),t}}()},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31}],2:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Events"),r=e("../core/Common"),a=e("../geometry/Bounds"),s=e("./Body");o.create=function(e){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},o.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&o.setModified(e.parent,t,n,i),i)for(var r=0;r<e.composites.length;r++){var a=e.composites[r];o.setModified(a,t,n,i)}},o.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,s);break;case"constraint":o.addConstraint(e,s);break;case"composite":o.addComposite(e,s);break;case"mouseConstraint":o.addConstraint(e,s.constraint)}}return i.trigger(e,"afterAdd",{object:t}),e},o.remove=function(e,t,n){var r=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var a=0;a<r.length;a++){var s=r[a];switch(s.type){case"body":o.removeBody(e,s,n);break;case"constraint":o.removeConstraint(e,s,n);break;case"composite":o.removeComposite(e,s,n);break;case"mouseConstraint":o.removeConstraint(e,s.constraint)}}return i.trigger(e,"afterRemove",{object:t}),e},o.addComposite=function(e,t){return e.composites.push(t),t.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,t,n){var i=r.indexOf(e.composites,t);if(-1!==i&&(o.removeCompositeAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var a=0;a<e.composites.length;a++)o.removeComposite(e.composites[a],t,!0);return e},o.removeCompositeAt=function(e,t){return e.composites.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,t){return e.bodies.push(t),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,t,n){var i=r.indexOf(e.bodies,t);if(-1!==i&&(o.removeBodyAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var a=0;a<e.composites.length;a++)o.removeBody(e.composites[a],t,!0);return e},o.removeBodyAt=function(e,t){return e.bodies.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,t){return e.constraints.push(t),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,t,n){var i=r.indexOf(e.constraints,t);if(-1!==i&&o.removeConstraintAt(e,i),n)for(var a=0;a<e.composites.length;a++)o.removeConstraint(e.composites[a],t,!0);return e},o.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)o.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(o.allBodies(e.composites[n]));return t},o.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(o.allConstraints(e.composites[n]));return t},o.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(o.allComposites(e.composites[n]));return t},o.get=function(e,t,n){var i,r;switch(n){case"body":i=o.allBodies(e);break;case"constraint":i=o.allConstraints(e);break;case"composite":i=o.allComposites(e).concat(e)}return i?0===(r=i.filter((function(e){return e.id.toString()===t.toString()}))).length?null:r[0]:null},o.move=function(e,t,n){return o.remove(e,t),o.add(n,t),e},o.rebase=function(e){for(var t=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),n=0;n<t.length;n++)t[n].id=r.nextId();return o.setModified(e,!0,!0,!1),e},o.translate=function(e,t,n){for(var i=n?o.allBodies(e):e.bodies,r=0;r<i.length;r++)s.translate(i[r],t);return o.setModified(e,!0,!0,!1),e},o.rotate=function(e,t,n,i){for(var r=Math.cos(t),a=Math.sin(t),l=i?o.allBodies(e):e.bodies,c=0;c<l.length;c++){var u=l[c],d=u.position.x-n.x,p=u.position.y-n.y;s.setPosition(u,{x:n.x+(d*r-p*a),y:n.y+(d*a+p*r)}),s.rotate(u,t)}return o.setModified(e,!0,!0,!1),e},o.scale=function(e,t,n,i,r){for(var a=r?o.allBodies(e):e.bodies,l=0;l<a.length;l++){var c=a[l],u=c.position.x-i.x,d=c.position.y-i.y;s.setPosition(c,{x:i.x+u*t,y:i.y+d*n}),s.scale(c,t,n)}return o.setModified(e,!0,!0,!1),e},o.bounds=function(e){for(var t=o.allBodies(e),n=[],i=0;i<t.length;i+=1){var r=t[i];n.push(r.bounds.min,r.bounds.max)}return a.create(n)}},{"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"./Body":1}],3:[function(e,t,n){var o={};t.exports=o;var i=e("./Composite"),r=(e("../constraint/Constraint"),e("../core/Common"));o.create=function(e){var t=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return r.extend(t,n,e)}},{"../constraint/Constraint":12,"../core/Common":14,"./Composite":2}],4:[function(e,t,n){var o={};t.exports=o,o.create=function(e){return{id:o.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},o.id=function(e){return e.body.id+"_"+e.index}},{}],5:[function(e,t,n){var o={};t.exports=o;var i=e("./SAT"),r=e("./Pair"),a=e("../geometry/Bounds");o.collisions=function(e,t){for(var n=[],s=t.pairs.table,l=0;l<e.length;l++){var c=e[l][0],u=e[l][1];if((!c.isStatic&&!c.isSleeping||!u.isStatic&&!u.isSleeping)&&o.canCollide(c.collisionFilter,u.collisionFilter)&&a.overlaps(c.bounds,u.bounds))for(var d=c.parts.length>1?1:0;d<c.parts.length;d++)for(var p=c.parts[d],f=u.parts.length>1?1:0;f<u.parts.length;f++){var v=u.parts[f];if(p===c&&v===u||a.overlaps(p.bounds,v.bounds)){var m,g=s[r.id(p,v)];m=g&&g.isActive?g.collision:null;var y=i.collides(p,v,m);y.collided&&n.push(y)}}}return n},o.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!=(e.mask&t.category)&&0!=(t.mask&e.category)}},{"../geometry/Bounds":26,"./Pair":7,"./SAT":11}],6:[function(e,t,n){var o={};t.exports=o;var i=e("./Pair"),r=e("./Detector"),a=e("../core/Common");o.create=function(e){var t={controller:o,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(t,e)},o.update=function(e,t,n,i){var r,a,s,l,c,u=n.world,d=e.buckets,p=!1;for(r=0;r<t.length;r++){var f=t[r];if((!f.isSleeping||i)&&!(f.bounds.max.x<u.bounds.min.x||f.bounds.min.x>u.bounds.max.x||f.bounds.max.y<u.bounds.min.y||f.bounds.min.y>u.bounds.max.y)){var v=o._getRegion(e,f);if(!f.region||v.id!==f.region.id||i){f.region&&!i||(f.region=v);var m=o._regionUnion(v,f.region);for(a=m.startCol;a<=m.endCol;a++)for(s=m.startRow;s<=m.endRow;s++){l=d[c=o._getBucketId(a,s)];var g=a>=v.startCol&&a<=v.endCol&&s>=v.startRow&&s<=v.endRow,y=a>=f.region.startCol&&a<=f.region.endCol&&s>=f.region.startRow&&s<=f.region.endRow;!g&&y&&y&&l&&o._bucketRemoveBody(e,l,f),(f.region===v||g&&!y||i)&&(l||(l=o._createBucket(d,c)),o._bucketAddBody(e,l,f))}f.region=v,p=!0}}}p&&(e.pairsList=o._createActivePairsList(e))},o.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},o._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),r=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return o._createRegion(n,i,r,a)},o._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),r=Math.floor(n.max.x/e.bucketWidth),a=Math.floor(n.min.y/e.bucketHeight),s=Math.floor(n.max.y/e.bucketHeight);return o._createRegion(i,r,a,s)},o._createRegion=function(e,t,n,o){return{id:e+","+t+","+n+","+o,startCol:e,endCol:t,startRow:n,endRow:o}},o._getBucketId=function(e,t){return"C"+e+"R"+t},o._createBucket=function(e,t){return e[t]=[]},o._bucketAddBody=function(e,t,n){for(var o=0;o<t.length;o++){var r=t[o];if(!(n.id===r.id||n.isStatic&&r.isStatic)){var a=i.id(n,r),s=e.pairs[a];s?s[2]+=1:e.pairs[a]=[n,r,1]}}t.push(n)},o._bucketRemoveBody=function(e,t,n){t.splice(a.indexOf(t,n),1);for(var o=0;o<t.length;o++){var r=t[o],s=i.id(n,r),l=e.pairs[s];l&&(l[2]-=1)}},o._createActivePairsList=function(e){var t,n,o=[];t=a.keys(e.pairs);for(var i=0;i<t.length;i++)(n=e.pairs[t[i]])[2]>0?o.push(n):delete e.pairs[t[i]];return o}},{"../core/Common":14,"./Detector":5,"./Pair":7}],7:[function(e,t,n){var o={};t.exports=o;var i=e("./Contact");o.create=function(e,t){var n=e.bodyA,i=e.bodyB,r=e.parentA,a=e.parentB,s={id:o.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:r.inverseMass+a.inverseMass,friction:Math.min(r.friction,a.friction),frictionStatic:Math.max(r.frictionStatic,a.frictionStatic),restitution:Math.max(r.restitution,a.restitution),slop:Math.max(r.slop,a.slop)};return o.update(s,e,t),s},o.update=function(e,t,n){var r=e.contacts,a=t.supports,s=e.activeContacts,l=t.parentA,c=t.parentB;if(e.collision=t,e.inverseMass=l.inverseMass+c.inverseMass,e.friction=Math.min(l.friction,c.friction),e.frictionStatic=Math.max(l.frictionStatic,c.frictionStatic),e.restitution=Math.max(l.restitution,c.restitution),e.slop=Math.max(l.slop,c.slop),s.length=0,t.collided){for(var u=0;u<a.length;u++){var d=a[u],p=i.id(d),f=r[p];f?s.push(f):s.push(r[p]=i.create(d))}e.separation=t.depth,o.setActive(e,!0,n)}else!0===e.isActive&&o.setActive(e,!1,n)},o.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},o.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}},{"./Contact":4}],8:[function(e,t,n){var o={};t.exports=o;var i=e("./Pair"),r=e("../core/Common");o._pairMaxIdleLife=1e3,o.create=function(e){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},o.update=function(e,t,n){var o,a,s,l,c=e.list,u=e.table,d=e.collisionStart,p=e.collisionEnd,f=e.collisionActive,v=[];for(d.length=0,p.length=0,f.length=0,l=0;l<t.length;l++)(o=t[l]).collided&&(a=i.id(o.bodyA,o.bodyB),v.push(a),(s=u[a])?(s.isActive?f.push(s):d.push(s),i.update(s,o,n)):(s=i.create(o,n),u[a]=s,d.push(s),c.push(s)));for(l=0;l<c.length;l++)(s=c[l]).isActive&&-1===r.indexOf(v,s.id)&&(i.setActive(s,!1,n),p.push(s))},o.removeOld=function(e,t){var n,i,r,a,s=e.list,l=e.table,c=[];for(a=0;a<s.length;a++)(i=(n=s[a]).collision).bodyA.isSleeping||i.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>o._pairMaxIdleLife&&c.push(a);for(a=0;a<c.length;a++)delete l[(n=s[r=c[a]-a]).id],s.splice(r,1)},o.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}},{"../core/Common":14,"./Pair":7}],9:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("./SAT"),a=e("../geometry/Bounds"),s=e("../factory/Bodies"),l=e("../geometry/Vertices");o.collides=function(e,t){for(var n=[],o=0;o<t.length;o++){var i=t[o];if(a.overlaps(i.bounds,e.bounds))for(var s=1===i.parts.length?0:1;s<i.parts.length;s++){var l=i.parts[s];if(a.overlaps(l.bounds,e.bounds)){var c=r.collides(l,e);if(c.collided){n.push(c);break}}}}return n},o.ray=function(e,t,n,r){r=r||1e-100;for(var a=i.angle(t,n),l=i.magnitude(i.sub(t,n)),c=.5*(n.x+t.x),u=.5*(n.y+t.y),d=s.rectangle(c,u,l,r,{angle:a}),p=o.collides(d,e),f=0;f<p.length;f+=1){var v=p[f];v.body=v.bodyB=v.bodyA}return p},o.region=function(e,t,n){for(var o=[],i=0;i<e.length;i++){var r=e[i],s=a.overlaps(r.bounds,t);(s&&!n||!s&&n)&&o.push(r)}return o},o.point=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o];if(a.contains(i.bounds,t))for(var r=1===i.parts.length?0:1;r<i.parts.length;r++){var s=i.parts[r];if(a.contains(s.bounds,t)&&l.contains(s.vertices,t)){n.push(i);break}}}return n}},{"../factory/Bodies":23,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29,"./SAT":11}],10:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),a=e("../core/Common"),s=e("../geometry/Bounds");o._restingThresh=4,o._restingThreshTangent=6,o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o.preSolvePosition=function(e){var t,n,o;for(t=0;t<e.length;t++)(n=e[t]).isActive&&(o=n.activeContacts.length,n.collision.parentA.totalContacts+=o,n.collision.parentB.totalContacts+=o)},o.solvePosition=function(e,t){var n,i,a,s,l,c,u,d,p,f=r._temp[0],v=r._temp[1],m=r._temp[2],g=r._temp[3];for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(s=(a=i.collision).parentA,l=a.parentB,c=a.normal,u=r.sub(r.add(l.positionImpulse,l.position,f),r.add(s.positionImpulse,r.sub(l.position,a.penetration,v),m),g),i.separation=r.dot(c,u));for(n=0;n<e.length;n++)(i=e[n]).isActive&&!i.isSensor&&(s=(a=i.collision).parentA,l=a.parentB,c=a.normal,p=(i.separation-i.slop)*t,(s.isStatic||l.isStatic)&&(p*=2),s.isStatic||s.isSleeping||(d=o._positionDampen/s.totalContacts,s.positionImpulse.x+=c.x*p*d,s.positionImpulse.y+=c.y*p*d),l.isStatic||l.isSleeping||(d=o._positionDampen/l.totalContacts,l.positionImpulse.x-=c.x*p*d,l.positionImpulse.y-=c.y*p*d))},o.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var a=0;a<n.parts.length;a++){var l=n.parts[a];i.translate(l.vertices,n.positionImpulse),s.update(l.bounds,l.vertices,n.velocity),l.position.x+=n.positionImpulse.x,l.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,r.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=o._positionWarming,n.positionImpulse.y*=o._positionWarming)}}},o.preSolveVelocity=function(e){var t,n,o,i,a,s,l,c,u,d,p,f,v,m,g=r._temp[0],y=r._temp[1];for(t=0;t<e.length;t++)if((o=e[t]).isActive&&!o.isSensor)for(i=o.activeContacts,s=(a=o.collision).parentA,l=a.parentB,c=a.normal,u=a.tangent,n=0;n<i.length;n++)p=(d=i[n]).vertex,f=d.normalImpulse,v=d.tangentImpulse,0===f&&0===v||(g.x=c.x*f+u.x*v,g.y=c.y*f+u.y*v,s.isStatic||s.isSleeping||(m=r.sub(p,s.position,y),s.positionPrev.x+=g.x*s.inverseMass,s.positionPrev.y+=g.y*s.inverseMass,s.anglePrev+=r.cross(m,g)*s.inverseInertia),l.isStatic||l.isSleeping||(m=r.sub(p,l.position,y),l.positionPrev.x-=g.x*l.inverseMass,l.positionPrev.y-=g.y*l.inverseMass,l.anglePrev-=r.cross(m,g)*l.inverseInertia))},o.solveVelocity=function(e,t){for(var n=t*t,i=r._temp[0],s=r._temp[1],l=r._temp[2],c=r._temp[3],u=r._temp[4],d=r._temp[5],p=0;p<e.length;p++){var f=e[p];if(f.isActive&&!f.isSensor){var v=f.collision,m=v.parentA,g=v.parentB,y=v.normal,h=v.tangent,x=f.activeContacts,b=1/x.length;m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,m.angularVelocity=m.angle-m.anglePrev,g.angularVelocity=g.angle-g.anglePrev;for(var w=0;w<x.length;w++){var S=x[w],P=S.vertex,C=r.sub(P,m.position,s),_=r.sub(P,g.position,l),M=r.add(m.velocity,r.mult(r.perp(C),m.angularVelocity),c),A=r.add(g.velocity,r.mult(r.perp(_),g.angularVelocity),u),B=r.sub(M,A,d),k=r.dot(y,B),I=r.dot(h,B),T=Math.abs(I),R=a.sign(I),O=(1+f.restitution)*k,V=a.clamp(f.separation+k,0,1)*o._frictionNormalMultiplier,E=I,F=1/0;T>f.friction*f.frictionStatic*V*n&&(F=T,E=a.clamp(f.friction*R*n,-F,F));var j=r.cross(C,y),L=r.cross(_,y),W=b/(m.inverseMass+g.inverseMass+m.inverseInertia*j*j+g.inverseInertia*L*L);if(O*=W,E*=W,k<0&&k*k>o._restingThresh*n)S.normalImpulse=0;else{var D=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+O,0),O=S.normalImpulse-D}if(I*I>o._restingThreshTangent*n)S.tangentImpulse=0;else{var q=S.tangentImpulse;S.tangentImpulse=a.clamp(S.tangentImpulse+E,-F,F),E=S.tangentImpulse-q}i.x=y.x*O+h.x*E,i.y=y.y*O+h.y*E,m.isStatic||m.isSleeping||(m.positionPrev.x+=i.x*m.inverseMass,m.positionPrev.y+=i.y*m.inverseMass,m.anglePrev+=r.cross(C,i)*m.inverseInertia),g.isStatic||g.isSleeping||(g.positionPrev.x-=i.x*g.inverseMass,g.positionPrev.y-=i.y*g.inverseMass,g.anglePrev-=r.cross(_,i)*g.inverseInertia)}}}}},{"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],11:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector");o.collides=function(e,t,n){var a,s,l,c,u=!1;if(n){var d=e.parent,p=t.parent,f=d.speed*d.speed+d.angularSpeed*d.angularSpeed+p.speed*p.speed+p.angularSpeed*p.angularSpeed;u=n&&n.collided&&f<.2,c=n}else c={collided:!1,bodyA:e,bodyB:t};if(n&&u){var v=c.axisBody,m=v===e?t:e,g=[v.axes[n.axisNumber]];if(l=o._overlapAxes(v.vertices,m.vertices,g),c.reused=!0,l.overlap<=0)return c.collided=!1,c}else{if((a=o._overlapAxes(e.vertices,t.vertices,e.axes)).overlap<=0)return c.collided=!1,c;if((s=o._overlapAxes(t.vertices,e.vertices,t.axes)).overlap<=0)return c.collided=!1,c;a.overlap<s.overlap?(l=a,c.axisBody=e):(l=s,c.axisBody=t),c.axisNumber=l.axisNumber}c.bodyA=e.id<t.id?e:t,c.bodyB=e.id<t.id?t:e,c.collided=!0,c.depth=l.overlap,c.parentA=c.bodyA.parent,c.parentB=c.bodyB.parent,e=c.bodyA,t=c.bodyB,r.dot(l.axis,r.sub(t.position,e.position))<0?c.normal={x:l.axis.x,y:l.axis.y}:c.normal={x:-l.axis.x,y:-l.axis.y},c.tangent=r.perp(c.normal),c.penetration=c.penetration||{},c.penetration.x=c.normal.x*c.depth,c.penetration.y=c.normal.y*c.depth;var y=o._findSupports(e,t,c.normal),h=[];if(i.contains(e.vertices,y[0])&&h.push(y[0]),i.contains(e.vertices,y[1])&&h.push(y[1]),h.length<2){var x=o._findSupports(t,e,r.neg(c.normal));i.contains(t.vertices,x[0])&&h.push(x[0]),h.length<2&&i.contains(t.vertices,x[1])&&h.push(x[1])}return h.length<1&&(h=[y[0]]),c.supports=h,c},o._overlapAxes=function(e,t,n){for(var i,a,s=r._temp[0],l=r._temp[1],c={overlap:Number.MAX_VALUE},u=0;u<n.length;u++){if(a=n[u],o._projectToAxis(s,e,a),o._projectToAxis(l,t,a),(i=Math.min(s.max-l.min,l.max-s.min))<=0)return c.overlap=i,c;i<c.overlap&&(c.overlap=i,c.axis=a,c.axisNumber=u)}return c},o._projectToAxis=function(e,t,n){for(var o=r.dot(t[0],n),i=o,a=1;a<t.length;a+=1){var s=r.dot(t[a],n);s>i?i=s:s<o&&(o=s)}e.min=o,e.max=i},o._findSupports=function(e,t,n){for(var o,i,a,s,l=Number.MAX_VALUE,c=r._temp[0],u=t.vertices,d=e.position,p=0;p<u.length;p++)i=u[p],c.x=i.x-d.x,c.y=i.y-d.y,(o=-r.dot(n,c))<l&&(l=o,a=i);return i=u[a.index-1>=0?a.index-1:u.length-1],c.x=i.x-d.x,c.y=i.y-d.y,l=-r.dot(n,c),s=i,i=u[(a.index+1)%u.length],c.x=i.x-d.x,c.y=i.y-d.y,(o=-r.dot(n,c))<l&&(s=i),[a,s]}},{"../geometry/Vector":28,"../geometry/Vertices":29}],12:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../geometry/Vector"),a=e("../core/Sleeping"),s=e("../geometry/Bounds"),l=e("../geometry/Axes"),c=e("../core/Common");o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,i=r.magnitude(r.sub(n,o));t.length=void 0!==t.length?t.length:i,t.id=t.id||c.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=c.extend(a,t.render),t},o.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],o=n.constraintImpulse;n.isStatic||0===o.x&&0===o.y&&0===o.angle||(n.position.x+=o.x,n.position.y+=o.y,n.angle+=o.angle)}},o.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],r=!i.bodyA||i.bodyA&&i.bodyA.isStatic,a=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(r||a)&&o.solve(e[n],t)}for(n=0;n<e.length;n+=1)r=!(i=e[n]).bodyA||i.bodyA&&i.bodyA.isStatic,a=!i.bodyB||i.bodyB&&i.bodyB.isStatic,r||a||o.solve(e[n],t)},o.solve=function(e,t){var n=e.bodyA,i=e.bodyB,a=e.pointA,s=e.pointB;if(n||i){n&&!n.isStatic&&(r.rotate(a,n.angle-e.angleA,a),e.angleA=n.angle),i&&!i.isStatic&&(r.rotate(s,i.angle-e.angleB,s),e.angleB=i.angle);var l=a,c=s;if(n&&(l=r.add(n.position,a)),i&&(c=r.add(i.position,s)),l&&c){var u=r.sub(l,c),d=r.magnitude(u);d<o._minLength&&(d=o._minLength);var p,f,v,m,g,y=(d-e.length)/d,h=e.stiffness<1?e.stiffness*t:e.stiffness,x=r.mult(u,y*h),b=(n?n.inverseMass:0)+(i?i.inverseMass:0),w=b+((n?n.inverseInertia:0)+(i?i.inverseInertia:0));if(e.damping){var S=r.create();v=r.div(u,d),g=r.sub(i&&r.sub(i.position,i.positionPrev)||S,n&&r.sub(n.position,n.positionPrev)||S),m=r.dot(v,g)}n&&!n.isStatic&&(f=n.inverseMass/b,n.constraintImpulse.x-=x.x*f,n.constraintImpulse.y-=x.y*f,n.position.x-=x.x*f,n.position.y-=x.y*f,e.damping&&(n.positionPrev.x-=e.damping*v.x*m*f,n.positionPrev.y-=e.damping*v.y*m*f),p=r.cross(a,x)/w*o._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=p,n.angle-=p),i&&!i.isStatic&&(f=i.inverseMass/b,i.constraintImpulse.x+=x.x*f,i.constraintImpulse.y+=x.y*f,i.position.x+=x.x*f,i.position.y+=x.y*f,e.damping&&(i.positionPrev.x+=e.damping*v.x*m*f,i.positionPrev.y+=e.damping*v.y*m*f),p=r.cross(s,x)/w*o._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=p,i.angle+=p)}}},o.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],c=n.constraintImpulse;if(!(n.isStatic||0===c.x&&0===c.y&&0===c.angle)){a.set(n,!1);for(var u=0;u<n.parts.length;u++){var d=n.parts[u];i.translate(d.vertices,c),u>0&&(d.position.x+=c.x,d.position.y+=c.y),0!==c.angle&&(i.rotate(d.vertices,c.angle,n.position),l.rotate(d.axes,c.angle),u>0&&r.rotateAbout(d.position,c.angle,n.position,d.position)),s.update(d.bounds,d.vertices,n.velocity)}c.angle*=o._warming,c.x*=o._warming,c.y*=o._warming}}}},{"../core/Common":14,"../core/Sleeping":22,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],13:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vertices"),r=e("../core/Sleeping"),a=e("../core/Mouse"),s=e("../core/Events"),l=e("../collision/Detector"),c=e("./Constraint"),u=e("../body/Composite"),d=e("../core/Common"),p=e("../geometry/Bounds");o.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=a.create(e.render.canvas):t&&t.element?n=a.create(t.element):(n=a.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:c.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),collisionFilter:{category:1,mask:4294967295,group:0}},r=d.extend(i,t);return s.on(e,"beforeUpdate",(function(){var t=u.allBodies(e.world);o.update(r,t),o._triggerEvents(r)})),r},o.update=function(e,t){var n=e.mouse,o=e.constraint,a=e.body;if(0===n.button){if(o.bodyB)r.set(o.bodyB,!1),o.pointA=n.position;else for(var c=0;c<t.length;c++)if(a=t[c],p.contains(a.bounds,n.position)&&l.canCollide(a.collisionFilter,e.collisionFilter))for(var u=a.parts.length>1?1:0;u<a.parts.length;u++){var d=a.parts[u];if(i.contains(d.vertices,n.position)){o.pointA=n.position,o.bodyB=e.body=a,o.pointB={x:n.position.x-a.position.x,y:n.position.y-a.position.y},o.angleB=a.angle,r.set(a,!1),s.trigger(e,"startdrag",{mouse:n,body:a});break}}}else o.bodyB=e.body=null,o.pointB=null,a&&s.trigger(e,"enddrag",{mouse:n,body:a})},o._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&s.trigger(e,"mousemove",{mouse:t}),n.mousedown&&s.trigger(e,"mousedown",{mouse:t}),n.mouseup&&s.trigger(e,"mouseup",{mouse:t}),a.clearSourceEvents(t)}},{"../body/Composite":2,"../collision/Detector":5,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../core/Sleeping":22,"../geometry/Bounds":26,"../geometry/Vertices":29,"./Constraint":12}],14:[function(e,n,o){(function(t){var o={};n.exports=o,function(){o._nextId=0,o._seed=0,o._nowStartTime=+new Date,o.extend=function(e,t){var n,i;"boolean"==typeof t?(n=2,i=t):(n=1,i=!0);for(var r=n;r<arguments.length;r++){var a=arguments[r];if(a)for(var s in a)i&&a[s]&&a[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=a[s]:(e[s]=e[s]||{},o.extend(e[s],i,a[s])):e[s]=a[s]}return e},o.clone=function(e,t){return o.extend({},t,e)},o.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),o=0;o<n.length;o++)t.push(e[n[o]]);return t}for(var i in e)t.push(e[i]);return t},o.get=function(e,t,n,o){t=t.split(".").slice(n,o);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},o.set=function(e,t,n,i,r){var a=t.split(".").slice(i,r);return o.get(e,t,0,-1)[a[a.length-1]]=n,n},o.shuffle=function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(o.random()*(t+1)),i=e[t];e[t]=e[n],e[n]=i}return e},o.choose=function(e){return e[Math.floor(o.random()*e.length)]},o.isElement=function(e){return"undefined"!=typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},o.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},o.isFunction=function(e){return"function"==typeof e},o.isPlainObject=function(e){return"object"==typeof e&&e.constructor===Object},o.isString=function(e){return"[object String]"===toString.call(e)},o.clamp=function(e,t,n){return e<t?t:e>n?n:e},o.sign=function(e){return e<0?-1:1},o.now=function(){if(window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-o._nowStartTime},o.random=function(e,t){return t=void 0!==t?t:1,(e=void 0!==e?e:0)+n()*(t-e)};var n=function(){return o._seed=(9301*o._seed+49297)%233280,o._seed/233280};o.colorToNumber=function(e){return 3==(e=e.replace("#","")).length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},o.logLevel=1,o.log=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.info=function(){console&&o.logLevel>0&&o.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.warn=function(){console&&o.logLevel>0&&o.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},o.nextId=function(){return o._nextId++},o.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},o.map=function(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n},o.topologicalSort=function(e){var t=[],n=[],i=[];for(var r in e)n[r]||i[r]||o._topologicalSort(r,n,i,e,t);return t},o._topologicalSort=function(e,t,n,i,r){var a=i[e]||[];n[e]=!0;for(var s=0;s<a.length;s+=1){var l=a[s];n[l]||t[l]||o._topologicalSort(l,t,n,i,r)}n[e]=!1,t[e]=!0,r.push(e)},o.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var o=function(){for(var t,n=new Array(arguments.length),o=0,i=arguments.length;o<i;o++)n[o]=arguments[o];for(o=0;o<e.length;o+=1){var r=e[o].apply(t,n);void 0!==r&&(t=r)}return t};return o._chained=e,o},o.chainPathBefore=function(e,t,n){return o.set(e,t,o.chain(n,o.get(e,t)))},o.chainPathAfter=function(e,t,n){return o.set(e,t,o.chain(o.get(e,t),n))},o._requireGlobal=function(n,o){return("undefined"!=typeof window?window[n]:void 0!==t?t[n]:null)||e(o)}}()}).call(this,void 0!==t?t:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],15:[function(e,t,n){var o={};t.exports=o;var i=e("../body/World"),r=e("./Sleeping"),a=e("../collision/Resolver"),s=e("../render/Render"),l=e("../collision/Pairs"),c=(e("./Metrics"),e("../collision/Grid")),u=e("./Events"),d=e("../body/Composite"),p=e("../constraint/Constraint"),f=e("./Common"),v=e("../body/Body");o.create=function(e,t){t=(t=f.isElement(e)?t:e)||{},((e=f.isElement(e)?e:null)||t.render)&&f.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:c}},o=f.extend(n,t);if(e||o.render){var r={element:e,controller:s};o.render=f.extend(r,o.render)}return o.render&&o.render.controller&&(o.render=o.render.controller.create(o.render)),o.render&&(o.render.engine=o),o.world=t.world||i.create(o.world),o.pairs=l.create(),o.broadphase=o.broadphase.controller.create(o.broadphase),o.metrics=o.metrics||{extended:!1},o},o.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,s=e.world,c=e.timing,f=e.broadphase,v=[];c.timestamp+=t*c.timeScale;var m={timestamp:c.timestamp};u.trigger(e,"beforeUpdate",m);var g=d.allBodies(s),y=d.allConstraints(s);for(e.enableSleeping&&r.update(g,c.timeScale),o._bodiesApplyGravity(g,s.gravity),o._bodiesUpdate(g,t,c.timeScale,n,s.bounds),p.preSolveAll(g),i=0;i<e.constraintIterations;i++)p.solveAll(y,c.timeScale);p.postSolveAll(g),f.controller?(s.isModified&&f.controller.clear(f),f.controller.update(f,g,e,s.isModified),v=f.pairsList):v=g,s.isModified&&d.setModified(s,!1,!1,!0);var h=f.detector(v,e),x=e.pairs,b=c.timestamp;for(l.update(x,h,b),l.removeOld(x,b),e.enableSleeping&&r.afterCollisions(x.list,c.timeScale),x.collisionStart.length>0&&u.trigger(e,"collisionStart",{pairs:x.collisionStart}),a.preSolvePosition(x.list),i=0;i<e.positionIterations;i++)a.solvePosition(x.list,c.timeScale);for(a.postSolvePosition(g),p.preSolveAll(g),i=0;i<e.constraintIterations;i++)p.solveAll(y,c.timeScale);for(p.postSolveAll(g),a.preSolveVelocity(x.list),i=0;i<e.velocityIterations;i++)a.solveVelocity(x.list,c.timeScale);return x.collisionActive.length>0&&u.trigger(e,"collisionActive",{pairs:x.collisionActive}),x.collisionEnd.length>0&&u.trigger(e,"collisionEnd",{pairs:x.collisionEnd}),o._bodiesClearForces(g),u.trigger(e,"afterUpdate",m),e},o.merge=function(e,t){if(f.extend(e,t),t.world){e.world=t.world,o.clear(e);for(var n=d.allBodies(e.world),i=0;i<n.length;i++){var a=n[i];r.set(a,!1),a.id=f.nextId()}}},o.clear=function(e){var t=e.world;l.clear(e.pairs);var n=e.broadphase;if(n.controller){var o=d.allBodies(t);n.controller.clear(n),n.controller.update(n,o,e,!0)}},o._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},o._bodiesApplyGravity=function(e,t){var n=void 0!==t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var o=0;o<e.length;o++){var i=e[o];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*n,i.force.x+=i.mass*t.x*n)}},o._bodiesUpdate=function(e,t,n,o,i){for(var r=0;r<e.length;r++){var a=e[r];a.isStatic||a.isSleeping||v.update(a,t,n,o)}}},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Grid":6,"../collision/Pairs":8,"../collision/Resolver":10,"../constraint/Constraint":12,"../render/Render":31,"./Common":14,"./Events":16,"./Metrics":18,"./Sleeping":22}],16:[function(e,t,n){var o={};t.exports=o;var i=e("./Common");o.on=function(e,t,n){for(var o,i=t.split(" "),r=0;r<i.length;r++)o=i[r],e.events=e.events||{},e.events[o]=e.events[o]||[],e.events[o].push(n);return n},o.off=function(e,t,n){if(t){"function"==typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var o=t.split(" "),r=0;r<o.length;r++){var a=e.events[o[r]],s=[];if(n&&a)for(var l=0;l<a.length;l++)a[l]!==n&&s.push(a[l]);e.events[o[r]]=s}}else e.events={}},o.trigger=function(e,t,n){var o,r,a,s;if(e.events){n||(n={}),o=t.split(" ");for(var l=0;l<o.length;l++)if(r=o[l],a=e.events[r]){(s=i.clone(n,!1)).name=r,s.source=e;for(var c=0;c<a.length;c++)a[c].apply(e,[s])}}}},{"./Common":14}],17:[function(e,t,n){var o={};t.exports=o;var i=e("./Plugin"),r=e("./Common");o.name="matter-js",o.version="0.14.2",o.uses=[],o.used=[],o.use=function(){i.use(o,Array.prototype.slice.call(arguments))},o.before=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathBefore(o,e,t)},o.after=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathAfter(o,e,t)}},{"./Common":14,"./Plugin":20}],18:[function(e,t,n){},{"../body/Composite":2,"./Common":14}],19:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Common");o.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=t.element.getAttribute("data-pixel-ratio")||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio);e.changedTouches&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},o.setElement(t,t.element),t},o.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},o.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},o.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o._getRelativeMousePosition=function(e,t,n){var o,i,r=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,l=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,c=e.changedTouches;return c?(o=c[0].pageX-r.left-s,i=c[0].pageY-r.top-l):(o=e.pageX-r.left-s,i=e.pageY-r.top-l),{x:o/(t.clientWidth/(t.width||t.clientWidth)*n),y:i/(t.clientHeight/(t.height||t.clientHeight)*n)}}},{"../core/Common":14}],20:[function(e,t,n){var o={};t.exports=o;var i=e("./Common");o._registry={},o.register=function(e){if(o.isPlugin(e)||i.warn("Plugin.register:",o.toString(e),"does not implement all required fields."),e.name in o._registry){var t=o._registry[e.name],n=o.versionParse(e.version).number,r=o.versionParse(t.version).number;n>r?(i.warn("Plugin.register:",o.toString(t),"was upgraded to",o.toString(e)),o._registry[e.name]=e):n<r?i.warn("Plugin.register:",o.toString(t),"can not be downgraded to",o.toString(e)):e!==t&&i.warn("Plugin.register:",o.toString(e),"is already registered to different plugin object")}else o._registry[e.name]=e;return e},o.resolve=function(e){return o._registry[o.dependencyParse(e).name]},o.toString=function(e){return"string"==typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},o.isPlugin=function(e){return e&&e.name&&e.version&&e.install},o.isUsed=function(e,t){return e.used.indexOf(t)>-1},o.isFor=function(e,t){var n=e.for&&o.dependencyParse(e.for);return!e.for||t.name===n.name&&o.versionSatisfies(t.version,n.range)},o.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=o.dependencies(e),r=i.topologicalSort(n),a=[],s=0;s<r.length;s+=1)if(r[s]!==e.name){var l=o.resolve(r[s]);l?o.isUsed(e,l.name)||(o.isFor(l,e)||(i.warn("Plugin.use:",o.toString(l),"is for",l.for,"but installed on",o.toString(e)+"."),l._warned=!0),l.install?l.install(e):(i.warn("Plugin.use:",o.toString(l),"does not specify an install function."),l._warned=!0),l._warned?(a.push("ðŸ”¶ "+o.toString(l)),delete l._warned):a.push("âœ… "+o.toString(l)),e.used.push(l.name)):a.push("âŒ "+r[s])}a.length>0&&i.info(a.join("  "))}else i.warn("Plugin.use:",o.toString(e),"does not specify any dependencies to install.")},o.dependencies=function(e,t){var n=o.dependencyParse(e),r=n.name;if(!(r in(t=t||{}))){e=o.resolve(e)||e,t[r]=i.map(e.uses||[],(function(t){o.isPlugin(t)&&o.register(t);var r=o.dependencyParse(t),a=o.resolve(t);return a&&!o.versionSatisfies(a.version,r.range)?(i.warn("Plugin.dependencies:",o.toString(a),"does not satisfy",o.toString(r),"used by",o.toString(n)+"."),a._warned=!0,e._warned=!0):a||(i.warn("Plugin.dependencies:",o.toString(t),"used by",o.toString(n),"could not be resolved."),e._warned=!0),r.name}));for(var a=0;a<t[r].length;a+=1)o.dependencies(t[r][a],t);return t}},o.dependencyParse=function(e){return i.isString(e)?(/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}):{name:e.name,range:e.range||e.version}},o.versionParse=function(e){/^\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?$/.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var t=e.split("-");e=t[0];var n=isNaN(Number(e[0])),o=n?e.substr(1):e,r=i.map(o.split("."),(function(e){return Number(e)}));return{isRange:n,version:o,range:e,operator:n?e[0]:"",parts:r,prerelease:t[1],number:1e8*r[0]+1e4*r[1]+r[2]}},o.versionSatisfies=function(e,t){t=t||"*";var n=o.versionParse(t),i=n.parts,r=o.versionParse(e),a=r.parts;if(n.isRange){if("*"===n.operator||"*"===e)return!0;if("~"===n.operator)return a[0]===i[0]&&a[1]===i[1]&&a[2]>=i[2];if("^"===n.operator)return i[0]>0?a[0]===i[0]&&r.number>=n.number:i[1]>0?a[1]===i[1]&&a[2]>=i[2]:a[2]===i[2]}return e===t||"*"===e}},{"./Common":14}],21:[function(e,t,n){var o={};t.exports=o;var i,r,a,s=e("./Events"),l=e("./Engine"),c=e("./Common");"undefined"!=typeof window&&(i=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,r=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),i||(i=function(e){a=setTimeout((function(){e(c.now())}),1e3/60)},r=function(){clearTimeout(a)}),o.create=function(e){var t=c.extend({fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},e);return t.delta=t.delta||1e3/t.fps,t.deltaMin=t.deltaMin||1e3/t.fps,t.deltaMax=t.deltaMax||1e3/(.5*t.fps),t.fps=1e3/t.delta,t},o.run=function(e,t){return void 0!==e.positionIterations&&(t=e,e=o.create()),function n(r){e.frameRequestId=i(n),r&&e.enabled&&o.tick(e,t,r)}(),e},o.tick=function(e,t,n){var o,i=t.timing,r=1,a={timestamp:i.timestamp};s.trigger(e,"beforeTick",a),s.trigger(t,"beforeTick",a),e.isFixed?o=e.delta:(o=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(o),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),r=(o=(o=(o=Math.min.apply(null,e.deltaHistory))<e.deltaMin?e.deltaMin:o)>e.deltaMax?e.deltaMax:o)/e.delta,e.delta=o),0!==e.timeScalePrev&&(r*=i.timeScale/e.timeScalePrev),0===i.timeScale&&(r=0),e.timeScalePrev=i.timeScale,e.correction=r,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),s.trigger(e,"tick",a),s.trigger(t,"tick",a),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),s.trigger(e,"beforeUpdate",a),l.update(t,o,r),s.trigger(e,"afterUpdate",a),t.render&&t.render.controller&&(s.trigger(e,"beforeRender",a),s.trigger(t,"beforeRender",a),t.render.controller.world(t.render),s.trigger(e,"afterRender",a),s.trigger(t,"afterRender",a)),s.trigger(e,"afterTick",a),s.trigger(t,"afterTick",a)},o.stop=function(e){r(e.frameRequestId)},o.start=function(e,t){o.run(e,t)}},{"./Common":14,"./Engine":15,"./Events":16}],22:[function(e,t,n){var o={};t.exports=o;var i=e("./Events");o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i],a=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(0===r.force.x&&0===r.force.y){var s=Math.min(r.motion,a),l=Math.max(r.motion,a);r.motion=o._minBias*s+(1-o._minBias)*l,r.sleepThreshold>0&&r.motion<o._motionSleepThreshold*n?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&o.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}else o.set(r,!1)}},o.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var a=r.collision,s=a.bodyA.parent,l=a.bodyB.parent;if(!(s.isSleeping&&l.isSleeping||s.isStatic||l.isStatic)&&(s.isSleeping||l.isSleeping)){var c=s.isSleeping&&!s.isStatic?s:l,u=c===s?l:s;!c.isStatic&&u.motion>o._motionWakeThreshold*n&&o.set(c,!1)}}}},o.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}},{"./Events":16}],23:[function(e,t,n){var o={};t.exports=o;var i,r=e("../geometry/Vertices"),a=e("../core/Common"),s=e("../body/Body"),l=e("../geometry/Bounds"),c=e("../geometry/Vector");o.rectangle=function(e,t,n,o,i){i=i||{};var l={label:"Rectangle Body",position:{x:e,y:t},vertices:r.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(i.chamfer){var c=i.chamfer;l.vertices=r.chamfer(l.vertices,c.radius,c.quality,c.qualityMin,c.qualityMax),delete i.chamfer}return s.create(a.extend({},l,i))},o.trapezoid=function(e,t,n,o,i,l){l=l||{};var c,u=n*(i*=.5),d=u+(1-2*i)*n,p=d+u;c=i<.5?"L 0 0 L "+u+" "+-o+" L "+d+" "+-o+" L "+p+" 0":"L 0 0 L "+d+" "+-o+" L "+p+" 0";var f={label:"Trapezoid Body",position:{x:e,y:t},vertices:r.fromPath(c)};if(l.chamfer){var v=l.chamfer;f.vertices=r.chamfer(f.vertices,v.radius,v.quality,v.qualityMin,v.qualityMax),delete l.chamfer}return s.create(a.extend({},f,l))},o.circle=function(e,t,n,i,r){i=i||{};var s={label:"Circle Body",circleRadius:n};r=r||25;var l=Math.ceil(Math.max(10,Math.min(r,n)));return l%2==1&&(l+=1),o.polygon(e,t,l,n,a.extend({},s,i))},o.polygon=function(e,t,n,i,l){if(l=l||{},n<3)return o.circle(e,t,i,l);for(var c=2*Math.PI/n,u="",d=.5*c,p=0;p<n;p+=1){var f=d+p*c,v=Math.cos(f)*i,m=Math.sin(f)*i;u+="L "+v.toFixed(3)+" "+m.toFixed(3)+" "}var g={label:"Polygon Body",position:{x:e,y:t},vertices:r.fromPath(u)};if(l.chamfer){var y=l.chamfer;g.vertices=r.chamfer(g.vertices,y.radius,y.quality,y.qualityMin,y.qualityMax),delete l.chamfer}return s.create(a.extend({},g,l))},o.fromVertices=function(e,t,n,o,u,d,p){var f,v,m,g,y,h,x,b,w;for(i||(i=a._requireGlobal("decomp","poly-decomp")),o=o||{},v=[],u=void 0!==u&&u,d=void 0!==d?d:.01,p=void 0!==p?p:10,i||a.warn("Bodies.fromVertices: poly-decomp.js required. Could not decompose vertices. Fallback to convex hull."),a.isArray(n[0])||(n=[n]),b=0;b<n.length;b+=1)if(g=n[b],(m=r.isConvex(g))||!i)g=m?r.clockwiseSort(g):r.hull(g),v.push({position:{x:e,y:t},vertices:g});else{var S=g.map((function(e){return[e.x,e.y]}));i.makeCCW(S),!1!==d&&i.removeCollinearPoints(S,d);var P=i.quickDecomp(S);for(y=0;y<P.length;y++){var C=P[y].map((function(e){return{x:e[0],y:e[1]}}));p>0&&r.area(C)<p||v.push({position:r.centre(C),vertices:C})}}for(y=0;y<v.length;y++)v[y]=s.create(a.extend(v[y],o));if(u)for(y=0;y<v.length;y++){var _=v[y];for(h=y+1;h<v.length;h++){var M=v[h];if(l.overlaps(_.bounds,M.bounds)){var A=_.vertices,B=M.vertices;for(x=0;x<_.vertices.length;x++)for(w=0;w<M.vertices.length;w++){var k=c.magnitudeSquared(c.sub(A[(x+1)%A.length],B[w])),I=c.magnitudeSquared(c.sub(A[x],B[(w+1)%B.length]));k<5&&I<5&&(A[x].isInternal=!0,B[w].isInternal=!0)}}}}return v.length>1?(f=s.create(a.extend({parts:v.slice(0)},o)),s.setPosition(f,{x:e,y:t}),f):v[0]}},{"../body/Body":1,"../core/Common":14,"../geometry/Bounds":26,"../geometry/Vector":28,"../geometry/Vertices":29}],24:[function(e,t,n){var o={};t.exports=o;var i=e("../body/Composite"),r=e("../constraint/Constraint"),a=e("../core/Common"),s=e("../body/Body"),l=e("./Bodies");o.stack=function(e,t,n,o,r,a,l){for(var c,u=i.create({label:"Stack"}),d=e,p=t,f=0,v=0;v<o;v++){for(var m=0,g=0;g<n;g++){var y=l(d,p,g,v,c,f);if(y){var h=y.bounds.max.y-y.bounds.min.y,x=y.bounds.max.x-y.bounds.min.x;h>m&&(m=h),s.translate(y,{x:.5*x,y:.5*h}),d=y.bounds.max.x+r,i.addBody(u,y),c=y,f+=1}else d+=r}p+=m+a,d=e}return u},o.chain=function(e,t,n,o,s,l){for(var c=e.bodies,u=1;u<c.length;u++){var d=c[u-1],p=c[u],f=d.bounds.max.y-d.bounds.min.y,v=d.bounds.max.x-d.bounds.min.x,m=p.bounds.max.y-p.bounds.min.y,g={bodyA:d,pointA:{x:v*t,y:f*n},bodyB:p,pointB:{x:(p.bounds.max.x-p.bounds.min.x)*o,y:m*s}},y=a.extend(g,l);i.addConstraint(e,r.create(y))}return e.label+=" Chain",e},o.mesh=function(e,t,n,o,s){var l,c,u,d,p,f=e.bodies;for(l=0;l<n;l++){for(c=1;c<t;c++)u=f[c-1+l*t],d=f[c+l*t],i.addConstraint(e,r.create(a.extend({bodyA:u,bodyB:d},s)));if(l>0)for(c=0;c<t;c++)u=f[c+(l-1)*t],d=f[c+l*t],i.addConstraint(e,r.create(a.extend({bodyA:u,bodyB:d},s))),o&&c>0&&(p=f[c-1+(l-1)*t],i.addConstraint(e,r.create(a.extend({bodyA:p,bodyB:d},s)))),o&&c<t-1&&(p=f[c+1+(l-1)*t],i.addConstraint(e,r.create(a.extend({bodyA:p,bodyB:d},s))))}return e.label+=" Mesh",e},o.pyramid=function(e,t,n,i,r,a,l){return o.stack(e,t,n,i,r,a,(function(t,o,a,c,u,d){var p=Math.min(i,Math.ceil(n/2)),f=u?u.bounds.max.x-u.bounds.min.x:0;if(!(c>p||a<(c=p-c)||a>n-1-c))return 1===d&&s.translate(u,{x:(a+(n%2==1?1:-1))*f,y:0}),l(e+(u?a*f:0)+a*r,o,a,c,u,d)}))},o.newtonsCradle=function(e,t,n,o,a){for(var s=i.create({label:"Newtons Cradle"}),c=0;c<n;c++){var u=l.circle(e+c*(1.9*o),t+a,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),d=r.create({pointA:{x:e+c*(1.9*o),y:t},bodyB:u});i.addBody(s,u),i.addConstraint(s,d)}return s},o.car=function(e,t,n,o,a){var c=s.nextGroup(!0),u=.5*-n+20,d=.5*n-20,p=i.create({label:"Car"}),f=l.rectangle(e,t,n,o,{collisionFilter:{group:c},chamfer:{radius:.5*o},density:2e-4}),v=l.circle(e+u,t+0,a,{collisionFilter:{group:c},friction:.8}),m=l.circle(e+d,t+0,a,{collisionFilter:{group:c},friction:.8}),g=r.create({bodyB:f,pointB:{x:u,y:0},bodyA:v,stiffness:1,length:0}),y=r.create({bodyB:f,pointB:{x:d,y:0},bodyA:m,stiffness:1,length:0});return i.addBody(p,f),i.addBody(p,v),i.addBody(p,m),i.addConstraint(p,g),i.addConstraint(p,y),p},o.softBody=function(e,t,n,i,r,s,c,u,d,p){d=a.extend({inertia:1/0},d),p=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},p);var f=o.stack(e,t,n,i,r,s,(function(e,t){return l.circle(e,t,u,d)}));return o.mesh(f,n,i,c,p),f.label="Soft Body",f}},{"../body/Body":1,"../body/Composite":2,"../constraint/Constraint":12,"../core/Common":14,"./Bodies":23}],25:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("../core/Common");o.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var o=(n+1)%e.length,a=i.normalise({x:e[o].y-e[n].y,y:e[n].x-e[o].x}),s=0===a.y?1/0:a.x/a.y;t[s=s.toFixed(3).toString()]=a}return r.values(t)},o.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),o=Math.sin(t),i=0;i<e.length;i++){var r,a=e[i];r=a.x*n-a.y*o,a.y=a.x*o+a.y*n,a.x=r}}},{"../core/Common":14,"../geometry/Vector":28}],26:[function(e,t,n){var o={};t.exports=o,o.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&o.update(t,e),t},o.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var o=0;o<t.length;o++){var i=t[o];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},o.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},o.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},o.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},o.shift=function(e,t){var n=e.max.x-e.min.x,o=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+o}},{}],27:[function(e,t,n){var o={};t.exports=o,e("../geometry/Bounds");var i=e("../core/Common");o.pathToVertices=function(e,t){"undefined"==typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,r,a,s,l,c,u,d,p,f,v,m=[],g=0,y=0,h=0;t=t||15;var x=function(e,t,n){var o=n%2==1&&n>1;if(!p||e!=p.x||t!=p.y){p&&o?(f=p.x,v=p.y):(f=0,v=0);var i={x:f+e,y:v+t};!o&&p||(p=i),m.push(i),y=f+e,h=v+t}},b=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,h=e.y;break;case"H":y=e.x;break;case"V":h=e.y}x(y,h,e.pathSegType)}};for(o._svgPathToAbsolute(e),a=e.getTotalLength(),c=[],n=0;n<e.pathSegList.numberOfItems;n+=1)c.push(e.pathSegList.getItem(n));for(u=c.concat();g<a;){if((l=c[e.getPathSegAtLength(g)])!=d){for(;u.length&&u[0]!=l;)b(u.shift());d=l}switch(l.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=e.getPointAtLength(g),x(s.x,s.y,0)}g+=t}for(n=0,r=u.length;n<r;++n)b(u[n]);return m},o._svgPathToAbsolute=function(e){for(var t,n,o,i,r,a,s=e.pathSegList,l=0,c=0,u=s.numberOfItems,d=0;d<u;++d){var p=s.getItem(d),f=p.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(f))"x"in p&&(l=p.x),"y"in p&&(c=p.y);else switch("x1"in p&&(o=l+p.x1),"x2"in p&&(r=l+p.x2),"y1"in p&&(i=c+p.y1),"y2"in p&&(a=c+p.y2),"x"in p&&(l+=p.x),"y"in p&&(c+=p.y),f){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(l,c),d);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(l,c),d);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(l),d);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(c),d);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(l,c,o,i,r,a),d);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(l,c,r,a),d);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(l,c,o,i),d);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(l,c),d);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(l,c,p.r1,p.r2,p.angle,p.largeArcFlag,p.sweepFlag),d);break;case"z":case"Z":l=t,c=n}"M"!=f&&"m"!=f||(t=l,n=c)}}},{"../core/Common":14,"../geometry/Bounds":26}],28:[function(e,t,n){var o={};t.exports=o,o.create=function(e,t){return{x:e||0,y:t||0}},o.clone=function(e){return{x:e.x,y:e.y}},o.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},o.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},o.rotate=function(e,t,n){var o=Math.cos(t),i=Math.sin(t);n||(n={});var r=e.x*o-e.y*i;return n.y=e.x*i+e.y*o,n.x=r,n},o.rotateAbout=function(e,t,n,o){var i=Math.cos(t),r=Math.sin(t);o||(o={});var a=n.x+((e.x-n.x)*i-(e.y-n.y)*r);return o.y=n.y+((e.x-n.x)*r+(e.y-n.y)*i),o.x=a,o},o.normalise=function(e){var t=o.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},o.dot=function(e,t){return e.x*t.x+e.y*t.y},o.cross=function(e,t){return e.x*t.y-e.y*t.x},o.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},o.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},o.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},o.mult=function(e,t){return{x:e.x*t,y:e.y*t}},o.div=function(e,t){return{x:e.x/t,y:e.y/t}},o.perp=function(e,t){return{x:(t=!0===t?-1:1)*-e.y,y:t*e.x}},o.neg=function(e){return{x:-e.x,y:-e.y}},o.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},o._temp=[o.create(),o.create(),o.create(),o.create(),o.create(),o.create()]},{}],29:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Vector"),r=e("../core/Common");o.create=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o],r={x:i.x,y:i.y,index:o,body:t,isInternal:!1};n.push(r)}return n},o.fromPath=function(e,t){var n=[];return e.replace(/L?\s*([\-\d\.e]+)[\s,]*([\-\d\.e]+)*/gi,(function(e,t,o){n.push({x:parseFloat(t),y:parseFloat(o)})})),o.create(n,t)},o.centre=function(e){for(var t,n,r,a=o.area(e,!0),s={x:0,y:0},l=0;l<e.length;l++)r=(l+1)%e.length,t=i.cross(e[l],e[r]),n=i.mult(i.add(e[l],e[r]),t),s=i.add(s,n);return i.div(s,6*a)},o.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},o.area=function(e,t){for(var n=0,o=e.length-1,i=0;i<e.length;i++)n+=(e[o].x-e[i].x)*(e[o].y+e[i].y),o=i;return t?n/2:Math.abs(n)/2},o.inertia=function(e,t){for(var n,o,r=0,a=0,s=e,l=0;l<s.length;l++)o=(l+1)%s.length,r+=(n=Math.abs(i.cross(s[o],s[l])))*(i.dot(s[o],s[o])+i.dot(s[o],s[l])+i.dot(s[l],s[l])),a+=n;return t/6*(r/a)},o.translate=function(e,t,n){var o;if(n)for(o=0;o<e.length;o++)e[o].x+=t.x*n,e[o].y+=t.y*n;else for(o=0;o<e.length;o++)e[o].x+=t.x,e[o].y+=t.y;return e},o.rotate=function(e,t,n){if(0!==t){for(var o=Math.cos(t),i=Math.sin(t),r=0;r<e.length;r++){var a=e[r],s=a.x-n.x,l=a.y-n.y;a.x=n.x+(s*o-l*i),a.y=n.y+(s*i+l*o)}return e}},o.contains=function(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=e[(n+1)%e.length];if((t.x-o.x)*(i.y-o.y)+(t.y-o.y)*(o.x-i.x)>0)return!1}return!0},o.scale=function(e,t,n,r){if(1===t&&1===n)return e;var a,s;r=r||o.centre(e);for(var l=0;l<e.length;l++)a=e[l],s=i.sub(a,r),e[l].x=r.x+s.x*t,e[l].y=r.y+s.y*n;return e},o.chamfer=function(e,t,n,o,a){t="number"==typeof t?[t]:t||[8],n=void 0!==n?n:-1,o=o||2,a=a||14;for(var s=[],l=0;l<e.length;l++){var c=e[l-1>=0?l-1:e.length-1],u=e[l],d=e[(l+1)%e.length],p=t[l<t.length?l:t.length-1];if(0!==p){var f=i.normalise({x:u.y-c.y,y:c.x-u.x}),v=i.normalise({x:d.y-u.y,y:u.x-d.x}),m=Math.sqrt(2*Math.pow(p,2)),g=i.mult(r.clone(f),p),y=i.normalise(i.mult(i.add(f,v),.5)),h=i.sub(u,i.mult(y,m)),x=n;-1===n&&(x=1.75*Math.pow(p,.32)),(x=r.clamp(x,o,a))%2==1&&(x+=1);for(var b=Math.acos(i.dot(f,v))/x,w=0;w<x;w++)s.push(i.add(i.rotate(g,b*w),h))}else s.push(u)}return s},o.clockwiseSort=function(e){var t=o.mean(e);return e.sort((function(e,n){return i.angle(t,e)-i.angle(t,n)})),e},o.isConvex=function(e){var t,n,o,i,r=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(o=(t+2)%a,i=(e[n=(t+1)%a].x-e[t].x)*(e[o].y-e[n].y),(i-=(e[n].y-e[t].y)*(e[o].x-e[n].x))<0?r|=1:i>0&&(r|=2),3===r)return!1;return 0!==r||null},o.hull=function(e){var t,n,o=[],r=[];for((e=e.slice(0)).sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){for(t=e[n];r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0;)r.pop();r.push(t)}for(n=e.length-1;n>=0;n-=1){for(t=e[n];o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0;)o.pop();o.push(t)}return o.pop(),r.pop(),o.concat(r)}},{"../core/Common":14,"../geometry/Vector":28}],30:[function(e,t,n){var o=t.exports=e("../core/Matter");o.Body=e("../body/Body"),o.Composite=e("../body/Composite"),o.World=e("../body/World"),o.Contact=e("../collision/Contact"),o.Detector=e("../collision/Detector"),o.Grid=e("../collision/Grid"),o.Pairs=e("../collision/Pairs"),o.Pair=e("../collision/Pair"),o.Query=e("../collision/Query"),o.Resolver=e("../collision/Resolver"),o.SAT=e("../collision/SAT"),o.Constraint=e("../constraint/Constraint"),o.MouseConstraint=e("../constraint/MouseConstraint"),o.Common=e("../core/Common"),o.Engine=e("../core/Engine"),o.Events=e("../core/Events"),o.Mouse=e("../core/Mouse"),o.Runner=e("../core/Runner"),o.Sleeping=e("../core/Sleeping"),o.Plugin=e("../core/Plugin"),o.Bodies=e("../factory/Bodies"),o.Composites=e("../factory/Composites"),o.Axes=e("../geometry/Axes"),o.Bounds=e("../geometry/Bounds"),o.Svg=e("../geometry/Svg"),o.Vector=e("../geometry/Vector"),o.Vertices=e("../geometry/Vertices"),o.Render=e("../render/Render"),o.RenderPixi=e("../render/RenderPixi"),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,o.Engine.run=o.Runner.run},{"../body/Body":1,"../body/Composite":2,"../body/World":3,"../collision/Contact":4,"../collision/Detector":5,"../collision/Grid":6,"../collision/Pair":7,"../collision/Pairs":8,"../collision/Query":9,"../collision/Resolver":10,"../collision/SAT":11,"../constraint/Constraint":12,"../constraint/MouseConstraint":13,"../core/Common":14,"../core/Engine":15,"../core/Events":16,"../core/Matter":17,"../core/Metrics":18,"../core/Mouse":19,"../core/Plugin":20,"../core/Runner":21,"../core/Sleeping":22,"../factory/Bodies":23,"../factory/Composites":24,"../geometry/Axes":25,"../geometry/Bounds":26,"../geometry/Svg":27,"../geometry/Vector":28,"../geometry/Vertices":29,"../render/Render":31,"../render/RenderPixi":32}],31:[function(e,t,n){var o={};t.exports=o;var i=e("../core/Common"),r=e("../body/Composite"),a=e("../geometry/Bounds"),s=e("../core/Events"),l=e("../collision/Grid"),c=e("../geometry/Vector"),u=e("../core/Mouse");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(i.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={controller:o,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#18181d",wireframeBackground:"#0f0f13",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},r=i.extend(t,e);return r.canvas&&(r.canvas.width=r.options.width||r.canvas.width,r.canvas.height=r.options.height||r.canvas.height),r.mouse=e.mouse,r.engine=e.engine,r.canvas=r.canvas||n(r.options.width,r.options.height),r.context=r.canvas.getContext("2d"),r.textures={},r.bounds=r.bounds||{min:{x:0,y:0},max:{x:r.canvas.width,y:r.canvas.height}},1!==r.options.pixelRatio&&o.setPixelRatio(r,r.options.pixelRatio),i.isElement(r.element)?r.element.appendChild(r.canvas):r.canvas.parentNode||i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),r},o.run=function(t){!function n(i){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.setPixelRatio=function(e,t){var n=e.options,o=e.canvas;"auto"===t&&(t=d(o)),n.pixelRatio=t,o.setAttribute("data-pixel-ratio",t),o.width=n.width*t,o.height=n.height*t,o.style.width=n.width+"px",o.style.height=n.height+"px",e.context.scale(t,t)},o.lookAt=function(e,t,n,o){o=void 0===o||o,t=i.isArray(t)?t:[t],n=n||{x:0,y:0};for(var r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<t.length;a+=1){var s=t[a],l=s.bounds?s.bounds.min:s.min||s.position||s,c=s.bounds?s.bounds.max:s.max||s.position||s;l&&c&&(l.x<r.min.x&&(r.min.x=l.x),c.x>r.max.x&&(r.max.x=c.x),l.y<r.min.y&&(r.min.y=l.y),c.y>r.max.y&&(r.max.y=c.y))}var d=r.max.x-r.min.x+2*n.x,p=r.max.y-r.min.y+2*n.y,f=e.canvas.height,v=e.canvas.width/f,m=d/p,g=1,y=1;m>v?y=m/v:g=v/m,e.options.hasBounds=!0,e.bounds.min.x=r.min.x,e.bounds.max.x=r.min.x+d*g,e.bounds.min.y=r.min.y,e.bounds.max.y=r.min.y+p*y,o&&(e.bounds.min.x+=.5*d-d*g*.5,e.bounds.max.x+=.5*d-d*g*.5,e.bounds.min.y+=.5*p-p*y*.5,e.bounds.max.y+=.5*p-p*y*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))},o.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,o=t/e.options.width,i=n/e.options.height;e.context.scale(1/o,1/i),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},o.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},o.world=function(e){var t,n=e.engine,i=n.world,d=e.canvas,p=e.context,v=e.options,m=r.allBodies(i),g=r.allConstraints(i),y=v.wireframes?v.wireframeBackground:v.background,h=[],x=[],b={timestamp:n.timing.timestamp};if(s.trigger(e,"beforeRender",b),e.currentBackground!==y&&f(e,y),p.globalCompositeOperation="source-in",p.fillStyle="transparent",p.fillRect(0,0,d.width,d.height),p.globalCompositeOperation="source-over",v.hasBounds){for(t=0;t<m.length;t++){var w=m[t];a.overlaps(w.bounds,e.bounds)&&h.push(w)}for(t=0;t<g.length;t++){var S=g[t],P=S.bodyA,C=S.bodyB,_=S.pointA,M=S.pointB;P&&(_=c.add(P.position,S.pointA)),C&&(M=c.add(C.position,S.pointB)),_&&M&&(a.contains(e.bounds,_)||a.contains(e.bounds,M))&&x.push(S)}o.startViewTransform(e),e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))}else x=g,h=m;!v.wireframes||n.enableSleeping&&v.showSleeping?o.bodies(e,h,p):(v.showConvexHulls&&o.bodyConvexHulls(e,h,p),o.bodyWireframes(e,h,p)),v.showBounds&&o.bodyBounds(e,h,p),(v.showAxes||v.showAngleIndicator)&&o.bodyAxes(e,h,p),v.showPositions&&o.bodyPositions(e,h,p),v.showVelocity&&o.bodyVelocity(e,h,p),v.showIds&&o.bodyIds(e,h,p),v.showSeparations&&o.separations(e,n.pairs.list,p),v.showCollisions&&o.collisions(e,n.pairs.list,p),v.showVertexNumbers&&o.vertexNumbers(e,h,p),v.showMousePosition&&o.mousePosition(e,e.mouse,p),o.constraints(x,p),v.showBroadphase&&n.broadphase.controller===l&&o.grid(e,n.broadphase,p),v.showDebug&&o.debug(e,p),v.hasBounds&&o.endViewTransform(e),s.trigger(e,"afterRender",b)},o.debug=function(e,t){var n=t,o=e.engine,i=o.world,a=o.metrics,s=e.options;if(r.allBodies(i),o.timing.timestamp-(e.debugTimestamp||0)>=500){var l="";a.timing&&(l+="fps: "+Math.round(a.timing.fps)+"    "),e.debugString=l,e.debugTimestamp=o.timing.timestamp}if(e.debugString){n.font="12px Arial",s.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var c=e.debugString.split("\n"),u=0;u<c.length;u++)n.fillText(c[u],50,50+18*u)}},o.constraints=function(e,t){for(var n=t,o=0;o<e.length;o++){var r=e[o];if(r.render.visible&&r.pointA&&r.pointB){var a,s,l=r.bodyA,u=r.bodyB;if(a=l?c.add(l.position,r.pointA):r.pointA,"pin"===r.render.type)n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath();else{if(s=u?c.add(u.position,r.pointB):r.pointB,n.beginPath(),n.moveTo(a.x,a.y),"spring"===r.render.type)for(var d,p=c.sub(s,a),f=c.perp(c.normalise(p)),v=Math.ceil(i.clamp(r.length/5,12,20)),m=1;m<v;m+=1)d=m%2==0?1:-1,n.lineTo(a.x+p.x*(m/v)+f.x*d*4,a.y+p.y*(m/v)+f.y*d*4);n.lineTo(s.x,s.y)}r.render.lineWidth&&(n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()),r.render.anchors&&(n.fillStyle=r.render.strokeStyle,n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},o.bodyShadows=function(e,t,n){for(var o=n,i=(e.engine,0);i<t.length;i++){var r=t[i];if(r.render.visible){if(r.circleRadius)o.beginPath(),o.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI),o.closePath();else{o.beginPath(),o.moveTo(r.vertices[0].x,r.vertices[0].y);for(var a=1;a<r.vertices.length;a++)o.lineTo(r.vertices[a].x,r.vertices[a].y);o.closePath()}var s=r.position.x-.5*e.options.width,l=r.position.y-.2*e.options.height,c=Math.abs(s)+Math.abs(l);o.shadowColor="rgba(0,0,0,0.15)",o.shadowOffsetX=.05*s,o.shadowOffsetY=.05*l,o.shadowBlur=1+12*Math.min(1,c/1e3),o.fill(),o.shadowColor=null,o.shadowOffsetX=null,o.shadowOffsetY=null,o.shadowBlur=null}}},o.bodies=function(e,t,n){var o,i,r,a,s=n,l=(e.engine,e.options),c=l.showInternalEdges||!l.wireframes;for(r=0;r<t.length;r++)if((o=t[r]).render.visible)for(a=o.parts.length>1?1:0;a<o.parts.length;a++)if((i=o.parts[a]).render.visible){if(l.showSleeping&&o.isSleeping?s.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(s.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!l.wireframes){var u=i.render.sprite,d=p(e,u.texture);s.translate(i.position.x,i.position.y),s.rotate(i.angle),s.drawImage(d,d.width*-u.xOffset*u.xScale,d.height*-u.yOffset*u.yScale,d.width*u.xScale,d.height*u.yScale),s.rotate(-i.angle),s.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)s.beginPath(),s.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(i.vertices[0].x,i.vertices[0].y);for(var f=1;f<i.vertices.length;f++)!i.vertices[f-1].isInternal||c?s.lineTo(i.vertices[f].x,i.vertices[f].y):s.moveTo(i.vertices[f].x,i.vertices[f].y),i.vertices[f].isInternal&&!c&&s.moveTo(i.vertices[(f+1)%i.vertices.length].x,i.vertices[(f+1)%i.vertices.length].y);s.lineTo(i.vertices[0].x,i.vertices[0].y),s.closePath()}l.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb",s.stroke()):(s.fillStyle=i.render.fillStyle,i.render.lineWidth&&(s.lineWidth=i.render.lineWidth,s.strokeStyle=i.render.strokeStyle,s.stroke()),s.fill())}s.globalAlpha=1}},o.bodyWireframes=function(e,t,n){var o,i,r,a,s,l=n,c=e.options.showInternalEdges;for(l.beginPath(),r=0;r<t.length;r++)if((o=t[r]).render.visible)for(s=o.parts.length>1?1:0;s<o.parts.length;s++){for(i=o.parts[s],l.moveTo(i.vertices[0].x,i.vertices[0].y),a=1;a<i.vertices.length;a++)!i.vertices[a-1].isInternal||c?l.lineTo(i.vertices[a].x,i.vertices[a].y):l.moveTo(i.vertices[a].x,i.vertices[a].y),i.vertices[a].isInternal&&!c&&l.moveTo(i.vertices[(a+1)%i.vertices.length].x,i.vertices[(a+1)%i.vertices.length].y);l.lineTo(i.vertices[0].x,i.vertices[0].y)}l.lineWidth=1,l.strokeStyle="#bbb",l.stroke()},o.bodyConvexHulls=function(e,t,n){var o,i,r,a=n;for(a.beginPath(),i=0;i<t.length;i++)if((o=t[i]).render.visible&&1!==o.parts.length){for(a.moveTo(o.vertices[0].x,o.vertices[0].y),r=1;r<o.vertices.length;r++)a.lineTo(o.vertices[r].x,o.vertices[r].y);a.lineTo(o.vertices[0].x,o.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},o.vertexNumbers=function(e,t,n){var o,i,r,a=n;for(o=0;o<t.length;o++){var s=t[o].parts;for(r=s.length>1?1:0;r<s.length;r++){var l=s[r];for(i=0;i<l.vertices.length;i++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(o+"_"+i,l.position.x+.8*(l.vertices[i].x-l.position.x),l.position.y+.8*(l.vertices[i].y-l.position.y))}}},o.mousePosition=function(e,t,n){var o=n;o.fillStyle="rgba(255,255,255,0.8)",o.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},o.bodyBounds=function(e,t,n){var o=n,i=(e.engine,e.options);o.beginPath();for(var r=0;r<t.length;r++)if(t[r].render.visible)for(var a=t[r].parts,s=a.length>1?1:0;s<a.length;s++){var l=a[s];o.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}i.wireframes?o.strokeStyle="rgba(255,255,255,0.08)":o.strokeStyle="rgba(0,0,0,0.1)",o.lineWidth=1,o.stroke()},o.bodyAxes=function(e,t,n){var o,i,r,a,s=n,l=(e.engine,e.options);for(s.beginPath(),i=0;i<t.length;i++){var c=t[i],u=c.parts;if(c.render.visible)if(l.showAxes)for(r=u.length>1?1:0;r<u.length;r++)for(o=u[r],a=0;a<o.axes.length;a++){var d=o.axes[a];s.moveTo(o.position.x,o.position.y),s.lineTo(o.position.x+20*d.x,o.position.y+20*d.y)}else for(r=u.length>1?1:0;r<u.length;r++)for(o=u[r],a=0;a<o.axes.length;a++)s.moveTo(o.position.x,o.position.y),s.lineTo((o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}l.wireframes?(s.strokeStyle="indianred",s.lineWidth=1):(s.strokeStyle="rgba(255, 255, 255, 0.4)",s.globalCompositeOperation="overlay",s.lineWidth=2),s.stroke(),s.globalCompositeOperation="source-over"},o.bodyPositions=function(e,t,n){var o,i,r,a,s=n,l=(e.engine,e.options);for(s.beginPath(),r=0;r<t.length;r++)if((o=t[r]).render.visible)for(a=0;a<o.parts.length;a++)i=o.parts[a],s.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),s.closePath();for(l.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),r=0;r<t.length;r++)(o=t[r]).render.visible&&(s.arc(o.positionPrev.x,o.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},o.bodyVelocity=function(e,t,n){var o=n;o.beginPath();for(var i=0;i<t.length;i++){var r=t[i];r.render.visible&&(o.moveTo(r.position.x,r.position.y),o.lineTo(r.position.x+2*(r.position.x-r.positionPrev.x),r.position.y+2*(r.position.y-r.positionPrev.y)))}o.lineWidth=3,o.strokeStyle="cornflowerblue",o.stroke()},o.bodyIds=function(e,t,n){var o,i,r=n;for(o=0;o<t.length;o++)if(t[o].render.visible){var a=t[o].parts;for(i=a.length>1?1:0;i<a.length;i++){var s=a[i];r.font="12px Arial",r.fillStyle="rgba(255,255,255,0.5)",r.fillText(s.id,s.position.x+10,s.position.y-10)}}},o.collisions=function(e,t,n){var o,i,r,a,s=n,l=e.options;for(s.beginPath(),r=0;r<t.length;r++)if((o=t[r]).isActive)for(i=o.collision,a=0;a<o.activeContacts.length;a++){var c=o.activeContacts[a].vertex;s.rect(c.x-1.5,c.y-1.5,3.5,3.5)}for(l.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),r=0;r<t.length;r++)if((o=t[r]).isActive&&(i=o.collision,o.activeContacts.length>0)){var u=o.activeContacts[0].vertex.x,d=o.activeContacts[0].vertex.y;2===o.activeContacts.length&&(u=(o.activeContacts[0].vertex.x+o.activeContacts[1].vertex.x)/2,d=(o.activeContacts[0].vertex.y+o.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?s.moveTo(u-8*i.normal.x,d-8*i.normal.y):s.moveTo(u+8*i.normal.x,d+8*i.normal.y),s.lineTo(u,d)}l.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},o.separations=function(e,t,n){var o,i,r,a,s,l=n,c=e.options;for(l.beginPath(),s=0;s<t.length;s++)if((o=t[s]).isActive){r=(i=o.collision).bodyA;var u=1;(a=i.bodyB).isStatic||r.isStatic||(u=.5),a.isStatic&&(u=0),l.moveTo(a.position.x,a.position.y),l.lineTo(a.position.x-i.penetration.x*u,a.position.y-i.penetration.y*u),u=1,a.isStatic||r.isStatic||(u=.5),r.isStatic&&(u=0),l.moveTo(r.position.x,r.position.y),l.lineTo(r.position.x+i.penetration.x*u,r.position.y+i.penetration.y*u)}c.wireframes?l.strokeStyle="rgba(255,165,0,0.5)":l.strokeStyle="orange",l.stroke()},o.grid=function(e,t,n){var o=n;e.options.wireframes?o.strokeStyle="rgba(255,180,0,0.1)":o.strokeStyle="rgba(255,180,0,0.5)",o.beginPath();for(var r=i.keys(t.buckets),a=0;a<r.length;a++){var s=r[a];if(!(t.buckets[s].length<2)){var l=s.split(/C|R/);o.rect(.5+parseInt(l[1],10)*t.bucketWidth,.5+parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}o.lineWidth=1,o.stroke()},o.inspector=function(e,t){e.engine;var n,o=e.selected,i=e.render,r=i.options;if(r.hasBounds){var a=i.bounds.max.x-i.bounds.min.x,s=i.bounds.max.y-i.bounds.min.y,l=a/i.options.width,c=s/i.options.height;t.scale(1/l,1/c),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var u=0;u<o.length;u++){var d=o[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var p=d.pointA;d.bodyA&&(p=d.pointB),t.beginPath(),t.arc(p.x,p.y,10,0,2*Math.PI),t.closePath(),t.stroke()}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),r.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(e){var t=e.getContext("2d");return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)},p=function(e,t){var n=e.textures[t];return n||((n=e.textures[t]=new Image).src=t,n)},f=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}}()},{"../body/Composite":2,"../collision/Grid":6,"../core/Common":14,"../core/Events":16,"../core/Mouse":19,"../geometry/Bounds":26,"../geometry/Vector":28}],32:[function(e,t,n){var o={};t.exports=o;var i=e("../geometry/Bounds"),r=e("../body/Composite"),a=e("../core/Common"),s=e("../core/Events"),l=e("../geometry/Vector");!function(){var e,t;"undefined"!=typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(a.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){a.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:o,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=a.extend(t,e),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},s.on(n.engine,"beforeUpdate",(function(){o.clear(n)})),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),a.isElement(n.element)?n.element.appendChild(n.canvas):a.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},o.run=function(t){!function n(i){t.frameRequestId=e(n),o.world(t)}()},o.stop=function(e){t(e.frameRequestId)},o.clear=function(e){for(var t=e.container,n=e.spriteContainer;t.children[0];)t.removeChild(t.children[0]);for(;n.children[0];)n.removeChild(n.children[0]);var o=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=o,o&&t.addChildAt(o,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},o.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),o=e.sprites["bg-0"];if(n){var i=a.colorToNumber(t);e.renderer.backgroundColor=i,o&&e.container.removeChild(o)}else if(!o){var r=u(e,t);(o=e.sprites["bg-0"]=new PIXI.Sprite(r)).position.x=0,o.position.y=0,e.container.addChildAt(o,0)}e.currentBackground=t}},o.world=function(e){var t,n=e.engine.world,a=e.renderer,s=e.container,c=e.options,u=r.allBodies(n),d=r.allConstraints(n),p=[];c.wireframes?o.setBackground(e,c.wireframeBackground):o.setBackground(e,c.background);var f=e.bounds.max.x-e.bounds.min.x,v=e.bounds.max.y-e.bounds.min.y,m=f/e.options.width,g=v/e.options.height;if(c.hasBounds){for(t=0;t<u.length;t++){var y=u[t];y.render.sprite.visible=i.overlaps(y.bounds,e.bounds)}for(t=0;t<d.length;t++){var h=d[t],x=h.bodyA,b=h.bodyB,w=h.pointA,S=h.pointB;x&&(w=l.add(x.position,h.pointA)),b&&(S=l.add(b.position,h.pointB)),w&&S&&(i.contains(e.bounds,w)||i.contains(e.bounds,S))&&p.push(h)}s.scale.set(1/m,1/g),s.position.set(-e.bounds.min.x*(1/m),-e.bounds.min.y*(1/g))}else p=d;for(t=0;t<u.length;t++)o.body(e,u[t]);for(t=0;t<p.length;t++)o.constraint(e,p[t]);a.render(s)},o.constraint=function(e,t){e.engine;var n=t.bodyA,o=t.bodyB,i=t.pointA,r=t.pointB,s=e.container,l=t.render,c="c-"+t.id,u=e.primitives[c];u||(u=e.primitives[c]=new PIXI.Graphics),l.visible&&t.pointA&&t.pointB?(-1===a.indexOf(s.children,u)&&s.addChild(u),u.clear(),u.beginFill(0,0),u.lineStyle(l.lineWidth,a.colorToNumber(l.strokeStyle),1),n?u.moveTo(n.position.x+i.x,n.position.y+i.y):u.moveTo(i.x,i.y),o?u.lineTo(o.position.x+r.x,o.position.y+r.y):u.lineTo(r.x,r.y),u.endFill()):u.clear()},o.body=function(e,t){e.engine;var o=t.render;if(o.visible)if(o.sprite&&o.sprite.texture){var i="b-"+t.id,r=e.sprites[i],s=e.spriteContainer;r||(r=e.sprites[i]=n(e,t)),-1===a.indexOf(s.children,r)&&s.addChild(r),r.position.x=t.position.x,r.position.y=t.position.y,r.rotation=t.angle,r.scale.x=o.sprite.xScale||1,r.scale.y=o.sprite.yScale||1}else{var l="b-"+t.id,u=e.primitives[l],d=e.container;u||((u=e.primitives[l]=c(e,t)).initialAngle=t.angle),-1===a.indexOf(d.children,u)&&d.addChild(u),u.position.x=t.position.x,u.position.y=t.position.y,u.rotation=t.angle-u.initialAngle}};var n=function(e,t){var n=t.render.sprite.texture,o=u(e,n),i=new PIXI.Sprite(o);return i.anchor.x=t.render.sprite.xOffset,i.anchor.y=t.render.sprite.yOffset,i},c=function(e,t){var n,o=t.render,i=e.options,r=new PIXI.Graphics,s=a.colorToNumber(o.fillStyle),l=a.colorToNumber(o.strokeStyle),c=a.colorToNumber(o.strokeStyle),u=a.colorToNumber("#bbb"),d=a.colorToNumber("#CD5C5C");r.clear();for(var p=t.parts.length>1?1:0;p<t.parts.length;p++){n=t.parts[p],i.wireframes?(r.beginFill(0,0),r.lineStyle(1,u,1)):(r.beginFill(s,1),r.lineStyle(o.lineWidth,l,1)),r.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var f=1;f<n.vertices.length;f++)r.lineTo(n.vertices[f].x-t.position.x,n.vertices[f].y-t.position.y);r.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),r.endFill(),(i.showAngleIndicator||i.showAxes)&&(r.beginFill(0,0),i.wireframes?r.lineStyle(1,d,1):r.lineStyle(1,c),r.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),r.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),r.endFill())}return r},u=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}}()},{"../body/Composite":2,"../core/Common":14,"../core/Events":16,"../geometry/Bounds":26,"../geometry/Vector":28}]},{},[30])(30)}).call(this,n(7))},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyAntiGravity=t.applyAntiGravityTwoBody=t.antiGravity=t.antiGravityRanged=t.antiGravityManhattan=void 0;var s=a(n(1)),l=r(n(0));t.antiGravityManhattan=function(e,t,n){void 0===n&&(n=100);var o=n,i=l.distHoriz(e.position,t.position),r=l.distVerti(e.position,t.position),a=.5*(Math.sqrt(e.area)+Math.sqrt(t.area));return{x:i<1.5*a?o/(1e3+Math.pow(i,2)):0,y:r<1.5*a?o/(1e3+Math.pow(r,2)):0}},t.antiGravityRanged=function(e,t,n,o){void 0===n&&(n=100),void 0===o&&(o=3);var i=l.distEuclid(e.position,t.position),r=i<o*(.5*(Math.sqrt(e.area)+Math.sqrt(t.area)))?n/Math.pow(i,2):0,a=l.unitVec(e.position,t.position);return{x:r*a.x,y:r*a.y}},t.antiGravity=function(e,t,n){void 0===n&&(n=100);var o=l.distEuclid(e.position,t.position),i=n/Math.pow(o,2),r=l.unitVec(e.position,t.position);return{x:i*r.x,y:i*r.y}},t.applyAntiGravityTwoBody=function(e,n,o){var i,r;if(!n.isStatic&&!o.isStatic){var a=(i=n,r=o,t.antiGravityRanged(i,r,e.repulsionCoeff,e.repulsionRange));s.default.Body.applyForce(o,o.position,a),s.default.Body.applyForce(n,n.position,l.negate(a))}},t.applyAntiGravity=function(e,n){for(var o=0;o<n.length;o++)for(var i=o+1;i<n.length;i++)t.applyAntiGravityTwoBody(e,n[o],n[i])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=function(){function e(e){"number"==typeof e?(this.len=e,this.translate=new Map(o.range(e).map((function(e,t){return[t,t]})))):(this.len=e.length,this.translate=new Map(e.map((function(e,t){return[e,t]})))),this.parent=o.range(this.len).map((function(e){return-1}))}return e.prototype._isRoot=function(e){return this.parent[e]<0},e.prototype._root=function(e){for(;!this._isRoot(e);)e=this.parent[e];return e},e.prototype._depth=function(e){return-this.parent[this._root(e)]},e.prototype._index=function(e){var t,n=this.translate.get(e);return void 0===n?(t=this.len,this.translate.set(e,t),this.len+=1):t=n,t},e.prototype.areConnected=function(e,t){var n=this._index(e),o=this._index(t);return this._root(n)==this._root(o)},e.prototype.connect=function(e,t){var n=this._index(e),o=this._index(t);if(this._depth(n)<this._depth(o))return this.connect(t,e);var i=this._root(n),r=this._root(o);return i!=r&&(this.parent[i]+=this.parent[r],this.parent[r]=i,!0)},e.prototype.getRootAll=function(){var e=this;return o.range(this.len).map((function(t){return e._root(t)}))},e}();t.default=i;!function(){function e(e){var t=this;this.counter=new Map,e&&e.forEach((function(e){return t.add(e)}))}e.prototype.add=function(e){var t;this.counter.set(e,(null!==(t=this.counter.get(e))&&void 0!==t?t:0)+1)},e.prototype.get=function(e){var t;return null!==(t=this.counter.get(e))&&void 0!==t?t:0},e.prototype.has=function(e){return this.counter.has(e)},e.prototype.clear=function(){this.counter.clear()}}()},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyGrouping=t.applyAntiGravityDisjoint=void 0;var s=a(n(1)),l=n(2),c=r(n(0));t.applyAntiGravityDisjoint=function(e,t,n,o){for(var i,r,a=0;a<t.length;a++)for(var u=a+1;u<t.length;u++){var d=t[a],p=t[u];if(!d.isStatic&&!p.isStatic){var f=(i=d,r=p,l.antiGravityRanged(i,r,e.repulsionCoeff,e.repulsionRange));n.areConnected(a,u)&&(f.x=0),o.areConnected(a,u)&&(f.y=0),s.default.Body.applyForce(p,p.position,f),s.default.Body.applyForce(d,d.position,c.negate(f))}}};var u=function(e,t,n){var o,i;if(!t.isStatic&&!n.isStatic){var r=(o=t,i=n,l.antiGravity(o,i,e.groupingCoeff));(c.areSameWidth(t,n)||c.areSameHeight(t,n))&&(r=c.negate(r)),s.default.Body.applyForce(n,n.position,r),s.default.Body.applyForce(t,t.position,c.negate(r))}};t.applyGrouping=function(e,t){for(var n=0;n<t.length;n++)for(var o=n+1;o<t.length;o++)u(e,t[n],t[o])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n(6).Knollbot.run()},function(e,t,n){"use strict";var o=this&&this.__assign||function(){return(o=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),r=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return r(t,e),t},s=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))((function(i,r){function a(e){try{l(o.next(e))}catch(e){r(e)}}function s(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,s)}l((o=o.apply(e,t||[])).next())}))},l=this&&this.__generator||function(e,t){var n,o,i,r,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return r={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r;function s(r){return function(s){return function(r){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,o&&(i=2&r[0]?o.return:r[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,r[1])).done)return i;switch(o=0,i&&(r=[2&r[0],i.value]),r[0]){case 0:case 1:i=r;break;case 4:return a.label++,{value:r[1],done:!1};case 5:a.label++,o=r[1],r=[0];continue;case 7:r=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==r[0]&&2!==r[0])){a=0;continue}if(3===r[0]&&(!i||r[1]>i[0]&&r[1]<i[3])){a.label=r[1];break}if(6===r[0]&&a.label<i[1]){a.label=i[1],i=r;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(r);break}i[2]&&a.ops.pop(),a.trys.pop();continue}r=t.call(e,a)}catch(e){r=[6,e],o=0}finally{n=i=0}if(5&r[0])throw r[1];return{value:r[0]?r[1]:void 0,done:!0}}([r,s])}}},c=this&&this.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var o=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],a=0,s=r.length;a<s;a++,i++)o[i]=r[a];return o},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Knollbot=void 0;var d=u(n(1)),p=n(8),f=a(n(0)),v=a(n(2)),m=a(n(9)),g=a(n(4)),y=a(n(11));!function(e){var t=this;e.run=function(){var e=d.default.Engine.create(),n=e.world,i=d.default.Runner.create();n.forceOn=!0,n.gravity.y=0;var r=document.documentElement.clientWidth-20,a=document.documentElement.clientHeight-20,u=Math.floor(r/2),h=Math.floor(a/2),x=Math.floor(100)-5;p.imgPaths.length;n.pokeScale=p.params.pokeScale,n.pokeDecay=p.params.pokeDecay,n.alignmentForceCoeff=p.params.alignmentForceCoeff,n.alignmentForceRange=p.params.alignmentForceRange,n.alignmentForceWallRange=p.params.alignmentForceWallRange,n.repulsionCoeff=p.params.repulsionCoeff,n.repulsionRange=p.params.repulsionRange,n.groupingCoeff=p.params.groupingCoeff;var b,w=d.default.Render.create({element:document.body,engine:e,options:{width:r,height:a,showVelocity:!1,wireframes:!1,background:"#247c41"}}),S={inertia:1/0,frictionAir:p.params.frictionAir,friction:p.params.friction},P=Promise.all(p.imgPaths.map((function(e){return s(t,void 0,void 0,(function(){var t,n,i,s,c,u;return l(this,(function(l){switch(l.label){case 0:return[4,(p=e,new Promise((function(e,t){var n=new Image;n.onload=function(){var t=n.naturalWidth,o=n.naturalHeight;e({width:t,height:o})},n.onerror=function(){t("There was some problem with the image.")},n.src=p})))];case 1:return t=l.sent(),n=x+t.width/2,i=x+t.height/2,s=f.randRange(n,r-n),c=f.randRange(i,a-i),u=o(o({},S),{render:{sprite:{texture:e}}}),[2,d.default.Bodies.rectangle(s,c,t.width,t.height,u)]}var p}))}))}))),C={isStatic:!0,friction:p.params.wallFriction},_=d.default.Bodies.rectangle(u,-x,r+100,200,C),M=d.default.Bodies.rectangle(u,a+x,r+100,200,C),A=d.default.Bodies.rectangle(-x,h,200,a+100,C),B=d.default.Bodies.rectangle(r+x,h,200,a+100,C),k=d.default.Mouse.create(w.canvas),I=d.default.Constraint.create({pointA:k.position,pointB:{x:0,y:0},stiffness:.2,render:{visible:!1}}),T=d.default.MouseConstraint.create(e,{mouse:k,constraint:I});s(t,void 0,void 0,(function(){var t;return l(this,(function(o){switch(o.label){case 0:return[4,P];case 1:return t=o.sent(),b=c(t,[_,M,A,B]),d.default.World.add(n,b),d.default.World.add(n,T),d.default.Runner.run(i,e),d.default.Render.run(w),[2]}}))}));var R=0;return d.default.Events.on(e,"beforeUpdate",(function(e){(R+=1)%300==0&&console.log("counter: ",R),n.forceOn&&(R<180?g.applyGrouping(n,b):R<240?v.applyAntiGravity(n,b):m.applyAlignment(n,b),R%10==9&&(n.pokeScale*=n.pokeDecay),y.applyRandomPokes(n,b))})),document.addEventListener("keydown",(function(e){"Space"===e.code&&(n.forceOn=!n.forceOn,console.log("Toggled force: forceOn is "+n.forceOn+" now"))})),document.addEventListener("dblclick",(function(){console.log("--- Double click at t="+R+" ---"),b.filter((function(e){return!e.isStatic&&d.default.Bounds.contains(e.bounds,k.position)})).forEach((function(e){return d.default.Body.rotate(e,Math.PI/2)}))})),document.addEventListener("touchmove",(function(e){var t,n=e.changedTouches.item(0),o=Math.PI/180*(null!==(t=null==n?void 0:n.rotationAngle)&&void 0!==t?t:0);console.log("--- Touch rotation activated at t="+R+" ---"),console.log("    rotation angle = "+(null==n?void 0:n.rotationAngle)+" (deg)"),b.filter((function(e){return!e.isStatic&&d.default.Bounds.contains(e.bounds,k.position)})).forEach((function(e){return d.default.Body.rotate(e,o)}))})),{engine:e,runner:i,render:w,canvas:w.canvas,stop:function(){d.default.Render.stop(w),d.default.Runner.stop(i)}}}}(t.Knollbot||(t.Knollbot={}))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.params=t.imgPaths=void 0;t.imgPaths=["blue_1x2.png","blue_1x2.png","blue_1x2.png","blue_1x2.png","blue_1x2.png","blue_1x3.png","blue_1x3.png","green_1x2.png","green_1x2.png","green_1x2.png","green_1x2.png","green_2x2.png","green_2x2.png","orange_2x1.png","orange_2x1.png","orange_2x1.png","orange_2x1.png","orange_2x1.png","orange_2x1.png","orange_2x3.png","orange_2x3.png","red_1x4.png","red_1x4.png","red_1x4.png","red_2x2.png","red_2x2.png","yellow_2x1.png","yellow_2x1.png","yellow_2x1.png","yellow_2x1.png","yellow_2x1.png","yellow_3x2.png","yellow_3x2.png","yellow_3x2.png"].map((function(e){return"./public/lego/"+e})),t.params={frictionAir:.01,friction:0,wallFriction:.01,pokeScale:.05,pokeDecay:.95,alignmentForceCoeff:.001,alignmentForceRange:30,alignmentForceWallRange:15,repulsionCoeff:100,repulsionRange:3,groupingCoeff:400}},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyAlignment=void 0;var s=a(n(1)),l=r(n(0)),c=n(10),u=a(n(3)),d=r(n(4)),p=function(e,t,n){for(var o=[],i=0;i<t.length;i++)for(var r=i+1;r<t.length;r++){var a=t[i],s=t[r],c=n(a,s),u=c[0],d=c[1],p=c[2];if(p<e.alignmentForceRange&&(!a.isStatic||!s.isStatic)){var f={weight:p,pair:l.makeUnorderedPair(i,r),posSrc:u,posTgt:d,idxSrc:i,idxTgt:r};o.push(f)}}return{vertices:l.range(t.length),edges:o}},f=function(e,t,n){var o=n.posSrc.x<n.posTgt.x?-1:1,i=n.weight,r={x:e.alignmentForceCoeff*o*i,y:0},a=t[n.idxSrc],c=t[n.idxTgt];s.default.Body.applyForce(c,c.position,r),s.default.Body.applyForce(a,a.position,l.negate(r))},v=function(e,t,n){var o=n.posSrc.y<n.posTgt.y?-1:1,i=n.weight,r={x:0,y:e.alignmentForceCoeff*o*i},a=t[n.idxSrc],c=t[n.idxTgt];s.default.Body.applyForce(c,c.position,r),s.default.Body.applyForce(a,a.position,l.negate(r))},m=function(e,t){var n=function(e,t){return p(e,t,l.cloestPointPairX)}(e,t),o=function(e,t){return p(e,t,l.cloestPointPairY)}(e,t),i=c.kruskal(n),r=c.kruskal(o);i.forEach((function(n){return f(e,t,n)})),r.forEach((function(n){return v(e,t,n)}));var a=new u.default(n.vertices);n.edges.forEach((function(e){a.connect(e.idxSrc,e.idxTgt)}));var s=new u.default(o.vertices);o.edges.forEach((function(e){s.connect(e.idxSrc,e.idxTgt)})),d.applyAntiGravityDisjoint(e,t,a,s)},g=function(e,t,n){for(var o=[],i=t.length-4,r=0;r<i;r++)for(var a=0;a<4;a++){var s=r,c=a+i,u=n(t[s],t[c]),d=u[0],p=u[1],f=u[2];if(f<e.alignmentForceWallRange){var v={weight:f,pair:{first:s,second:c},posSrc:d,posTgt:p,idxSrc:s,idxTgt:c};o.push(v)}}return{vertices:l.range(t.length),edges:o}};t.applyAlignment=function(e,t){!function(e,t){var n=g(e,t,l.cloestPointPairX),o=g(e,t,l.cloestPointPairY);n.edges.forEach((function(n){return f(e,t,n)})),o.edges.forEach((function(n){return v(e,t,n)}))}(e,t);var n=t.slice(0,t.length-4);m(e,n)}},function(e,t,n){"use strict";var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.kruskal=void 0;var i=o(n(3));t.kruskal=function(e){for(var t=new i.default(e.vertices),n=[],o=0,r=e.edges.sort((function(e,t){return e.weight-t.weight}));o<r.length;o++){var a=r[o],s=a.pair.first,l=a.pair.second;t.areConnected(s,l)||(t.connect(s,l),n.push(a))}return n}},function(e,t,n){"use strict";var o=this&&this.__createBinding||(Object.create?function(e,t,n,o){void 0===o&&(o=n),Object.defineProperty(e,o,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,o){void 0===o&&(o=n),e[o]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),r=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.applyRandomPokes=void 0;var s=a(n(1)),l=r(n(0));t.applyRandomPokes=function(e,t){t.forEach((function(t){return function(e,t){t.isStatic||s.default.Body.applyForce(t,t.position,{x:e.pokeScale*l.randn(),y:e.pokeScale*l.randn()})}(e,t)}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9tYXR0ZXItanMvYnVpbGQvbWF0dGVyLmpzIiwid2VicGFjazovLy8uL3NyYy9yZXB1bHNpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3VuaW9uZmluZC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy9rbm9sbGJvdC50cyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vZ2xvYmFsLmpzIiwid2VicGFjazovLy8uL3NyYy9jb25maWcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FsaWdubWVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZ3JhcGgudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3JhbmRvbXBva2VzLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiYXJyTWF4IiwieHMiLCJyZWR1Y2UiLCJhY2MiLCJ4IiwiTWF0aCIsIm1heCIsIkluZmluaXR5IiwiYXJyTWluIiwibWluIiwiYXJyU3VtIiwiYXJyTWVhbiIsImxlbmd0aCIsImFyck1ldGFCeSIsImYiLCJ5cyIsIm1hcCIsInltYXgiLCJyZXMiLCJBcnJheSIsInB1c2giLCJhcnJNYXhCeSIsImFyck1pbkJ5IiwidmVjdG9yTWVhbiIsInZlYyIsInYiLCJ5IiwicmlnaHRtb3N0UG9pbnQiLCJwb2ludHMiLCJsZWZ0bW9zdFBvaW50IiwidG9wbW9zdFBvaW50IiwiYm90dG9tbW9zdFBvaW50IiwiZGlzdEhvcml6IiwicG9pbnRBIiwicG9pbnRCIiwiYWJzIiwiZGlzdFZlcnRpIiwiZGlzdEV1Y2xpZCIsImh5cG90IiwiY2xvZXN0UG9pbnRNZXRhIiwidGhpc18iLCJ0aGF0IiwiZWRnZUEiLCJlZGdlQiIsImRpc3RGdW5jIiwidGhpc0EiLCJ2ZXJ0aWNlcyIsInRoaXNCIiwidGhhdEEiLCJ0aGF0QiIsImRpc3QiLCJwMSIsInAyIiwiY2xvZXN0UG9pbnRQYWlyWCIsImJvZHkxIiwiYm9keTIiLCJjbG9lc3RQb2ludFBhaXJZIiwicmFuZ2UiLCJzaXplIiwiZmxvb3IiLCJmcm9tIiwia2V5cyIsInJhbmRSYW5nZSIsImxvIiwiaGkiLCJ1bml0IiwiYSIsImIiLCJyYW5kb20iLCJyYW5kbiIsInUiLCJudW0iLCJzcXJ0IiwibG9nIiwiY29zIiwiUEkiLCJ1bml0VmVjIiwidG8iLCJub3JtYWxpemUiLCJub3JtIiwibmVnYXRlIiwibWFrZVVub3JkZXJlZFBhaXIiLCJmaXJzdCIsInNlY29uZCIsImdldFdpZHRoIiwiYmxvY2siLCJnZXRIZWlnaHQiLCJhcmVTYW1lSGVpZ2h0IiwiZm9vIiwiYmFyIiwiYXJlU2FtZVdpZHRoIiwiZSIsIkVycm9yIiwiY29kZSIsIjEiLCJfZGVyZXFfIiwiQm9keSIsIlZlcnRpY2VzIiwiVmVjdG9yIiwiU2xlZXBpbmciLCJDb21tb24iLCJCb3VuZHMiLCJBeGVzIiwiX2luZXJ0aWFTY2FsZSIsIl9uZXh0Q29sbGlkaW5nR3JvdXBJZCIsIl9uZXh0Tm9uQ29sbGlkaW5nR3JvdXBJZCIsIl9uZXh0Q2F0ZWdvcnkiLCJvcHRpb25zIiwiZGVmYXVsdHMiLCJpZCIsIm5leHRJZCIsInR5cGUiLCJsYWJlbCIsInBhcnRzIiwicGx1Z2luIiwiYW5nbGUiLCJmcm9tUGF0aCIsInBvc2l0aW9uIiwiZm9yY2UiLCJ0b3JxdWUiLCJwb3NpdGlvbkltcHVsc2UiLCJjb25zdHJhaW50SW1wdWxzZSIsInRvdGFsQ29udGFjdHMiLCJzcGVlZCIsImFuZ3VsYXJTcGVlZCIsInZlbG9jaXR5IiwiYW5ndWxhclZlbG9jaXR5IiwiaXNTZW5zb3IiLCJpc1N0YXRpYyIsImlzU2xlZXBpbmciLCJtb3Rpb24iLCJzbGVlcFRocmVzaG9sZCIsImRlbnNpdHkiLCJyZXN0aXR1dGlvbiIsImZyaWN0aW9uIiwiZnJpY3Rpb25TdGF0aWMiLCJmcmljdGlvbkFpciIsImNvbGxpc2lvbkZpbHRlciIsImNhdGVnb3J5IiwibWFzayIsImdyb3VwIiwic2xvcCIsInRpbWVTY2FsZSIsInJlbmRlciIsInZpc2libGUiLCJvcGFjaXR5Iiwic3ByaXRlIiwieFNjYWxlIiwieVNjYWxlIiwieE9mZnNldCIsInlPZmZzZXQiLCJsaW5lV2lkdGgiLCJib2R5IiwiZXh0ZW5kIiwiX2luaXRQcm9wZXJ0aWVzIiwibmV4dEdyb3VwIiwiaXNOb25Db2xsaWRpbmciLCJuZXh0Q2F0ZWdvcnkiLCJzZXQiLCJib3VuZHMiLCJwb3NpdGlvblByZXYiLCJjbG9uZSIsImFuZ2xlUHJldiIsInBhcmVudCIsInJvdGF0ZSIsImF4ZXMiLCJ1cGRhdGUiLCJhcmVhIiwibWFzcyIsImluZXJ0aWEiLCJkZWZhdWx0RmlsbFN0eWxlIiwiY2hvb3NlIiwiZmlsbFN0eWxlIiwic3Ryb2tlU3R5bGUiLCJzZXR0aW5ncyIsInNldFN0YXRpYyIsInNldE1hc3MiLCJzZXREZW5zaXR5Iiwic2V0SW5lcnRpYSIsInNldFZlcnRpY2VzIiwic2V0UG9zaXRpb24iLCJzZXRBbmdsZSIsInNldFZlbG9jaXR5Iiwic2V0QW5ndWxhclZlbG9jaXR5Iiwic2V0UGFydHMiLCJwYXJ0IiwiX29yaWdpbmFsIiwiaW52ZXJzZU1hc3MiLCJpbnZlcnNlSW5lcnRpYSIsIm1vbWVudCIsImZyb21WZXJ0aWNlcyIsImNlbnRyZSIsInRyYW5zbGF0ZSIsImF1dG9IdWxsIiwic2xpY2UiLCJjb25jYXQiLCJjbG9ja3dpc2VTb3J0IiwiaHVsbCIsImh1bGxDZW50cmUiLCJ0b3RhbCIsIl90b3RhbFByb3BlcnRpZXMiLCJkZWx0YSIsInN1YiIsInJvdGF0ZUFib3V0IiwibWFnbml0dWRlIiwidHJhbnNsYXRpb24iLCJhZGQiLCJyb3RhdGlvbiIsInBvaW50Iiwic2luIiwiZHgiLCJkeSIsInNjYWxlIiwic2NhbGVYIiwic2NhbGVZIiwidG90YWxBcmVhIiwidG90YWxJbmVydGlhIiwiY2lyY2xlUmFkaXVzIiwiZGVsdGFUaW1lIiwiY29ycmVjdGlvbiIsImRlbHRhVGltZVNxdWFyZWQiLCJwb3ciLCJ2ZWxvY2l0eVByZXZYIiwidmVsb2NpdHlQcmV2WSIsImFwcGx5Rm9yY2UiLCJvZmZzZXQiLCJwcm9wZXJ0aWVzIiwibXVsdCIsImRpdiIsIjIiLCJDb21wb3NpdGUiLCJFdmVudHMiLCJpc01vZGlmaWVkIiwiYm9kaWVzIiwiY29uc3RyYWludHMiLCJjb21wb3NpdGVzIiwic2V0TW9kaWZpZWQiLCJjb21wb3NpdGUiLCJ1cGRhdGVQYXJlbnRzIiwidXBkYXRlQ2hpbGRyZW4iLCJjaGlsZENvbXBvc2l0ZSIsIm9iamVjdHMiLCJ0cmlnZ2VyIiwib2JqIiwid2FybiIsImFkZEJvZHkiLCJhZGRDb25zdHJhaW50IiwiYWRkQ29tcG9zaXRlIiwiY29uc3RyYWludCIsInJlbW92ZSIsImRlZXAiLCJyZW1vdmVCb2R5IiwicmVtb3ZlQ29uc3RyYWludCIsInJlbW92ZUNvbXBvc2l0ZSIsImNvbXBvc2l0ZUEiLCJjb21wb3NpdGVCIiwiaW5kZXhPZiIsInJlbW92ZUNvbXBvc2l0ZUF0Iiwic3BsaWNlIiwicmVtb3ZlQm9keUF0IiwicmVtb3ZlQ29uc3RyYWludEF0IiwiY2xlYXIiLCJrZWVwU3RhdGljIiwiZmlsdGVyIiwiYWxsQm9kaWVzIiwiYWxsQ29uc3RyYWludHMiLCJhbGxDb21wb3NpdGVzIiwidG9TdHJpbmciLCJtb3ZlIiwicmViYXNlIiwicmVjdXJzaXZlIiwiMyIsIldvcmxkIiwiZ3Jhdml0eSIsIjQiLCJDb250YWN0IiwidmVydGV4Iiwibm9ybWFsSW1wdWxzZSIsInRhbmdlbnRJbXB1bHNlIiwiaW5kZXgiLCI1IiwiRGV0ZWN0b3IiLCJTQVQiLCJQYWlyIiwiY29sbGlzaW9ucyIsImJyb2FkcGhhc2VQYWlycyIsImVuZ2luZSIsInBhaXJzVGFibGUiLCJwYWlycyIsInRhYmxlIiwiYm9keUEiLCJib2R5QiIsImNhbkNvbGxpZGUiLCJvdmVybGFwcyIsImoiLCJwYXJ0QSIsImsiLCJwYXJ0QiIsInByZXZpb3VzQ29sbGlzaW9uIiwicGFpciIsImlzQWN0aXZlIiwiY29sbGlzaW9uIiwiY29sbGlkZXMiLCJjb2xsaWRlZCIsImZpbHRlckEiLCJmaWx0ZXJCIiwiNiIsIkdyaWQiLCJjb250cm9sbGVyIiwiZGV0ZWN0b3IiLCJidWNrZXRzIiwicGFpcnNMaXN0IiwiYnVja2V0V2lkdGgiLCJidWNrZXRIZWlnaHQiLCJncmlkIiwiZm9yY2VVcGRhdGUiLCJjb2wiLCJyb3ciLCJidWNrZXQiLCJidWNrZXRJZCIsIndvcmxkIiwiZ3JpZENoYW5nZWQiLCJuZXdSZWdpb24iLCJfZ2V0UmVnaW9uIiwicmVnaW9uIiwidW5pb24iLCJfcmVnaW9uVW5pb24iLCJzdGFydENvbCIsImVuZENvbCIsInN0YXJ0Um93IiwiZW5kUm93IiwiX2dldEJ1Y2tldElkIiwiaXNJbnNpZGVOZXdSZWdpb24iLCJpc0luc2lkZU9sZFJlZ2lvbiIsIl9idWNrZXRSZW1vdmVCb2R5IiwiX2NyZWF0ZUJ1Y2tldCIsIl9idWNrZXRBZGRCb2R5IiwiX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdCIsInJlZ2lvbkEiLCJyZWdpb25CIiwiX2NyZWF0ZVJlZ2lvbiIsImNvbHVtbiIsInBhaXJJZCIsInBhaXJLZXlzIiwiNyIsInRpbWVzdGFtcCIsInBhcmVudEEiLCJwYXJlbnRCIiwiY29udGFjdHMiLCJhY3RpdmVDb250YWN0cyIsInNlcGFyYXRpb24iLCJ0aW1lQ3JlYXRlZCIsInRpbWVVcGRhdGVkIiwic3VwcG9ydHMiLCJzdXBwb3J0IiwiY29udGFjdElkIiwiY29udGFjdCIsImRlcHRoIiwic2V0QWN0aXZlIiwiOCIsIlBhaXJzIiwiX3BhaXJNYXhJZGxlTGlmZSIsImxpc3QiLCJjb2xsaXNpb25TdGFydCIsImNvbGxpc2lvbkFjdGl2ZSIsImNvbGxpc2lvbkVuZCIsImFjdGl2ZVBhaXJJZHMiLCJyZW1vdmVPbGQiLCJwYWlySW5kZXgiLCJpbmRleGVzVG9SZW1vdmUiLCI5IiwiUXVlcnkiLCJCb2RpZXMiLCJyYXkiLCJzdGFydFBvaW50IiwiZW5kUG9pbnQiLCJyYXlXaWR0aCIsInJheUFuZ2xlIiwicmF5TGVuZ3RoIiwicmF5WCIsInJheVkiLCJyZWN0YW5nbGUiLCJvdXRzaWRlIiwicmVzdWx0IiwiY29udGFpbnMiLCIxMCIsIlJlc29sdmVyIiwiX3Jlc3RpbmdUaHJlc2giLCJfcmVzdGluZ1RocmVzaFRhbmdlbnQiLCJfcG9zaXRpb25EYW1wZW4iLCJfcG9zaXRpb25XYXJtaW5nIiwiX2ZyaWN0aW9uTm9ybWFsTXVsdGlwbGllciIsInByZVNvbHZlUG9zaXRpb24iLCJhY3RpdmVDb3VudCIsInNvbHZlUG9zaXRpb24iLCJub3JtYWwiLCJib2R5QnRvQSIsImNvbnRhY3RTaGFyZSIsInRlbXBBIiwiX3RlbXAiLCJ0ZW1wQiIsInRlbXBDIiwidGVtcEQiLCJwZW5ldHJhdGlvbiIsImRvdCIsInBvc3RTb2x2ZVBvc2l0aW9uIiwicHJlU29sdmVWZWxvY2l0eSIsInRhbmdlbnQiLCJjb250YWN0VmVydGV4IiwiaW1wdWxzZSIsImNyb3NzIiwic29sdmVWZWxvY2l0eSIsInRpbWVTY2FsZVNxdWFyZWQiLCJ0ZW1wRSIsIm9mZnNldEEiLCJvZmZzZXRCIiwidmVsb2NpdHlQb2ludEEiLCJwZXJwIiwidmVsb2NpdHlQb2ludEIiLCJyZWxhdGl2ZVZlbG9jaXR5Iiwibm9ybWFsVmVsb2NpdHkiLCJ0YW5nZW50VmVsb2NpdHkiLCJ0YW5nZW50U3BlZWQiLCJ0YW5nZW50VmVsb2NpdHlEaXJlY3Rpb24iLCJzaWduIiwibm9ybWFsRm9yY2UiLCJjbGFtcCIsIm1heEZyaWN0aW9uIiwib0FjTiIsIm9CY04iLCJzaGFyZSIsImNvbnRhY3ROb3JtYWxJbXB1bHNlIiwiY29udGFjdFRhbmdlbnRJbXB1bHNlIiwiMTEiLCJvdmVybGFwQUIiLCJvdmVybGFwQkEiLCJtaW5PdmVybGFwIiwiY2FuUmV1c2VQcmV2Q29sIiwiYXhpc0JvZHlBIiwiYXhpc0JvZHkiLCJheGlzQm9keUIiLCJheGlzTnVtYmVyIiwiX292ZXJsYXBBeGVzIiwicmV1c2VkIiwib3ZlcmxhcCIsImF4aXMiLCJ2ZXJ0aWNlc0IiLCJfZmluZFN1cHBvcnRzIiwidmVydGljZXNBIiwibmVnIiwicHJvamVjdGlvbkEiLCJwcm9qZWN0aW9uQiIsIk51bWJlciIsIk1BWF9WQUxVRSIsIl9wcm9qZWN0VG9BeGlzIiwicHJvamVjdGlvbiIsImRpc3RhbmNlIiwidmVydGV4QSIsInZlcnRleEIiLCJuZWFyZXN0RGlzdGFuY2UiLCJ2ZXJ0ZXhUb0JvZHkiLCJib2R5QVBvc2l0aW9uIiwiMTIiLCJDb25zdHJhaW50IiwiX3dhcm1pbmciLCJfdG9ycXVlRGFtcGVuIiwiX21pbkxlbmd0aCIsImluaXRpYWxQb2ludEEiLCJpbml0aWFsUG9pbnRCIiwic3RpZmZuZXNzIiwiZGFtcGluZyIsImFuZ3VsYXJTdGlmZm5lc3MiLCJhbmdsZUEiLCJhbmdsZUIiLCJhbmNob3JzIiwicHJlU29sdmVBbGwiLCJzb2x2ZUFsbCIsImZpeGVkQSIsImZpeGVkQiIsInNvbHZlIiwicG9pbnRBV29ybGQiLCJwb2ludEJXb3JsZCIsImN1cnJlbnRMZW5ndGgiLCJkaWZmZXJlbmNlIiwibWFzc1RvdGFsIiwicmVzaXN0YW5jZVRvdGFsIiwiemVybyIsInBvc3RTb2x2ZUFsbCIsIjEzIiwiTW91c2VDb25zdHJhaW50IiwiTW91c2UiLCJtb3VzZSIsImNhbnZhcyIsImVsZW1lbnQiLCJtb3VzZUNvbnN0cmFpbnQiLCJvbiIsIl90cmlnZ2VyRXZlbnRzIiwiYnV0dG9uIiwibW91c2VFdmVudHMiLCJzb3VyY2VFdmVudHMiLCJtb3VzZW1vdmUiLCJtb3VzZWRvd24iLCJtb3VzZXVwIiwiY2xlYXJTb3VyY2VFdmVudHMiLCIxNCIsImdsb2JhbCIsIl9uZXh0SWQiLCJfc2VlZCIsIl9ub3dTdGFydFRpbWUiLCJEYXRlIiwiYXJnc1N0YXJ0IiwiZGVlcENsb25lIiwiYXJndW1lbnRzIiwic291cmNlIiwicHJvcCIsImNvbnN0cnVjdG9yIiwidmFsdWVzIiwicGF0aCIsImJlZ2luIiwiZW5kIiwic3BsaXQiLCJ2YWwiLCJzaHVmZmxlIiwiYXJyYXkiLCJ0ZW1wIiwiY2hvaWNlcyIsImlzRWxlbWVudCIsIkhUTUxFbGVtZW50Iiwibm9kZVR5cGUiLCJub2RlTmFtZSIsImlzQXJyYXkiLCJpc0Z1bmN0aW9uIiwiaXNQbGFpbk9iamVjdCIsImlzU3RyaW5nIiwibm93Iiwid2luZG93IiwicGVyZm9ybWFuY2UiLCJ3ZWJraXROb3ciLCJfc2VlZGVkUmFuZG9tIiwiY29sb3JUb051bWJlciIsImNvbG9yU3RyaW5nIiwicmVwbGFjZSIsImNoYXJBdCIsInBhcnNlSW50IiwibG9nTGV2ZWwiLCJjb25zb2xlIiwiYXBwbHkiLCJpbmZvIiwiaGF5c3RhY2siLCJuZWVkbGUiLCJmdW5jIiwibWFwcGVkIiwidG9wb2xvZ2ljYWxTb3J0IiwiZ3JhcGgiLCJ2aXNpdGVkIiwibm9kZSIsIl90b3BvbG9naWNhbFNvcnQiLCJuZWlnaGJvcnMiLCJuZWlnaGJvciIsImNoYWluIiwiZnVuY3MiLCJfY2hhaW5lZCIsImxhc3RSZXN1bHQiLCJhcmdzIiwiY2hhaW5QYXRoQmVmb3JlIiwiYmFzZSIsImNoYWluUGF0aEFmdGVyIiwiX3JlcXVpcmVHbG9iYWwiLCJnbG9iYWxOYW1lIiwibW9kdWxlTmFtZSIsInRoaXMiLCJzZWxmIiwiMTUiLCJFbmdpbmUiLCJSZW5kZXIiLCJwb3NpdGlvbkl0ZXJhdGlvbnMiLCJ2ZWxvY2l0eUl0ZXJhdGlvbnMiLCJjb25zdHJhaW50SXRlcmF0aW9ucyIsImVuYWJsZVNsZWVwaW5nIiwiZXZlbnRzIiwidGltaW5nIiwiYnJvYWRwaGFzZSIsInJlbmRlckRlZmF1bHRzIiwibWV0cmljcyIsImV4dGVuZGVkIiwiZXZlbnQiLCJfYm9kaWVzQXBwbHlHcmF2aXR5IiwiX2JvZGllc1VwZGF0ZSIsImFmdGVyQ29sbGlzaW9ucyIsIl9ib2RpZXNDbGVhckZvcmNlcyIsIm1lcmdlIiwiZW5naW5lQSIsImVuZ2luZUIiLCJncmF2aXR5U2NhbGUiLCJ3b3JsZEJvdW5kcyIsIjE2IiwiZXZlbnROYW1lcyIsImNhbGxiYWNrIiwibmFtZXMiLCJvZmYiLCJqb2luIiwiY2FsbGJhY2tzIiwibmV3Q2FsbGJhY2tzIiwiZXZlbnRDbG9uZSIsIjE3IiwiTWF0dGVyIiwiUGx1Z2luIiwidmVyc2lvbiIsInVzZXMiLCJ1c2VkIiwidXNlIiwiYmVmb3JlIiwiYWZ0ZXIiLCIxOCIsIjE5IiwiZG9jdW1lbnQiLCJhYnNvbHV0ZSIsIm1vdXNlZG93blBvc2l0aW9uIiwibW91c2V1cFBvc2l0aW9uIiwid2hlZWxEZWx0YSIsInBpeGVsUmF0aW8iLCJnZXRBdHRyaWJ1dGUiLCJtb3VzZXdoZWVsIiwiX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbiIsImNoYW5nZWRUb3VjaGVzIiwicHJldmVudERlZmF1bHQiLCJkZXRhaWwiLCJzZXRFbGVtZW50IiwiYWRkRXZlbnRMaXN0ZW5lciIsInNldE9mZnNldCIsInNldFNjYWxlIiwiZWxlbWVudEJvdW5kcyIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsInJvb3ROb2RlIiwiZG9jdW1lbnRFbGVtZW50IiwicGFyZW50Tm9kZSIsInNjcm9sbFgiLCJ1bmRlZmluZWQiLCJwYWdlWE9mZnNldCIsInNjcm9sbExlZnQiLCJzY3JvbGxZIiwicGFnZVlPZmZzZXQiLCJzY3JvbGxUb3AiLCJ0b3VjaGVzIiwicGFnZVgiLCJsZWZ0IiwicGFnZVkiLCJ0b3AiLCJjbGllbnRXaWR0aCIsIndpZHRoIiwiY2xpZW50SGVpZ2h0IiwiaGVpZ2h0IiwiMjAiLCJfcmVnaXN0cnkiLCJyZWdpc3RlciIsImlzUGx1Z2luIiwicmVnaXN0ZXJlZCIsInBsdWdpblZlcnNpb24iLCJ2ZXJzaW9uUGFyc2UiLCJudW1iZXIiLCJyZWdpc3RlcmVkVmVyc2lvbiIsInJlc29sdmUiLCJkZXBlbmRlbmN5IiwiZGVwZW5kZW5jeVBhcnNlIiwiaW5zdGFsbCIsImlzVXNlZCIsImlzRm9yIiwicGFyc2VkIiwiZm9yIiwidmVyc2lvblNhdGlzZmllcyIsInBsdWdpbnMiLCJkZXBlbmRlbmNpZXMiLCJzb3J0ZWREZXBlbmRlbmNpZXMiLCJzdGF0dXMiLCJfd2FybmVkIiwidHJhY2tlZCIsInBhcnNlZEJhc2UiLCJyZXNvbHZlZCIsInRlc3QiLCJpZGVudGlmaWVycyIsImlzUmFuZ2UiLCJpc05hTiIsInN1YnN0ciIsIm9wZXJhdG9yIiwicHJlcmVsZWFzZSIsInJhbmdlUGFyc2VkIiwicmFuZ2VQYXJ0cyIsInZlcnNpb25QYXJzZWQiLCJ2ZXJzaW9uUGFydHMiLCIyMSIsIlJ1bm5lciIsIl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJfY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJfZnJhbWVUaW1lb3V0IiwicmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwid2Via2l0UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIiwibXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJjYW5jZWxBbmltYXRpb25GcmFtZSIsIm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIiwid2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJtc0NhbmNlbEFuaW1hdGlvbkZyYW1lIiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsInJ1bm5lciIsImZwcyIsImRlbHRhU2FtcGxlU2l6ZSIsImNvdW50ZXJUaW1lc3RhbXAiLCJmcmFtZUNvdW50ZXIiLCJkZWx0YUhpc3RvcnkiLCJ0aW1lUHJldiIsInRpbWVTY2FsZVByZXYiLCJmcmFtZVJlcXVlc3RJZCIsImlzRml4ZWQiLCJlbmFibGVkIiwiZGVsdGFNaW4iLCJkZWx0YU1heCIsInJ1biIsInRpbWUiLCJ0aWNrIiwic3RvcCIsInN0YXJ0IiwiMjIiLCJfbW90aW9uV2FrZVRocmVzaG9sZCIsIl9tb3Rpb25TbGVlcFRocmVzaG9sZCIsIl9taW5CaWFzIiwidGltZUZhY3RvciIsIm1pbk1vdGlvbiIsIm1heE1vdGlvbiIsInNsZWVwQ291bnRlciIsInNsZWVwaW5nQm9keSIsIm1vdmluZ0JvZHkiLCJ3YXNTbGVlcGluZyIsIjIzIiwiZGVjb21wIiwiY2hhbWZlciIsInJhZGl1cyIsInF1YWxpdHkiLCJxdWFsaXR5TWluIiwicXVhbGl0eU1heCIsInRyYXBlem9pZCIsInNsb3BlIiwidmVydGljZXNQYXRoIiwieDEiLCJ4MiIsIngzIiwiY2lyY2xlIiwibWF4U2lkZXMiLCJzaWRlcyIsImNlaWwiLCJwb2x5Z29uIiwidGhldGEiLCJ4eCIsInl5IiwidG9GaXhlZCIsInZlcnRleFNldHMiLCJmbGFnSW50ZXJuYWwiLCJyZW1vdmVDb2xsaW5lYXIiLCJtaW5pbXVtQXJlYSIsImlzQ29udmV4IiwieiIsImNvbmNhdmUiLCJtYWtlQ0NXIiwicmVtb3ZlQ29sbGluZWFyUG9pbnRzIiwiZGVjb21wb3NlZCIsInF1aWNrRGVjb21wIiwiY2h1bmtWZXJ0aWNlcyIsInBhdiIsInBidiIsImRhIiwibWFnbml0dWRlU3F1YXJlZCIsImRiIiwiaXNJbnRlcm5hbCIsIjI0IiwiQ29tcG9zaXRlcyIsInN0YWNrIiwiY29sdW1ucyIsInJvd3MiLCJjb2x1bW5HYXAiLCJyb3dHYXAiLCJsYXN0Qm9keSIsIm1heEhlaWdodCIsImJvZHlIZWlnaHQiLCJib2R5V2lkdGgiLCJ4T2Zmc2V0QSIsInlPZmZzZXRBIiwieE9mZnNldEIiLCJ5T2Zmc2V0QiIsImJvZHlBSGVpZ2h0IiwiYm9keUFXaWR0aCIsImJvZHlCSGVpZ2h0IiwibWVzaCIsImNyb3NzQnJhY2UiLCJib2R5QyIsInB5cmFtaWQiLCJhY3R1YWxSb3dzIiwibGFzdEJvZHlXaWR0aCIsIm5ld3RvbnNDcmFkbGUiLCJjYXIiLCJ3aGVlbFNpemUiLCJ3aGVlbEFPZmZzZXQiLCJ3aGVlbEJPZmZzZXQiLCJ3aGVlbEEiLCJ3aGVlbEIiLCJheGVsQSIsImF4ZWxCIiwic29mdEJvZHkiLCJwYXJ0aWNsZVJhZGl1cyIsInBhcnRpY2xlT3B0aW9ucyIsImNvbnN0cmFpbnRPcHRpb25zIiwiMjUiLCJub3JtYWxpc2UiLCJncmFkaWVudCIsIjI2IiwiYm91bmRzQSIsImJvdW5kc0IiLCJ2ZWN0b3IiLCJzaGlmdCIsImRlbHRhWCIsImRlbHRhWSIsIjI3IiwiU3ZnIiwicGF0aFRvVmVydGljZXMiLCJzYW1wbGVMZW5ndGgiLCJpbCIsInNlZ21lbnQiLCJzZWdtZW50cyIsInNlZ21lbnRzUXVldWUiLCJsYXN0U2VnbWVudCIsImxhc3RQb2ludCIsImx4IiwibHkiLCJhZGRQb2ludCIsInB4IiwicHkiLCJwYXRoU2VnVHlwZSIsImlzUmVsYXRpdmUiLCJhZGRTZWdtZW50UG9pbnQiLCJzZWdUeXBlIiwicGF0aFNlZ1R5cGVBc0xldHRlciIsInRvVXBwZXJDYXNlIiwiX3N2Z1BhdGhUb0Fic29sdXRlIiwiZ2V0VG90YWxMZW5ndGgiLCJwYXRoU2VnTGlzdCIsIm51bWJlck9mSXRlbXMiLCJnZXRJdGVtIiwiZ2V0UGF0aFNlZ0F0TGVuZ3RoIiwiZ2V0UG9pbnRBdExlbmd0aCIsIngwIiwieTAiLCJ5MSIsInkyIiwic2VncyIsImxlbiIsInNlZyIsInJlcGxhY2VJdGVtIiwiY3JlYXRlU1ZHUGF0aFNlZ01vdmV0b0FicyIsImNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnMiLCJjcmVhdGVTVkdQYXRoU2VnTGluZXRvSG9yaXpvbnRhbEFicyIsImNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9WZXJ0aWNhbEFicyIsImNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMiLCJjcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzIiwiY3JlYXRlU1ZHUGF0aFNlZ0N1cnZldG9RdWFkcmF0aWNBYnMiLCJjcmVhdGVTVkdQYXRoU2VnQ3VydmV0b1F1YWRyYXRpY1Ntb290aEFicyIsImNyZWF0ZVNWR1BhdGhTZWdBcmNBYnMiLCJyMSIsInIyIiwibGFyZ2VBcmNGbGFnIiwic3dlZXBGbGFnIiwiMjgiLCJvdXRwdXQiLCJ2ZWN0b3JBIiwidmVjdG9yQiIsImNyb3NzMyIsInZlY3RvckMiLCJzY2FsYXIiLCJhdGFuMiIsIjI5IiwibWF0Y2giLCJwYXJzZUZsb2F0IiwibWVhbiIsImF2ZXJhZ2UiLCJzaWduZWQiLCJudW1lcmF0b3IiLCJkZW5vbWluYXRvciIsInZlcnRpY2UiLCJuZXh0VmVydGljZSIsIm5ld1ZlcnRpY2VzIiwicHJldlZlcnRleCIsIm5leHRWZXJ0ZXgiLCJjdXJyZW50UmFkaXVzIiwicHJldk5vcm1hbCIsIm5leHROb3JtYWwiLCJkaWFnb25hbFJhZGl1cyIsInJhZGl1c1ZlY3RvciIsIm1pZE5vcm1hbCIsInNjYWxlZFZlcnRleCIsInByZWNpc2lvbiIsImFjb3MiLCJzb3J0IiwiZmxhZyIsInVwcGVyIiwibG93ZXIiLCJwb3AiLCIzMCIsIlJlbmRlclBpeGkiLCIzMSIsImJhY2tncm91bmQiLCJ3aXJlZnJhbWVCYWNrZ3JvdW5kIiwiaGFzQm91bmRzIiwid2lyZWZyYW1lcyIsInNob3dTbGVlcGluZyIsInNob3dEZWJ1ZyIsInNob3dCcm9hZHBoYXNlIiwic2hvd0JvdW5kcyIsInNob3dWZWxvY2l0eSIsInNob3dDb2xsaXNpb25zIiwic2hvd1NlcGFyYXRpb25zIiwic2hvd0F4ZXMiLCJzaG93UG9zaXRpb25zIiwic2hvd0FuZ2xlSW5kaWNhdG9yIiwic2hvd0lkcyIsInNob3dTaGFkb3dzIiwic2hvd1ZlcnRleE51bWJlcnMiLCJzaG93Q29udmV4SHVsbHMiLCJzaG93SW50ZXJuYWxFZGdlcyIsInNob3dNb3VzZVBvc2l0aW9uIiwiX2NyZWF0ZUNhbnZhcyIsImNvbnRleHQiLCJnZXRDb250ZXh0IiwidGV4dHVyZXMiLCJzZXRQaXhlbFJhdGlvIiwiYXBwZW5kQ2hpbGQiLCJsb29wIiwiX2dldFBpeGVsUmF0aW8iLCJzZXRBdHRyaWJ1dGUiLCJzdHlsZSIsImxvb2tBdCIsInBhZGRpbmciLCJjZW50ZXIiLCJ2aWV3SGVpZ2h0Iiwib3V0ZXJSYXRpbyIsImlubmVyUmF0aW8iLCJzdGFydFZpZXdUcmFuc2Zvcm0iLCJib3VuZHNXaWR0aCIsImJvdW5kc0hlaWdodCIsImJvdW5kc1NjYWxlWCIsImJvdW5kc1NjYWxlWSIsImVuZFZpZXdUcmFuc2Zvcm0iLCJzZXRUcmFuc2Zvcm0iLCJjdXJyZW50QmFja2dyb3VuZCIsIl9hcHBseUJhY2tncm91bmQiLCJnbG9iYWxDb21wb3NpdGVPcGVyYXRpb24iLCJmaWxsUmVjdCIsImJvZHlDb252ZXhIdWxscyIsImJvZHlXaXJlZnJhbWVzIiwiYm9keUJvdW5kcyIsImJvZHlBeGVzIiwiYm9keVBvc2l0aW9ucyIsImJvZHlWZWxvY2l0eSIsImJvZHlJZHMiLCJzZXBhcmF0aW9ucyIsInZlcnRleE51bWJlcnMiLCJtb3VzZVBvc2l0aW9uIiwiZGVidWciLCJkZWJ1Z1RpbWVzdGFtcCIsInRleHQiLCJyb3VuZCIsImRlYnVnU3RyaW5nIiwiZm9udCIsImZpbGxUZXh0IiwiYmVnaW5QYXRoIiwiYXJjIiwiY2xvc2VQYXRoIiwibW92ZVRvIiwiY29pbHMiLCJsaW5lVG8iLCJzdHJva2UiLCJmaWxsIiwiYm9keVNoYWRvd3MiLCJkaXN0YW5jZVgiLCJkaXN0YW5jZVkiLCJzaGFkb3dDb2xvciIsInNoYWRvd09mZnNldFgiLCJzaGFkb3dPZmZzZXRZIiwic2hhZG93Qmx1ciIsImdsb2JhbEFscGhhIiwidGV4dHVyZSIsIl9nZXRUZXh0dXJlIiwiZHJhd0ltYWdlIiwicmVjdCIsIm5vcm1hbFBvc1giLCJub3JtYWxQb3NZIiwiYnVja2V0S2V5cyIsImluc3BlY3RvciIsInNlbGVjdGVkIiwiaXRlbSIsImRhdGEiLCJzZXRMaW5lRGFzaCIsInNlbGVjdFN0YXJ0Iiwic2VsZWN0Qm91bmRzIiwiY3JlYXRlRWxlbWVudCIsIm9uY29udGV4dG1lbnUiLCJvbnNlbGVjdHN0YXJ0IiwiZGV2aWNlUGl4ZWxSYXRpbyIsIndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJtb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwibXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwib0JhY2tpbmdTdG9yZVBpeGVsUmF0aW8iLCJiYWNraW5nU3RvcmVQaXhlbFJhdGlvIiwiaW1hZ2VQYXRoIiwiaW1hZ2UiLCJJbWFnZSIsInNyYyIsImNzc0JhY2tncm91bmQiLCJiYWNrZ3JvdW5kU2l6ZSIsIjMyIiwicmVuZGVyZXIiLCJjb250YWluZXIiLCJzcHJpdGVDb250YWluZXIiLCJwaXhpT3B0aW9ucyIsInRyYW5zcGFyZW50IiwidmlldyIsImFudGlhbGlhcyIsImJhY2tncm91bmRDb2xvciIsIlBJWEkiLCJXZWJHTFJlbmRlcmVyIiwiQ29udGFpbmVyIiwic3ByaXRlcyIsInByaW1pdGl2ZXMiLCJhZGRDaGlsZCIsImNoaWxkcmVuIiwicmVtb3ZlQ2hpbGQiLCJiZ1Nwcml0ZSIsImFkZENoaWxkQXQiLCJzZXRCYWNrZ3JvdW5kIiwiaXNDb2xvciIsImNvbG9yIiwiU3ByaXRlIiwiY29uc3RyYWludFJlbmRlciIsInByaW1pdGl2ZUlkIiwicHJpbWl0aXZlIiwiR3JhcGhpY3MiLCJiZWdpbkZpbGwiLCJsaW5lU3R5bGUiLCJlbmRGaWxsIiwiYm9keVJlbmRlciIsInNwcml0ZUlkIiwiX2NyZWF0ZUJvZHlTcHJpdGUiLCJfY3JlYXRlQm9keVByaW1pdGl2ZSIsImluaXRpYWxBbmdsZSIsInRleHR1cmVQYXRoIiwiYW5jaG9yIiwic3Ryb2tlU3R5bGVJbmRpY2F0b3IiLCJzdHJva2VTdHlsZVdpcmVmcmFtZSIsInN0cm9rZVN0eWxlV2lyZWZyYW1lSW5kaWNhdG9yIiwiVGV4dHVyZSIsImZyb21JbWFnZSIsImFudGlHcmF2aXR5TWFuaGF0dGFuIiwidGd0IiwiY29lZmYiLCJnIiwidXRpbHMiLCJjaGFyU2l6ZSIsImFudGlHcmF2aXR5UmFuZ2VkIiwicmFuZ2VGYWN0b3IiLCJhbnRpR3Jhdml0eU1hZyIsInVuaXRTcmNUb1RndCIsImFudGlHcmF2aXR5IiwiYXBwbHlBbnRpR3Jhdml0eVR3b0JvZHkiLCJmb3JjZUFudGlHcmF2aXR5IiwicmVwdWxzaW9uQ29lZmYiLCJyZXB1bHNpb25SYW5nZSIsImFwcGx5QW50aUdyYXZpdHkiLCJibG9ja3MiLCJhcmciLCJNYXAiLCJfIiwiX2lzUm9vdCIsIl9yb290IiwiX2RlcHRoIiwiX2luZGV4IiwiaXgiLCJ0bXAiLCJhcmVDb25uZWN0ZWQiLCJpeSIsImNvbm5lY3QiLCJyb290WCIsInJvb3RZIiwiZ2V0Um9vdEFsbCIsImNvdW50ZXIiLCJmb3JFYWNoIiwiaGFzIiwiYXBwbHlBbnRpR3Jhdml0eURpc2pvaW50IiwidWZYIiwidWZZIiwiYXBwbHlHcm91cGluZ1R3b0JvZHkiLCJncm91cGluZ0NvZWZmIiwiYXBwbHlHcm91cGluZyIsIktub2xsYm90IiwiZm9yY2VPbiIsIlNjcmVlbldpZHRoIiwiU2NyZWVuSGVpZ2h0IiwiU2NyZWVuV2lkdGhIYWxmIiwiU2NyZWVuSGVpZ2h0SGFsZiIsIldhbGxPZmZzZXQiLCJXYWxsVGhpY2tuZXNzIiwiaW1nUGF0aHMiLCJwb2tlU2NhbGUiLCJwYXJhbXMiLCJwb2tlRGVjYXkiLCJhbGlnbm1lbnRGb3JjZUNvZWZmIiwiYWxpZ25tZW50Rm9yY2VSYW5nZSIsImFsaWdubWVudEZvcmNlV2FsbFJhbmdlIiwiYm9keU9wdGlvbnMiLCJwcm9taXNlZEJveGVzIiwiUHJvbWlzZSIsImFsbCIsImltZ1BhdGgiLCJyZWplY3QiLCJpbWciLCJvbmxvYWQiLCJvbmVycm9yIiwib2Zmc2V0WCIsIm9mZnNldFkiLCJ3YWxsT3B0aW9ucyIsIndhbGxGcmljdGlvbiIsIndhbGxUb3AiLCJ3YWxsQm90dG9tIiwid2FsbExlZnQiLCJ3YWxsUmlnaHQiLCJib3hlcyIsImdyb3VwaW5nIiwicmVwdWxzaW9uIiwiYWxpZ24iLCJhcHBseUFsaWdubWVudCIsInBva2UiLCJhcHBseVJhbmRvbVBva2VzIiwidG91Y2giLCJhbmdsZUluUmFkaWFuIiwicm90YXRpb25BbmdsZSIsIkZ1bmN0aW9uIiwiY3JlYXRlQWxpZ25tZW50R3JhcGhNZXRhIiwicG9pbnRQYWlyRnVuYyIsImVkZ2VzIiwicG9zU3JjIiwicG9zVGd0Iiwid2VpZ2h0IiwiaWR4U3JjIiwiaWR4VGd0IiwiYXBwbHlBbGlnbm1lbnRGb3JjZVgiLCJlZGdlIiwiZm9yY2VPblRndCIsImFwcGx5QWxpZ25tZW50Rm9yY2VZIiwiYXBwbHlBbGlnbm1lbnRNU1QiLCJnWCIsImNyZWF0ZUFsaWdubWVudEdyYXBoWCIsImdZIiwiY3JlYXRlQWxpZ25tZW50R3JhcGhZIiwiZWRnZU1zdFgiLCJrcnVza2FsIiwiZWRnZU1zdFkiLCJjcmVhdGVCb3hXYWxsQmlwYXJ0aXRlTWV0YSIsIm51bUJveCIsImlkeEJveCIsImlkeFdhbGwiLCJwb3NCb3giLCJwb3NXYWxsIiwiYXBwbHlCb3hXYWxsQWxpZ25tZW50IiwidWYiLCJlMSIsImUyIiwidjEiLCJ2MiIsImFwcGx5UmFuZG9tUG9rZSJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JTLEVBQUlWLEVBR3hCQyxFQUFvQlUsRUFBSSxTQUFTUixFQUFTUyxFQUFNQyxHQUMzQ1osRUFBb0JhLEVBQUVYLEVBQVNTLElBQ2xDRyxPQUFPQyxlQUFlYixFQUFTUyxFQUFNLENBQUVLLFlBQVksRUFBTUMsSUFBS0wsS0FLaEVaLEVBQW9Ca0IsRUFBSSxTQUFTaEIsR0FDWCxvQkFBWGlCLFFB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QyxlQUFhLENBQXRCLElBQUloaUMsRUFBQyxLQUNKeWpDLEVBQUt6akMsRUFBRWdOLEtBQUt6TixNQUNabWtDLEVBQUsxakMsRUFBRWdOLEtBQUt4TixPQUNYOGpDLEVBQUdyRixhQUFhd0YsRUFBSUMsS0FDdkJKLEVBQUduRixRQUFRc0YsRUFBSUMsR0FDZm5vQyxFQUFJRSxLQUFLdUUsSUFHYixPQUFPekUsSSxxdEJDL0JULGNBQ0EsVUFjYSxFQUFBK2xDLGlCQUFtQixTQUFDanpCLEVBQXNCa3ZCLEdBQ3JEQSxFQUFPaUIsU0FBUSxTQUFBOStCLEdBQVMsT0FYRixTQUFDMk8sRUFBc0IzTyxHQUN4Q0EsRUFBTTJDLFVBQ1QsVUFBT2hDLEtBQUtnSSxXQUFXM0ksRUFBT0EsRUFBTWdDLFNBQ2xDLENBQ0VqSCxFQUFHNFQsRUFBTW94QixVQUFZOUMsRUFBTWorQixRQUMzQjNDLEVBQUdzUyxFQUFNb3hCLFVBQVk5QyxFQUFNaitCLFVBTVRpbEMsQ0FBZ0J0MUIsRUFBTzNPIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNSk7XG4iLCJleHBvcnQgdHlwZSBQYWlyPFQ+ID0ge1xuICBmaXJzdDogVCxcbiAgc2Vjb25kOiBULFxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFZlY3RvciB7XG4gIHg6IG51bWJlcixcbiAgeTogbnVtYmVyLFxufVxuXG5leHBvcnQgY29uc3QgYXJyTWF4ID0gKHhzOiBudW1iZXJbXSk6IG51bWJlciA9PiB4cy5yZWR1Y2UoKGFjYywgeCkgPT4gTWF0aC5tYXgoYWNjLCB4KSwgLUluZmluaXR5KTtcbmV4cG9ydCBjb25zdCBhcnJNaW4gPSAoeHM6IG51bWJlcltdKTogbnVtYmVyID0+IHhzLnJlZHVjZSgoYWNjLCB4KSA9PiBNYXRoLm1pbihhY2MsIHgpLCBJbmZpbml0eSk7XG5leHBvcnQgY29uc3QgYXJyU3VtID0gKHhzOiBudW1iZXJbXSk6IG51bWJlciA9PiB4cy5yZWR1Y2UoKGFjYywgeCkgPT4gYWNjICsgeCwgMCk7XG5leHBvcnQgY29uc3QgYXJyTWVhbiA9ICh4czogbnVtYmVyW10pOiBudW1iZXIgPT4gYXJyU3VtKHhzKSAvIHhzLmxlbmd0aDtcblxuZXhwb3J0IGNvbnN0IGFyck1ldGFCeSA9IDxUPih4czogVFtdLCBmOiAoYTogVCkgPT4gbnVtYmVyLCByZWR1Y2U6IChhOiBudW1iZXJbXSkgPT4gbnVtYmVyKTogVFtdID0+IHtcbiAgbGV0IHlzID0geHMubWFwKGYpXG4gIGxldCB5bWF4ID0gcmVkdWNlKHlzKTtcbiAgbGV0IHJlcyA9IEFycmF5PFQ+KCk7XG4gIGZvciAobGV0IGkgaW4geHMpIHtcbiAgICBpZiAoeXNbaV0gPT0geW1heCkge1xuICAgICAgcmVzLnB1c2goeHNbaV0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuZXhwb3J0IGNvbnN0IGFyck1heEJ5ID0gPFQ+KHsgeHMsIGYgfTogeyB4czogVFtdOyBmOiAoYTogVCkgPT4gbnVtYmVyOyB9KTogVFtdID0+IHtcbiAgcmV0dXJuIGFyck1ldGFCeSh4cywgZiwgYXJyTWF4KTtcbn1cblxuZXhwb3J0IGNvbnN0IGFyck1pbkJ5ID0gPFQ+KHsgeHMsIGYgfTogeyB4czogVFtdOyBmOiAoYTogVCkgPT4gbnVtYmVyOyB9KTogVFtdID0+IHtcbiAgcmV0dXJuIGFyck1ldGFCeSh4cywgZiwgYXJyTWluKTtcbn1cblxuZXhwb3J0IGNvbnN0IHZlY3Rvck1lYW4gPSAodmVjOiBWZWN0b3JbXSk6IFZlY3RvciA9PiB7XG4gIGxldCB4ID0gYXJyTWVhbih2ZWMubWFwKHYgPT4gdi54KSk7XG4gIGxldCB5ID0gYXJyTWVhbih2ZWMubWFwKHYgPT4gdi55KSk7XG4gIHJldHVybiB7IHg6IHgsIHk6IHkgfTtcbn1cblxuZXhwb3J0IGNvbnN0IHJpZ2h0bW9zdFBvaW50ID0gKHBvaW50czogVmVjdG9yW10pOiBWZWN0b3IgPT4ge1xuICByZXR1cm4gdmVjdG9yTWVhbihhcnJNYXhCeSh7IHhzOiBwb2ludHMsIGY6IHAgPT4gcC54IH0pKTtcbn1cblxuZXhwb3J0IGNvbnN0IGxlZnRtb3N0UG9pbnQgPSAocG9pbnRzOiBWZWN0b3JbXSk6IFZlY3RvciA9PiB7XG4gIHJldHVybiB2ZWN0b3JNZWFuKGFyck1pbkJ5KHsgeHM6IHBvaW50cywgZjogcCA9PiBwLnggfSkpO1xufVxuXG5leHBvcnQgY29uc3QgdG9wbW9zdFBvaW50ID0gKHBvaW50czogVmVjdG9yW10pOiBWZWN0b3IgPT4ge1xuICByZXR1cm4gdmVjdG9yTWVhbihhcnJNaW5CeSh7IHhzOiBwb2ludHMsIGY6IHAgPT4gcC55IH0pKTtcbn1cblxuZXhwb3J0IGNvbnN0IGJvdHRvbW1vc3RQb2ludCA9IChwb2ludHM6IFZlY3RvcltdKTogVmVjdG9yID0+IHtcbiAgcmV0dXJuIHZlY3Rvck1lYW4oYXJyTWF4QnkoeyB4czogcG9pbnRzLCBmOiBwID0+IHAueSB9KSk7XG59XG5cbmV4cG9ydCBjb25zdCBkaXN0SG9yaXogPSAocG9pbnRBOiBWZWN0b3IsIHBvaW50QjogVmVjdG9yKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIE1hdGguYWJzKHBvaW50QS54IC0gcG9pbnRCLngpO1xufVxuXG5leHBvcnQgY29uc3QgZGlzdFZlcnRpID0gKHBvaW50QTogVmVjdG9yLCBwb2ludEI6IFZlY3Rvcik6IG51bWJlciA9PiB7XG4gIHJldHVybiBNYXRoLmFicyhwb2ludEEueSAtIHBvaW50Qi55KTtcbn1cblxuZXhwb3J0IGNvbnN0IGRpc3RFdWNsaWQgPSAocG9pbnRBOiBWZWN0b3IsIHBvaW50QjogVmVjdG9yKTogbnVtYmVyID0+IHtcbiAgcmV0dXJuIE1hdGguaHlwb3QocG9pbnRBLnggLSBwb2ludEIueCwgcG9pbnRBLnkgLSBwb2ludEIueSk7XG59XG5cbmNvbnN0IGNsb2VzdFBvaW50TWV0YSA9ICh0aGlzXzogTWF0dGVyLkJvZHksIHRoYXQ6IE1hdHRlci5Cb2R5LCBlZGdlQTogKHZzOiBWZWN0b3JbXSkgPT4gVmVjdG9yLCBlZGdlQjogKHZzOiBWZWN0b3JbXSkgPT4gVmVjdG9yLCBkaXN0RnVuYzogKHYxOiBWZWN0b3IsIHYyOiBWZWN0b3IpID0+IG51bWJlcik6IFtWZWN0b3IsIFZlY3RvciwgbnVtYmVyXSA9PiB7XG4gIGxldCB0aGlzQSA9IGVkZ2VBKHRoaXNfLnZlcnRpY2VzKTtcbiAgbGV0IHRoaXNCID0gZWRnZUIodGhpc18udmVydGljZXMpO1xuICBsZXQgdGhhdEEgPSBlZGdlQSh0aGF0LnZlcnRpY2VzKTtcbiAgbGV0IHRoYXRCID0gZWRnZUIodGhhdC52ZXJ0aWNlcyk7XG4gIGxldCByZXM6IFtWZWN0b3IsIFZlY3RvciwgbnVtYmVyXSA9IFt0aGlzQSwgdGhhdEEsIEluZmluaXR5XTtcbiAgbGV0IGRpc3QgPSBJbmZpbml0eTtcbiAgZm9yIChsZXQgcDEgb2YgW3RoaXNBLCB0aGlzQl0pIHtcbiAgICBmb3IgKGxldCBwMiBvZiBbdGhhdEEsIHRoYXRCXSkge1xuICAgICAgbGV0IGQgPSBkaXN0RnVuYyhwMSwgcDIpO1xuICAgICAgaWYgKGQgPCBkaXN0KSB7XG4gICAgICAgIGRpc3QgPSBkO1xuICAgICAgICByZXMgPSBbcDEsIHAyLCBkaXN0XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuZXhwb3J0IGNvbnN0IGNsb2VzdFBvaW50UGFpclggPSAoYm9keTE6IE1hdHRlci5Cb2R5LCBib2R5MjogTWF0dGVyLkJvZHkpOiBbVmVjdG9yLCBWZWN0b3IsIG51bWJlcl0gPT4ge1xuICByZXR1cm4gY2xvZXN0UG9pbnRNZXRhKGJvZHkxLCBib2R5MiwgbGVmdG1vc3RQb2ludCwgcmlnaHRtb3N0UG9pbnQsIGRpc3RIb3Jpeik7XG59XG5cbmV4cG9ydCBjb25zdCBjbG9lc3RQb2ludFBhaXJZID0gKGJvZHkxOiBNYXR0ZXIuQm9keSwgYm9keTI6IE1hdHRlci5Cb2R5KTogW1ZlY3RvciwgVmVjdG9yLCBudW1iZXJdID0+IHtcbiAgcmV0dXJuIGNsb2VzdFBvaW50TWV0YShib2R5MSwgYm9keTIsIHRvcG1vc3RQb2ludCwgYm90dG9tbW9zdFBvaW50LCBkaXN0VmVydGkpO1xufVxuXG5leHBvcnQgY29uc3QgcmFuZ2UgPSAoc2l6ZTogbnVtYmVyKTogbnVtYmVyW10gPT4ge1xuICBzaXplID0gTWF0aC5mbG9vcihzaXplKTtcbiAgcmV0dXJuIEFycmF5LmZyb20oQXJyYXkoc2l6ZSkua2V5cygpKTtcbn07XG5cbmV4cG9ydCBjb25zdCByYW5kUmFuZ2UgPSAobG86IG51bWJlciwgaGk6IG51bWJlciwgdW5pdDogbnVtYmVyID0gMSk6IG51bWJlciA9PiB7XG4gIGxldCBhID0gTWF0aC5mbG9vcihsbyk7XG4gIGxldCBiID0gTWF0aC5mbG9vcihoaSk7XG4gIHJldHVybiBhICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGIgLSBhKSAvIHVuaXQpICogdW5pdFxufVxuXG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNTU4Mjg4Mi9qYXZhc2NyaXB0LW1hdGgtcmFuZG9tLW5vcm1hbC1kaXN0cmlidXRpb24tZ2F1c3NpYW4tYmVsbC1jdXJ2ZVxuZXhwb3J0IGNvbnN0IHJhbmRuID0gKCk6IG51bWJlciA9PiB7XG4gIGxldCB1ID0gMDtcbiAgbGV0IHYgPSAwO1xuICB3aGlsZSAodSA9PT0gMCkgdSA9IE1hdGgucmFuZG9tKCk7IC8vQ29udmVydGluZyBbMCwxKSB0byAoMCwxKVxuICB3aGlsZSAodiA9PT0gMCkgdiA9IE1hdGgucmFuZG9tKCk7XG4gIGxldCBudW0gPSBNYXRoLnNxcnQoLTIuMCAqIE1hdGgubG9nKHUpKSAqIE1hdGguY29zKDIuMCAqIE1hdGguUEkgKiB2KTtcbiAgbnVtID0gbnVtIC8gMTAuMCArIDAuNTsgLy8gVHJhbnNsYXRlIHRvIDAgLT4gMVxuICBpZiAobnVtID4gMSB8fCBudW0gPCAwKSByZXR1cm4gcmFuZG4oKTsgLy8gcmVzYW1wbGUgYmV0d2VlbiAwIGFuZCAxXG4gIHJldHVybiBudW0gLSAwLjU7XG59XG5cbmV4cG9ydCBjb25zdCB1bml0VmVjID0gKGZyb206IFZlY3RvciwgdG86IFZlY3Rvcik6IFZlY3RvciA9PiB7XG4gIGxldCBkID0gZGlzdEV1Y2xpZChmcm9tLCB0bylcbiAgcmV0dXJuIHtcbiAgICB4OiAodG8ueCAtIGZyb20ueCkgLyBkLFxuICAgIHk6ICh0by55IC0gZnJvbS55KSAvIGQsXG4gIH1cbn1cblxuZXhwb3J0IGNvbnN0IG5vcm1hbGl6ZSA9ICh2OiBWZWN0b3IpOiBWZWN0b3IgPT4ge1xuICBsZXQgbm9ybSA9IE1hdGguaHlwb3Qodi54LCB2LnkpO1xuICByZXR1cm4ge1xuICAgIHg6IHYueCAvIG5vcm0sXG4gICAgeTogdi55IC8gbm9ybSxcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgbmVnYXRlID0gKHY6IFZlY3Rvcik6IFZlY3RvciA9PiB7XG4gIHJldHVybiB7IHg6IC12LngsIHk6IC12LnkgfTtcbn1cblxuZXhwb3J0IGNvbnN0IG1ha2VVbm9yZGVyZWRQYWlyID0gPFQ+KGE6IFQsIGI6IFQpOiBQYWlyPFQ+ID0+IHtcbiAgaWYgKGIgPCBhKSB7XG4gICAgW2EsIGJdID0gW2IsIGFdO1xuICB9XG4gIHJldHVybiB7IGZpcnN0OiBhLCBzZWNvbmQ6IGIgfTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldFdpZHRoID0gKGJsb2NrOiBNYXR0ZXIuQm9keSk6IG51bWJlciA9PiB7XG4gIGxldCB4cyA9IGJsb2NrLnZlcnRpY2VzLm1hcCh2ID0+IHYueCk7XG4gIHJldHVybiBhcnJNYXgoeHMpIC0gYXJyTWluKHhzKTtcbn1cblxuZXhwb3J0IGNvbnN0IGdldEhlaWdodCA9IChibG9jazogTWF0dGVyLkJvZHkpOiBudW1iZXIgPT4ge1xuICBsZXQgeXMgPSBibG9jay52ZXJ0aWNlcy5tYXAodiA9PiB2LnkpO1xuICByZXR1cm4gYXJyTWF4KHlzKSAtIGFyck1pbih5cyk7XG59XG5cbmV4cG9ydCBjb25zdCBhcmVTYW1lSGVpZ2h0ID0gKGZvbzogTWF0dGVyLkJvZHksIGJhcjogTWF0dGVyLkJvZHkpID0+IHtcbiAgcmV0dXJuIGdldEhlaWdodChmb28pID09IGdldEhlaWdodChiYXIpO1xufVxuXG5leHBvcnQgY29uc3QgYXJlU2FtZVdpZHRoID0gKGZvbzogTWF0dGVyLkJvZHksIGJhcjogTWF0dGVyLkJvZHkpID0+IHtcbiAgcmV0dXJuIGdldFdpZHRoKGZvbykgPT0gZ2V0V2lkdGgoYmFyKTtcbn1cbiIsIi8qKlxuKiBtYXR0ZXItanMgMC4xNC4yIGJ5IEBsaWFicnUgMjAxOC0wNi0xMVxuKiBodHRwOi8vYnJtLmlvL21hdHRlci1qcy9cbiogTGljZW5zZSBNSVRcbiovXG5cbi8qKlxuICogVGhlIE1JVCBMaWNlbnNlIChNSVQpXG4gKiBcbiAqIENvcHlyaWdodCAoYykgTGlhbSBCcnVtbWl0dCBhbmQgY29udHJpYnV0b3JzLlxuICogXG4gKiBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYSBjb3B5XG4gKiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gKiBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzXG4gKiB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsXG4gKiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXNcbiAqIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGUgZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4gKiBcbiAqIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkIGluXG4gKiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbiAqIFxuICogVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTUyBPUlxuICogSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksXG4gKiBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEVcbiAqIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sIERBTUFHRVMgT1IgT1RIRVJcbiAqIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXG4gKiBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOXG4gKiBUSEUgU09GVFdBUkUuXG4gKi9cblxuKGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09XCJvYmplY3RcIiYmdHlwZW9mIG1vZHVsZSE9PVwidW5kZWZpbmVkXCIpe21vZHVsZS5leHBvcnRzPWYoKX1lbHNlIGlmKHR5cGVvZiBkZWZpbmU9PT1cImZ1bmN0aW9uXCImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT1cInVuZGVmaW5lZFwiKXtnPXdpbmRvd31lbHNlIGlmKHR5cGVvZiBnbG9iYWwhPT1cInVuZGVmaW5lZFwiKXtnPWdsb2JhbH1lbHNlIGlmKHR5cGVvZiBzZWxmIT09XCJ1bmRlZmluZWRcIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuTWF0dGVyID0gZigpfX0pKGZ1bmN0aW9uKCl7dmFyIGRlZmluZSxtb2R1bGUsZXhwb3J0cztyZXR1cm4gKGZ1bmN0aW9uKCl7ZnVuY3Rpb24gcihlLG4sdCl7ZnVuY3Rpb24gbyhpLGYpe2lmKCFuW2ldKXtpZighZVtpXSl7dmFyIGM9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZTtpZighZiYmYylyZXR1cm4gYyhpLCEwKTtpZih1KXJldHVybiB1KGksITApO3ZhciBhPW5ldyBFcnJvcihcIkNhbm5vdCBmaW5kIG1vZHVsZSAnXCIraStcIidcIik7dGhyb3cgYS5jb2RlPVwiTU9EVUxFX05PVF9GT1VORFwiLGF9dmFyIHA9bltpXT17ZXhwb3J0czp7fX07ZVtpXVswXS5jYWxsKHAuZXhwb3J0cyxmdW5jdGlvbihyKXt2YXIgbj1lW2ldWzFdW3JdO3JldHVybiBvKG58fHIpfSxwLHAuZXhwb3J0cyxyLGUsbix0KX1yZXR1cm4gbltpXS5leHBvcnRzfWZvcih2YXIgdT1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlLGk9MDtpPHQubGVuZ3RoO2krKylvKHRbaV0pO3JldHVybiBvfXJldHVybiByfSkoKSh7MTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgYm9keSBtb2RlbHMuXG4qIEEgYE1hdHRlci5Cb2R5YCBpcyBhIHJpZ2lkIGJvZHkgdGhhdCBjYW4gYmUgc2ltdWxhdGVkIGJ5IGEgYE1hdHRlci5FbmdpbmVgLlxuKiBGYWN0b3JpZXMgZm9yIGNvbW1vbmx5IHVzZWQgYm9keSBjb25maWd1cmF0aW9ucyAoc3VjaCBhcyByZWN0YW5nbGVzLCBjaXJjbGVzIGFuZCBvdGhlciBwb2x5Z29ucykgY2FuIGJlIGZvdW5kIGluIHRoZSBtb2R1bGUgYE1hdHRlci5Cb2RpZXNgLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuXG4qIEBjbGFzcyBCb2R5XG4qL1xuXG52YXIgQm9keSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEJvZHk7XG5cbnZhciBWZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7XG52YXIgVmVjdG9yID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVjdG9yJyk7XG52YXIgU2xlZXBpbmcgPSBfZGVyZXFfKCcuLi9jb3JlL1NsZWVwaW5nJyk7XG52YXIgUmVuZGVyID0gX2RlcmVxXygnLi4vcmVuZGVyL1JlbmRlcicpO1xudmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7XG52YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7XG52YXIgQXhlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0F4ZXMnKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgQm9keS5faW5lcnRpYVNjYWxlID0gNDtcbiAgICBCb2R5Ll9uZXh0Q29sbGlkaW5nR3JvdXBJZCA9IDE7XG4gICAgQm9keS5fbmV4dE5vbkNvbGxpZGluZ0dyb3VwSWQgPSAtMTtcbiAgICBCb2R5Ll9uZXh0Q2F0ZWdvcnkgPSAweDAwMDE7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJpZ2lkIGJvZHkgbW9kZWwuIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogVmVydGljZXMgbXVzdCBiZSBzcGVjaWZpZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2JvZHl9IGJvZHlcbiAgICAgKi9cbiAgICBCb2R5LmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgaWQ6IENvbW1vbi5uZXh0SWQoKSxcbiAgICAgICAgICAgIHR5cGU6ICdib2R5JyxcbiAgICAgICAgICAgIGxhYmVsOiAnQm9keScsXG4gICAgICAgICAgICBwYXJ0czogW10sXG4gICAgICAgICAgICBwbHVnaW46IHt9LFxuICAgICAgICAgICAgYW5nbGU6IDAsXG4gICAgICAgICAgICB2ZXJ0aWNlczogVmVydGljZXMuZnJvbVBhdGgoJ0wgMCAwIEwgNDAgMCBMIDQwIDQwIEwgMCA0MCcpLFxuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgZm9yY2U6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgdG9ycXVlOiAwLFxuICAgICAgICAgICAgcG9zaXRpb25JbXB1bHNlOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGNvbnN0cmFpbnRJbXB1bHNlOiB7IHg6IDAsIHk6IDAsIGFuZ2xlOiAwIH0sXG4gICAgICAgICAgICB0b3RhbENvbnRhY3RzOiAwLFxuICAgICAgICAgICAgc3BlZWQ6IDAsXG4gICAgICAgICAgICBhbmd1bGFyU3BlZWQ6IDAsXG4gICAgICAgICAgICB2ZWxvY2l0eTogeyB4OiAwLCB5OiAwIH0sXG4gICAgICAgICAgICBhbmd1bGFyVmVsb2NpdHk6IDAsXG4gICAgICAgICAgICBpc1NlbnNvcjogZmFsc2UsXG4gICAgICAgICAgICBpc1N0YXRpYzogZmFsc2UsXG4gICAgICAgICAgICBpc1NsZWVwaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIG1vdGlvbjogMCxcbiAgICAgICAgICAgIHNsZWVwVGhyZXNob2xkOiA2MCxcbiAgICAgICAgICAgIGRlbnNpdHk6IDAuMDAxLFxuICAgICAgICAgICAgcmVzdGl0dXRpb246IDAsXG4gICAgICAgICAgICBmcmljdGlvbjogMC4xLFxuICAgICAgICAgICAgZnJpY3Rpb25TdGF0aWM6IDAuNSxcbiAgICAgICAgICAgIGZyaWN0aW9uQWlyOiAwLjAxLFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnk6IDB4MDAwMSxcbiAgICAgICAgICAgICAgICBtYXNrOiAweEZGRkZGRkZGLFxuICAgICAgICAgICAgICAgIGdyb3VwOiAwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2xvcDogMC4wNSxcbiAgICAgICAgICAgIHRpbWVTY2FsZTogMSxcbiAgICAgICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgICAgICAgIHZpc2libGU6IHRydWUsXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgICAgICBzcHJpdGU6IHtcbiAgICAgICAgICAgICAgICAgICAgeFNjYWxlOiAxLFxuICAgICAgICAgICAgICAgICAgICB5U2NhbGU6IDEsXG4gICAgICAgICAgICAgICAgICAgIHhPZmZzZXQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHlPZmZzZXQ6IDBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBib2R5ID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgX2luaXRQcm9wZXJ0aWVzKGJvZHksIG9wdGlvbnMpO1xuXG4gICAgICAgIHJldHVybiBib2R5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBuZXh0IHVuaXF1ZSBncm91cCBpbmRleCBmb3Igd2hpY2ggYm9kaWVzIHdpbGwgY29sbGlkZS5cbiAgICAgKiBJZiBgaXNOb25Db2xsaWRpbmdgIGlzIGB0cnVlYCwgcmV0dXJucyB0aGUgbmV4dCB1bmlxdWUgZ3JvdXAgaW5kZXggZm9yIHdoaWNoIGJvZGllcyB3aWxsIF9ub3RfIGNvbGxpZGUuXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICogQG1ldGhvZCBuZXh0R3JvdXBcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtpc05vbkNvbGxpZGluZz1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFVuaXF1ZSBncm91cCBpbmRleFxuICAgICAqL1xuICAgIEJvZHkubmV4dEdyb3VwID0gZnVuY3Rpb24oaXNOb25Db2xsaWRpbmcpIHtcbiAgICAgICAgaWYgKGlzTm9uQ29sbGlkaW5nKVxuICAgICAgICAgICAgcmV0dXJuIEJvZHkuX25leHROb25Db2xsaWRpbmdHcm91cElkLS07XG5cbiAgICAgICAgcmV0dXJuIEJvZHkuX25leHRDb2xsaWRpbmdHcm91cElkKys7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5leHQgdW5pcXVlIGNhdGVnb3J5IGJpdGZpZWxkIChzdGFydGluZyBhZnRlciB0aGUgaW5pdGlhbCBkZWZhdWx0IGNhdGVnb3J5IGAweDAwMDFgKS5cbiAgICAgKiBUaGVyZSBhcmUgMzIgYXZhaWxhYmxlLiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAbWV0aG9kIG5leHRDYXRlZ29yeVxuICAgICAqIEByZXR1cm4ge051bWJlcn0gVW5pcXVlIGNhdGVnb3J5IGJpdGZpZWxkXG4gICAgICovXG4gICAgQm9keS5uZXh0Q2F0ZWdvcnkgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgQm9keS5fbmV4dENhdGVnb3J5ID0gQm9keS5fbmV4dENhdGVnb3J5IDw8IDE7XG4gICAgICAgIHJldHVybiBCb2R5Ll9uZXh0Q2F0ZWdvcnk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpc2VzIGJvZHkgcHJvcGVydGllcy5cbiAgICAgKiBAbWV0aG9kIF9pbml0UHJvcGVydGllc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt9IFtvcHRpb25zXVxuICAgICAqL1xuICAgIHZhciBfaW5pdFByb3BlcnRpZXMgPSBmdW5jdGlvbihib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIC8vIGluaXQgcmVxdWlyZWQgcHJvcGVydGllcyAob3JkZXIgaXMgaW1wb3J0YW50KVxuICAgICAgICBCb2R5LnNldChib2R5LCB7XG4gICAgICAgICAgICBib3VuZHM6IGJvZHkuYm91bmRzIHx8IEJvdW5kcy5jcmVhdGUoYm9keS52ZXJ0aWNlcyksXG4gICAgICAgICAgICBwb3NpdGlvblByZXY6IGJvZHkucG9zaXRpb25QcmV2IHx8IFZlY3Rvci5jbG9uZShib2R5LnBvc2l0aW9uKSxcbiAgICAgICAgICAgIGFuZ2xlUHJldjogYm9keS5hbmdsZVByZXYgfHwgYm9keS5hbmdsZSxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBib2R5LnZlcnRpY2VzLFxuICAgICAgICAgICAgcGFydHM6IGJvZHkucGFydHMgfHwgW2JvZHldLFxuICAgICAgICAgICAgaXNTdGF0aWM6IGJvZHkuaXNTdGF0aWMsXG4gICAgICAgICAgICBpc1NsZWVwaW5nOiBib2R5LmlzU2xlZXBpbmcsXG4gICAgICAgICAgICBwYXJlbnQ6IGJvZHkucGFyZW50IHx8IGJvZHlcbiAgICAgICAgfSk7XG5cbiAgICAgICAgVmVydGljZXMucm90YXRlKGJvZHkudmVydGljZXMsIGJvZHkuYW5nbGUsIGJvZHkucG9zaXRpb24pO1xuICAgICAgICBBeGVzLnJvdGF0ZShib2R5LmF4ZXMsIGJvZHkuYW5nbGUpO1xuICAgICAgICBCb3VuZHMudXBkYXRlKGJvZHkuYm91bmRzLCBib2R5LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcblxuICAgICAgICAvLyBhbGxvdyBvcHRpb25zIHRvIG92ZXJyaWRlIHRoZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgcHJvcGVydGllc1xuICAgICAgICBCb2R5LnNldChib2R5LCB7XG4gICAgICAgICAgICBheGVzOiBvcHRpb25zLmF4ZXMgfHwgYm9keS5heGVzLFxuICAgICAgICAgICAgYXJlYTogb3B0aW9ucy5hcmVhIHx8IGJvZHkuYXJlYSxcbiAgICAgICAgICAgIG1hc3M6IG9wdGlvbnMubWFzcyB8fCBib2R5Lm1hc3MsXG4gICAgICAgICAgICBpbmVydGlhOiBvcHRpb25zLmluZXJ0aWEgfHwgYm9keS5pbmVydGlhXG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIHJlbmRlciBwcm9wZXJ0aWVzXG4gICAgICAgIHZhciBkZWZhdWx0RmlsbFN0eWxlID0gKGJvZHkuaXNTdGF0aWMgPyAnIzJlMmI0NCcgOiBDb21tb24uY2hvb3NlKFsnIzAwNkJBNicsICcjMDQ5NkZGJywgJyNGRkJDNDInLCAnI0Q4MTE1OScsICcjOEYyRDU2J10pKSxcbiAgICAgICAgICAgIGRlZmF1bHRTdHJva2VTdHlsZSA9ICcjMDAwJztcbiAgICAgICAgYm9keS5yZW5kZXIuZmlsbFN0eWxlID0gYm9keS5yZW5kZXIuZmlsbFN0eWxlIHx8IGRlZmF1bHRGaWxsU3R5bGU7XG4gICAgICAgIGJvZHkucmVuZGVyLnN0cm9rZVN0eWxlID0gYm9keS5yZW5kZXIuc3Ryb2tlU3R5bGUgfHwgZGVmYXVsdFN0cm9rZVN0eWxlO1xuICAgICAgICBib2R5LnJlbmRlci5zcHJpdGUueE9mZnNldCArPSAtKGJvZHkuYm91bmRzLm1pbi54IC0gYm9keS5wb3NpdGlvbi54KSAvIChib2R5LmJvdW5kcy5tYXgueCAtIGJvZHkuYm91bmRzLm1pbi54KTtcbiAgICAgICAgYm9keS5yZW5kZXIuc3ByaXRlLnlPZmZzZXQgKz0gLShib2R5LmJvdW5kcy5taW4ueSAtIGJvZHkucG9zaXRpb24ueSkgLyAoYm9keS5ib3VuZHMubWF4LnkgLSBib2R5LmJvdW5kcy5taW4ueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgcHJvcGVydHkgYW5kIGEgdmFsdWUgKG9yIG1hcCBvZiksIHNldHMgdGhlIHByb3BlcnR5KHMpIG9uIHRoZSBib2R5LCB1c2luZyB0aGUgYXBwcm9wcmlhdGUgc2V0dGVyIGZ1bmN0aW9ucyBpZiB0aGV5IGV4aXN0LlxuICAgICAqIFByZWZlciB0byB1c2UgdGhlIGFjdHVhbCBzZXR0ZXIgZnVuY3Rpb25zIGluIHBlcmZvcm1hbmNlIGNyaXRpY2FsIHNpdHVhdGlvbnMuXG4gICAgICogQG1ldGhvZCBzZXRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge30gc2V0dGluZ3MgQSBwcm9wZXJ0eSBuYW1lIChvciBtYXAgb2YgcHJvcGVydGllcyBhbmQgdmFsdWVzKSB0byBzZXQgb24gdGhlIGJvZHkuXG4gICAgICogQHBhcmFtIHt9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQgaWYgYHNldHRpbmdzYCBpcyBhIHNpbmdsZSBwcm9wZXJ0eSBuYW1lLlxuICAgICAqL1xuICAgIEJvZHkuc2V0ID0gZnVuY3Rpb24oYm9keSwgc2V0dGluZ3MsIHZhbHVlKSB7XG4gICAgICAgIHZhciBwcm9wZXJ0eTtcblxuICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgcHJvcGVydHkgPSBzZXR0aW5ncztcbiAgICAgICAgICAgIHNldHRpbmdzID0ge307XG4gICAgICAgICAgICBzZXR0aW5nc1twcm9wZXJ0eV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocHJvcGVydHkgaW4gc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHZhbHVlID0gc2V0dGluZ3NbcHJvcGVydHldO1xuXG4gICAgICAgICAgICBpZiAoIXNldHRpbmdzLmhhc093blByb3BlcnR5KHByb3BlcnR5KSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgc3dpdGNoIChwcm9wZXJ0eSkge1xuXG4gICAgICAgICAgICBjYXNlICdpc1N0YXRpYyc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRTdGF0aWMoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaXNTbGVlcGluZyc6XG4gICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21hc3MnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdkZW5zaXR5JzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldERlbnNpdHkoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnaW5lcnRpYSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRJbmVydGlhKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3ZlcnRpY2VzJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFZlcnRpY2VzKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Bvc2l0aW9uJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FuZ2xlJzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldEFuZ2xlKGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3ZlbG9jaXR5JzpcbiAgICAgICAgICAgICAgICBCb2R5LnNldFZlbG9jaXR5KGJvZHksIHZhbHVlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2FuZ3VsYXJWZWxvY2l0eSc6XG4gICAgICAgICAgICAgICAgQm9keS5zZXRBbmd1bGFyVmVsb2NpdHkoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGFydHMnOlxuICAgICAgICAgICAgICAgIEJvZHkuc2V0UGFydHMoYm9keSwgdmFsdWUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICBib2R5W3Byb3BlcnR5XSA9IHZhbHVlO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYm9keSBhcyBzdGF0aWMsIGluY2x1ZGluZyBpc1N0YXRpYyBmbGFnIGFuZCBzZXR0aW5nIG1hc3MgYW5kIGluZXJ0aWEgdG8gSW5maW5pdHkuXG4gICAgICogQG1ldGhvZCBzZXRTdGF0aWNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IGlzU3RhdGljXG4gICAgICovXG4gICAgQm9keS5zZXRTdGF0aWMgPSBmdW5jdGlvbihib2R5LCBpc1N0YXRpYykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcbiAgICAgICAgICAgIHBhcnQuaXNTdGF0aWMgPSBpc1N0YXRpYztcblxuICAgICAgICAgICAgaWYgKGlzU3RhdGljKSB7XG4gICAgICAgICAgICAgICAgcGFydC5fb3JpZ2luYWwgPSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3RpdHV0aW9uOiBwYXJ0LnJlc3RpdHV0aW9uLFxuICAgICAgICAgICAgICAgICAgICBmcmljdGlvbjogcGFydC5mcmljdGlvbixcbiAgICAgICAgICAgICAgICAgICAgbWFzczogcGFydC5tYXNzLFxuICAgICAgICAgICAgICAgICAgICBpbmVydGlhOiBwYXJ0LmluZXJ0aWEsXG4gICAgICAgICAgICAgICAgICAgIGRlbnNpdHk6IHBhcnQuZGVuc2l0eSxcbiAgICAgICAgICAgICAgICAgICAgaW52ZXJzZU1hc3M6IHBhcnQuaW52ZXJzZU1hc3MsXG4gICAgICAgICAgICAgICAgICAgIGludmVyc2VJbmVydGlhOiBwYXJ0LmludmVyc2VJbmVydGlhXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIHBhcnQucmVzdGl0dXRpb24gPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQuZnJpY3Rpb24gPSAxO1xuICAgICAgICAgICAgICAgIHBhcnQubWFzcyA9IHBhcnQuaW5lcnRpYSA9IHBhcnQuZGVuc2l0eSA9IEluZmluaXR5O1xuICAgICAgICAgICAgICAgIHBhcnQuaW52ZXJzZU1hc3MgPSBwYXJ0LmludmVyc2VJbmVydGlhID0gMDtcblxuICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb25QcmV2LnggPSBwYXJ0LnBvc2l0aW9uLng7XG4gICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvblByZXYueSA9IHBhcnQucG9zaXRpb24ueTtcbiAgICAgICAgICAgICAgICBwYXJ0LmFuZ2xlUHJldiA9IHBhcnQuYW5nbGU7XG4gICAgICAgICAgICAgICAgcGFydC5hbmd1bGFyVmVsb2NpdHkgPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQuc3BlZWQgPSAwO1xuICAgICAgICAgICAgICAgIHBhcnQuYW5ndWxhclNwZWVkID0gMDtcbiAgICAgICAgICAgICAgICBwYXJ0Lm1vdGlvbiA9IDA7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQuX29yaWdpbmFsKSB7XG4gICAgICAgICAgICAgICAgcGFydC5yZXN0aXR1dGlvbiA9IHBhcnQuX29yaWdpbmFsLnJlc3RpdHV0aW9uO1xuICAgICAgICAgICAgICAgIHBhcnQuZnJpY3Rpb24gPSBwYXJ0Ll9vcmlnaW5hbC5mcmljdGlvbjtcbiAgICAgICAgICAgICAgICBwYXJ0Lm1hc3MgPSBwYXJ0Ll9vcmlnaW5hbC5tYXNzO1xuICAgICAgICAgICAgICAgIHBhcnQuaW5lcnRpYSA9IHBhcnQuX29yaWdpbmFsLmluZXJ0aWE7XG4gICAgICAgICAgICAgICAgcGFydC5kZW5zaXR5ID0gcGFydC5fb3JpZ2luYWwuZGVuc2l0eTtcbiAgICAgICAgICAgICAgICBwYXJ0LmludmVyc2VNYXNzID0gcGFydC5fb3JpZ2luYWwuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgcGFydC5pbnZlcnNlSW5lcnRpYSA9IHBhcnQuX29yaWdpbmFsLmludmVyc2VJbmVydGlhO1xuXG4gICAgICAgICAgICAgICAgZGVsZXRlIHBhcnQuX29yaWdpbmFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1hc3Mgb2YgdGhlIGJvZHkuIEludmVyc2UgbWFzcywgZGVuc2l0eSBhbmQgaW5lcnRpYSBhcmUgYXV0b21hdGljYWxseSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIGNoYW5nZS5cbiAgICAgKiBAbWV0aG9kIHNldE1hc3NcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWFzc1xuICAgICAqL1xuICAgIEJvZHkuc2V0TWFzcyA9IGZ1bmN0aW9uKGJvZHksIG1hc3MpIHtcbiAgICAgICAgdmFyIG1vbWVudCA9IGJvZHkuaW5lcnRpYSAvIChib2R5Lm1hc3MgLyA2KTtcbiAgICAgICAgYm9keS5pbmVydGlhID0gbW9tZW50ICogKG1hc3MgLyA2KTtcbiAgICAgICAgYm9keS5pbnZlcnNlSW5lcnRpYSA9IDEgLyBib2R5LmluZXJ0aWE7XG5cbiAgICAgICAgYm9keS5tYXNzID0gbWFzcztcbiAgICAgICAgYm9keS5pbnZlcnNlTWFzcyA9IDEgLyBib2R5Lm1hc3M7XG4gICAgICAgIGJvZHkuZGVuc2l0eSA9IGJvZHkubWFzcyAvIGJvZHkuYXJlYTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgZGVuc2l0eSBvZiB0aGUgYm9keS4gTWFzcyBhbmQgaW5lcnRpYSBhcmUgYXV0b21hdGljYWxseSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIGNoYW5nZS5cbiAgICAgKiBAbWV0aG9kIHNldERlbnNpdHlcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVuc2l0eVxuICAgICAqL1xuICAgIEJvZHkuc2V0RGVuc2l0eSA9IGZ1bmN0aW9uKGJvZHksIGRlbnNpdHkpIHtcbiAgICAgICAgQm9keS5zZXRNYXNzKGJvZHksIGRlbnNpdHkgKiBib2R5LmFyZWEpO1xuICAgICAgICBib2R5LmRlbnNpdHkgPSBkZW5zaXR5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtb21lbnQgb2YgaW5lcnRpYSAoaS5lLiBzZWNvbmQgbW9tZW50IG9mIGFyZWEpIG9mIHRoZSBib2R5IG9mIHRoZSBib2R5LiBcbiAgICAgKiBJbnZlcnNlIGluZXJ0aWEgaXMgYXV0b21hdGljYWxseSB1cGRhdGVkIHRvIHJlZmxlY3QgdGhlIGNoYW5nZS4gTWFzcyBpcyBub3QgY2hhbmdlZC5cbiAgICAgKiBAbWV0aG9kIHNldEluZXJ0aWFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaW5lcnRpYVxuICAgICAqL1xuICAgIEJvZHkuc2V0SW5lcnRpYSA9IGZ1bmN0aW9uKGJvZHksIGluZXJ0aWEpIHtcbiAgICAgICAgYm9keS5pbmVydGlhID0gaW5lcnRpYTtcbiAgICAgICAgYm9keS5pbnZlcnNlSW5lcnRpYSA9IDEgLyBib2R5LmluZXJ0aWE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGJvZHkncyB2ZXJ0aWNlcyBhbmQgdXBkYXRlcyBib2R5IHByb3BlcnRpZXMgYWNjb3JkaW5nbHksIGluY2x1ZGluZyBpbmVydGlhLCBhcmVhIGFuZCBtYXNzICh3aXRoIHJlc3BlY3QgdG8gYGJvZHkuZGVuc2l0eWApLlxuICAgICAqIFZlcnRpY2VzIHdpbGwgYmUgYXV0b21hdGljYWxseSB0cmFuc2Zvcm1lZCB0byBiZSBvcmllbnRhdGVkIGFyb3VuZCB0aGVpciBjZW50cmUgb2YgbWFzcyBhcyB0aGUgb3JpZ2luLlxuICAgICAqIFRoZXkgYXJlIHRoZW4gYXV0b21hdGljYWxseSB0cmFuc2xhdGVkIHRvIHdvcmxkIHNwYWNlIGJhc2VkIG9uIGBib2R5LnBvc2l0aW9uYC5cbiAgICAgKlxuICAgICAqIFRoZSBgdmVydGljZXNgIGFyZ3VtZW50IHNob3VsZCBiZSBwYXNzZWQgYXMgYW4gYXJyYXkgb2YgYE1hdHRlci5WZWN0b3JgIHBvaW50cyAob3IgYSBgTWF0dGVyLlZlcnRpY2VzYCBhcnJheSkuXG4gICAgICogVmVydGljZXMgbXVzdCBmb3JtIGEgY29udmV4IGh1bGwsIGNvbmNhdmUgaHVsbHMgYXJlIG5vdCBzdXBwb3J0ZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIHNldFZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3JbXX0gdmVydGljZXNcbiAgICAgKi9cbiAgICBCb2R5LnNldFZlcnRpY2VzID0gZnVuY3Rpb24oYm9keSwgdmVydGljZXMpIHtcbiAgICAgICAgLy8gY2hhbmdlIHZlcnRpY2VzXG4gICAgICAgIGlmICh2ZXJ0aWNlc1swXS5ib2R5ID09PSBib2R5KSB7XG4gICAgICAgICAgICBib2R5LnZlcnRpY2VzID0gdmVydGljZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBib2R5LnZlcnRpY2VzID0gVmVydGljZXMuY3JlYXRlKHZlcnRpY2VzLCBib2R5KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHVwZGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgIGJvZHkuYXhlcyA9IEF4ZXMuZnJvbVZlcnRpY2VzKGJvZHkudmVydGljZXMpO1xuICAgICAgICBib2R5LmFyZWEgPSBWZXJ0aWNlcy5hcmVhKGJvZHkudmVydGljZXMpO1xuICAgICAgICBCb2R5LnNldE1hc3MoYm9keSwgYm9keS5kZW5zaXR5ICogYm9keS5hcmVhKTtcblxuICAgICAgICAvLyBvcmllbnQgdmVydGljZXMgYXJvdW5kIHRoZSBjZW50cmUgb2YgbWFzcyBhdCBvcmlnaW4gKDAsIDApXG4gICAgICAgIHZhciBjZW50cmUgPSBWZXJ0aWNlcy5jZW50cmUoYm9keS52ZXJ0aWNlcyk7XG4gICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShib2R5LnZlcnRpY2VzLCBjZW50cmUsIC0xKTtcblxuICAgICAgICAvLyB1cGRhdGUgaW5lcnRpYSB3aGlsZSB2ZXJ0aWNlcyBhcmUgYXQgb3JpZ2luICgwLCAwKVxuICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgQm9keS5faW5lcnRpYVNjYWxlICogVmVydGljZXMuaW5lcnRpYShib2R5LnZlcnRpY2VzLCBib2R5Lm1hc3MpKTtcblxuICAgICAgICAvLyB1cGRhdGUgZ2VvbWV0cnlcbiAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKGJvZHkudmVydGljZXMsIGJvZHkucG9zaXRpb24pO1xuICAgICAgICBCb3VuZHMudXBkYXRlKGJvZHkuYm91bmRzLCBib2R5LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcGFydHMgb2YgdGhlIGBib2R5YCBhbmQgdXBkYXRlcyBtYXNzLCBpbmVydGlhIGFuZCBjZW50cm9pZC5cbiAgICAgKiBFYWNoIHBhcnQgd2lsbCBoYXZlIGl0cyBwYXJlbnQgc2V0IHRvIGBib2R5YC5cbiAgICAgKiBCeSBkZWZhdWx0IHRoZSBjb252ZXggaHVsbCB3aWxsIGJlIGF1dG9tYXRpY2FsbHkgY29tcHV0ZWQgYW5kIHNldCBvbiBgYm9keWAsIHVubGVzcyBgYXV0b0h1bGxgIGlzIHNldCB0byBgZmFsc2UuYFxuICAgICAqIE5vdGUgdGhhdCB0aGlzIG1ldGhvZCB3aWxsIGVuc3VyZSB0aGF0IHRoZSBmaXJzdCBwYXJ0IGluIGBib2R5LnBhcnRzYCB3aWxsIGFsd2F5cyBiZSB0aGUgYGJvZHlgLlxuICAgICAqIEBtZXRob2Qgc2V0UGFydHNcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0gW2JvZHldIHBhcnRzXG4gICAgICogQHBhcmFtIHtib29sfSBbYXV0b0h1bGw9dHJ1ZV1cbiAgICAgKi9cbiAgICBCb2R5LnNldFBhcnRzID0gZnVuY3Rpb24oYm9keSwgcGFydHMsIGF1dG9IdWxsKSB7XG4gICAgICAgIHZhciBpO1xuXG4gICAgICAgIC8vIGFkZCBhbGwgdGhlIHBhcnRzLCBlbnN1cmluZyB0aGF0IHRoZSBmaXJzdCBwYXJ0IGlzIGFsd2F5cyB0aGUgcGFyZW50IGJvZHlcbiAgICAgICAgcGFydHMgPSBwYXJ0cy5zbGljZSgwKTtcbiAgICAgICAgYm9keS5wYXJ0cy5sZW5ndGggPSAwO1xuICAgICAgICBib2R5LnBhcnRzLnB1c2goYm9keSk7XG4gICAgICAgIGJvZHkucGFyZW50ID0gYm9keTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbaV07XG4gICAgICAgICAgICBpZiAocGFydCAhPT0gYm9keSkge1xuICAgICAgICAgICAgICAgIHBhcnQucGFyZW50ID0gYm9keTtcbiAgICAgICAgICAgICAgICBib2R5LnBhcnRzLnB1c2gocGFydCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYm9keS5wYXJ0cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgYXV0b0h1bGwgPSB0eXBlb2YgYXV0b0h1bGwgIT09ICd1bmRlZmluZWQnID8gYXV0b0h1bGwgOiB0cnVlO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIGNvbnZleCBodWxsIG9mIGFsbCBwYXJ0cyB0byBzZXQgb24gdGhlIHBhcmVudCBib2R5XG4gICAgICAgIGlmIChhdXRvSHVsbCkge1xuICAgICAgICAgICAgdmFyIHZlcnRpY2VzID0gW107XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlcyA9IHZlcnRpY2VzLmNvbmNhdChwYXJ0c1tpXS52ZXJ0aWNlcyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIFZlcnRpY2VzLmNsb2Nrd2lzZVNvcnQodmVydGljZXMpO1xuXG4gICAgICAgICAgICB2YXIgaHVsbCA9IFZlcnRpY2VzLmh1bGwodmVydGljZXMpLFxuICAgICAgICAgICAgICAgIGh1bGxDZW50cmUgPSBWZXJ0aWNlcy5jZW50cmUoaHVsbCk7XG5cbiAgICAgICAgICAgIEJvZHkuc2V0VmVydGljZXMoYm9keSwgaHVsbCk7XG4gICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUoYm9keS52ZXJ0aWNlcywgaHVsbENlbnRyZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdW0gdGhlIHByb3BlcnRpZXMgb2YgYWxsIGNvbXBvdW5kIHBhcnRzIG9mIHRoZSBwYXJlbnQgYm9keVxuICAgICAgICB2YXIgdG90YWwgPSBCb2R5Ll90b3RhbFByb3BlcnRpZXMoYm9keSk7XG5cbiAgICAgICAgYm9keS5hcmVhID0gdG90YWwuYXJlYTtcbiAgICAgICAgYm9keS5wYXJlbnQgPSBib2R5O1xuICAgICAgICBib2R5LnBvc2l0aW9uLnggPSB0b3RhbC5jZW50cmUueDtcbiAgICAgICAgYm9keS5wb3NpdGlvbi55ID0gdG90YWwuY2VudHJlLnk7XG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSB0b3RhbC5jZW50cmUueDtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IHRvdGFsLmNlbnRyZS55O1xuXG4gICAgICAgIEJvZHkuc2V0TWFzcyhib2R5LCB0b3RhbC5tYXNzKTtcbiAgICAgICAgQm9keS5zZXRJbmVydGlhKGJvZHksIHRvdGFsLmluZXJ0aWEpO1xuICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHRvdGFsLmNlbnRyZSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBvc2l0aW9uIG9mIHRoZSBib2R5IGluc3RhbnRseS4gVmVsb2NpdHksIGFuZ2xlLCBmb3JjZSBldGMuIGFyZSB1bmNoYW5nZWQuXG4gICAgICogQG1ldGhvZCBzZXRQb3NpdGlvblxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb3NpdGlvblxuICAgICAqL1xuICAgIEJvZHkuc2V0UG9zaXRpb24gPSBmdW5jdGlvbihib2R5LCBwb3NpdGlvbikge1xuICAgICAgICB2YXIgZGVsdGEgPSBWZWN0b3Iuc3ViKHBvc2l0aW9uLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCArPSBkZWx0YS54O1xuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IGRlbHRhLnk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07XG4gICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggKz0gZGVsdGEueDtcbiAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBkZWx0YS55O1xuICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIGRlbHRhKTtcbiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUocGFydC5ib3VuZHMsIHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFuZ2xlIG9mIHRoZSBib2R5IGluc3RhbnRseS4gQW5ndWxhciB2ZWxvY2l0eSwgcG9zaXRpb24sIGZvcmNlIGV0Yy4gYXJlIHVuY2hhbmdlZC5cbiAgICAgKiBAbWV0aG9kIHNldEFuZ2xlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICovXG4gICAgQm9keS5zZXRBbmdsZSA9IGZ1bmN0aW9uKGJvZHksIGFuZ2xlKSB7XG4gICAgICAgIHZhciBkZWx0YSA9IGFuZ2xlIC0gYm9keS5hbmdsZTtcbiAgICAgICAgYm9keS5hbmdsZVByZXYgKz0gZGVsdGE7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2R5LnBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbaV07XG4gICAgICAgICAgICBwYXJ0LmFuZ2xlICs9IGRlbHRhO1xuICAgICAgICAgICAgVmVydGljZXMucm90YXRlKHBhcnQudmVydGljZXMsIGRlbHRhLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgICAgIEF4ZXMucm90YXRlKHBhcnQuYXhlcywgZGVsdGEpO1xuICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBWZWN0b3Iucm90YXRlQWJvdXQocGFydC5wb3NpdGlvbiwgZGVsdGEsIGJvZHkucG9zaXRpb24sIHBhcnQucG9zaXRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpbmVhciB2ZWxvY2l0eSBvZiB0aGUgYm9keSBpbnN0YW50bHkuIFBvc2l0aW9uLCBhbmdsZSwgZm9yY2UgZXRjLiBhcmUgdW5jaGFuZ2VkLiBTZWUgYWxzbyBgQm9keS5hcHBseUZvcmNlYC5cbiAgICAgKiBAbWV0aG9kIHNldFZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlbG9jaXR5XG4gICAgICovXG4gICAgQm9keS5zZXRWZWxvY2l0eSA9IGZ1bmN0aW9uKGJvZHksIHZlbG9jaXR5KSB7XG4gICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggPSBib2R5LnBvc2l0aW9uLnggLSB2ZWxvY2l0eS54O1xuICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ID0gYm9keS5wb3NpdGlvbi55IC0gdmVsb2NpdHkueTtcbiAgICAgICAgYm9keS52ZWxvY2l0eS54ID0gdmVsb2NpdHkueDtcbiAgICAgICAgYm9keS52ZWxvY2l0eS55ID0gdmVsb2NpdHkueTtcbiAgICAgICAgYm9keS5zcGVlZCA9IFZlY3Rvci5tYWduaXR1ZGUoYm9keS52ZWxvY2l0eSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFuZ3VsYXIgdmVsb2NpdHkgb2YgdGhlIGJvZHkgaW5zdGFudGx5LiBQb3NpdGlvbiwgYW5nbGUsIGZvcmNlIGV0Yy4gYXJlIHVuY2hhbmdlZC4gU2VlIGFsc28gYEJvZHkuYXBwbHlGb3JjZWAuXG4gICAgICogQG1ldGhvZCBzZXRBbmd1bGFyVmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmVsb2NpdHlcbiAgICAgKi9cbiAgICBCb2R5LnNldEFuZ3VsYXJWZWxvY2l0eSA9IGZ1bmN0aW9uKGJvZHksIHZlbG9jaXR5KSB7XG4gICAgICAgIGJvZHkuYW5nbGVQcmV2ID0gYm9keS5hbmdsZSAtIHZlbG9jaXR5O1xuICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eSA9IHZlbG9jaXR5O1xuICAgICAgICBib2R5LmFuZ3VsYXJTcGVlZCA9IE1hdGguYWJzKGJvZHkuYW5ndWxhclZlbG9jaXR5KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgYSBib2R5IGJ5IGEgZ2l2ZW4gdmVjdG9yIHJlbGF0aXZlIHRvIGl0cyBjdXJyZW50IHBvc2l0aW9uLCB3aXRob3V0IGltcGFydGluZyBhbnkgdmVsb2NpdHkuXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdHJhbnNsYXRpb25cbiAgICAgKi9cbiAgICBCb2R5LnRyYW5zbGF0ZSA9IGZ1bmN0aW9uKGJvZHksIHRyYW5zbGF0aW9uKSB7XG4gICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwgVmVjdG9yLmFkZChib2R5LnBvc2l0aW9uLCB0cmFuc2xhdGlvbikpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGEgYm9keSBieSBhIGdpdmVuIGFuZ2xlIHJlbGF0aXZlIHRvIGl0cyBjdXJyZW50IGFuZ2xlLCB3aXRob3V0IGltcGFydGluZyBhbnkgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3RhdGlvblxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbcG9pbnRdXG4gICAgICovXG4gICAgQm9keS5yb3RhdGUgPSBmdW5jdGlvbihib2R5LCByb3RhdGlvbiwgcG9pbnQpIHtcbiAgICAgICAgaWYgKCFwb2ludCkge1xuICAgICAgICAgICAgQm9keS5zZXRBbmdsZShib2R5LCBib2R5LmFuZ2xlICsgcm90YXRpb24pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKHJvdGF0aW9uKSxcbiAgICAgICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihyb3RhdGlvbiksXG4gICAgICAgICAgICAgICAgZHggPSBib2R5LnBvc2l0aW9uLnggLSBwb2ludC54LFxuICAgICAgICAgICAgICAgIGR5ID0gYm9keS5wb3NpdGlvbi55IC0gcG9pbnQueTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyAoZHggKiBjb3MgLSBkeSAqIHNpbiksXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSArIChkeCAqIHNpbiArIGR5ICogY29zKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIEJvZHkuc2V0QW5nbGUoYm9keSwgYm9keS5hbmdsZSArIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgdGhlIGJvZHksIGluY2x1ZGluZyB1cGRhdGluZyBwaHlzaWNhbCBwcm9wZXJ0aWVzIChtYXNzLCBhcmVhLCBheGVzLCBpbmVydGlhKSwgZnJvbSBhIHdvcmxkLXNwYWNlIHBvaW50IChkZWZhdWx0IGlzIGJvZHkgY2VudHJlKS5cbiAgICAgKiBAbWV0aG9kIHNjYWxlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW3BvaW50XVxuICAgICAqL1xuICAgIEJvZHkuc2NhbGUgPSBmdW5jdGlvbihib2R5LCBzY2FsZVgsIHNjYWxlWSwgcG9pbnQpIHtcbiAgICAgICAgdmFyIHRvdGFsQXJlYSA9IDAsXG4gICAgICAgICAgICB0b3RhbEluZXJ0aWEgPSAwO1xuXG4gICAgICAgIHBvaW50ID0gcG9pbnQgfHwgYm9keS5wb3NpdGlvbjtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcblxuICAgICAgICAgICAgLy8gc2NhbGUgdmVydGljZXNcbiAgICAgICAgICAgIFZlcnRpY2VzLnNjYWxlKHBhcnQudmVydGljZXMsIHNjYWxlWCwgc2NhbGVZLCBwb2ludCk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBwcm9wZXJ0aWVzXG4gICAgICAgICAgICBwYXJ0LmF4ZXMgPSBBeGVzLmZyb21WZXJ0aWNlcyhwYXJ0LnZlcnRpY2VzKTtcbiAgICAgICAgICAgIHBhcnQuYXJlYSA9IFZlcnRpY2VzLmFyZWEocGFydC52ZXJ0aWNlcyk7XG4gICAgICAgICAgICBCb2R5LnNldE1hc3MocGFydCwgYm9keS5kZW5zaXR5ICogcGFydC5hcmVhKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGluZXJ0aWEgKHJlcXVpcmVzIHZlcnRpY2VzIHRvIGJlIGF0IG9yaWdpbilcbiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCB7IHg6IC1wYXJ0LnBvc2l0aW9uLngsIHk6IC1wYXJ0LnBvc2l0aW9uLnkgfSk7XG4gICAgICAgICAgICBCb2R5LnNldEluZXJ0aWEocGFydCwgQm9keS5faW5lcnRpYVNjYWxlICogVmVydGljZXMuaW5lcnRpYShwYXJ0LnZlcnRpY2VzLCBwYXJ0Lm1hc3MpKTtcbiAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCB7IHg6IHBhcnQucG9zaXRpb24ueCwgeTogcGFydC5wb3NpdGlvbi55IH0pO1xuXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICB0b3RhbEFyZWEgKz0gcGFydC5hcmVhO1xuICAgICAgICAgICAgICAgIHRvdGFsSW5lcnRpYSArPSBwYXJ0LmluZXJ0aWE7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIHNjYWxlIHBvc2l0aW9uXG4gICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggPSBwb2ludC54ICsgKHBhcnQucG9zaXRpb24ueCAtIHBvaW50LngpICogc2NhbGVYO1xuICAgICAgICAgICAgcGFydC5wb3NpdGlvbi55ID0gcG9pbnQueSArIChwYXJ0LnBvc2l0aW9uLnkgLSBwb2ludC55KSAqIHNjYWxlWTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGJvdW5kc1xuICAgICAgICAgICAgQm91bmRzLnVwZGF0ZShwYXJ0LmJvdW5kcywgcGFydC52ZXJ0aWNlcywgYm9keS52ZWxvY2l0eSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBoYW5kbGUgcGFyZW50IGJvZHlcbiAgICAgICAgaWYgKGJvZHkucGFydHMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgYm9keS5hcmVhID0gdG90YWxBcmVhO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgICAgICBCb2R5LnNldE1hc3MoYm9keSwgYm9keS5kZW5zaXR5ICogdG90YWxBcmVhKTtcbiAgICAgICAgICAgICAgICBCb2R5LnNldEluZXJ0aWEoYm9keSwgdG90YWxJbmVydGlhKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBjaXJjbGVzXG4gICAgICAgIGlmIChib2R5LmNpcmNsZVJhZGl1cykgeyBcbiAgICAgICAgICAgIGlmIChzY2FsZVggPT09IHNjYWxlWSkge1xuICAgICAgICAgICAgICAgIGJvZHkuY2lyY2xlUmFkaXVzICo9IHNjYWxlWDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gYm9keSBpcyBubyBsb25nZXIgYSBjaXJjbGVcbiAgICAgICAgICAgICAgICBib2R5LmNpcmNsZVJhZGl1cyA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBzaW11bGF0aW9uIHN0ZXAgZm9yIHRoZSBnaXZlbiBgYm9keWAsIGluY2x1ZGluZyB1cGRhdGluZyBwb3NpdGlvbiBhbmQgYW5nbGUgdXNpbmcgVmVybGV0IGludGVncmF0aW9uLlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRlbHRhVGltZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29ycmVjdGlvblxuICAgICAqL1xuICAgIEJvZHkudXBkYXRlID0gZnVuY3Rpb24oYm9keSwgZGVsdGFUaW1lLCB0aW1lU2NhbGUsIGNvcnJlY3Rpb24pIHtcbiAgICAgICAgdmFyIGRlbHRhVGltZVNxdWFyZWQgPSBNYXRoLnBvdyhkZWx0YVRpbWUgKiB0aW1lU2NhbGUgKiBib2R5LnRpbWVTY2FsZSwgMik7XG5cbiAgICAgICAgLy8gZnJvbSB0aGUgcHJldmlvdXMgc3RlcFxuICAgICAgICB2YXIgZnJpY3Rpb25BaXIgPSAxIC0gYm9keS5mcmljdGlvbkFpciAqIHRpbWVTY2FsZSAqIGJvZHkudGltZVNjYWxlLFxuICAgICAgICAgICAgdmVsb2NpdHlQcmV2WCA9IGJvZHkucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb25QcmV2LngsXG4gICAgICAgICAgICB2ZWxvY2l0eVByZXZZID0gYm9keS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvblByZXYueTtcblxuICAgICAgICAvLyB1cGRhdGUgdmVsb2NpdHkgd2l0aCBWZXJsZXQgaW50ZWdyYXRpb25cbiAgICAgICAgYm9keS52ZWxvY2l0eS54ID0gKHZlbG9jaXR5UHJldlggKiBmcmljdGlvbkFpciAqIGNvcnJlY3Rpb24pICsgKGJvZHkuZm9yY2UueCAvIGJvZHkubWFzcykgKiBkZWx0YVRpbWVTcXVhcmVkO1xuICAgICAgICBib2R5LnZlbG9jaXR5LnkgPSAodmVsb2NpdHlQcmV2WSAqIGZyaWN0aW9uQWlyICogY29ycmVjdGlvbikgKyAoYm9keS5mb3JjZS55IC8gYm9keS5tYXNzKSAqIGRlbHRhVGltZVNxdWFyZWQ7XG5cbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGJvZHkucG9zaXRpb24ueDtcbiAgICAgICAgYm9keS5wb3NpdGlvblByZXYueSA9IGJvZHkucG9zaXRpb24ueTtcbiAgICAgICAgYm9keS5wb3NpdGlvbi54ICs9IGJvZHkudmVsb2NpdHkueDtcbiAgICAgICAgYm9keS5wb3NpdGlvbi55ICs9IGJvZHkudmVsb2NpdHkueTtcblxuICAgICAgICAvLyB1cGRhdGUgYW5ndWxhciB2ZWxvY2l0eSB3aXRoIFZlcmxldCBpbnRlZ3JhdGlvblxuICAgICAgICBib2R5LmFuZ3VsYXJWZWxvY2l0eSA9ICgoYm9keS5hbmdsZSAtIGJvZHkuYW5nbGVQcmV2KSAqIGZyaWN0aW9uQWlyICogY29ycmVjdGlvbikgKyAoYm9keS50b3JxdWUgLyBib2R5LmluZXJ0aWEpICogZGVsdGFUaW1lU3F1YXJlZDtcbiAgICAgICAgYm9keS5hbmdsZVByZXYgPSBib2R5LmFuZ2xlO1xuICAgICAgICBib2R5LmFuZ2xlICs9IGJvZHkuYW5ndWxhclZlbG9jaXR5O1xuXG4gICAgICAgIC8vIHRyYWNrIHNwZWVkIGFuZCBhY2NlbGVyYXRpb25cbiAgICAgICAgYm9keS5zcGVlZCA9IFZlY3Rvci5tYWduaXR1ZGUoYm9keS52ZWxvY2l0eSk7XG4gICAgICAgIGJvZHkuYW5ndWxhclNwZWVkID0gTWF0aC5hYnMoYm9keS5hbmd1bGFyVmVsb2NpdHkpO1xuXG4gICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgYm9keSBnZW9tZXRyeVxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXTtcblxuICAgICAgICAgICAgVmVydGljZXMudHJhbnNsYXRlKHBhcnQudmVydGljZXMsIGJvZHkudmVsb2NpdHkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoaSA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggKz0gYm9keS52ZWxvY2l0eS54O1xuICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBib2R5LnZlbG9jaXR5Lnk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChib2R5LmFuZ3VsYXJWZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICAgICAgICAgIFZlcnRpY2VzLnJvdGF0ZShwYXJ0LnZlcnRpY2VzLCBib2R5LmFuZ3VsYXJWZWxvY2l0eSwgYm9keS5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgQXhlcy5yb3RhdGUocGFydC5heGVzLCBib2R5LmFuZ3VsYXJWZWxvY2l0eSk7XG4gICAgICAgICAgICAgICAgaWYgKGkgPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFZlY3Rvci5yb3RhdGVBYm91dChwYXJ0LnBvc2l0aW9uLCBib2R5LmFuZ3VsYXJWZWxvY2l0eSwgYm9keS5wb3NpdGlvbiwgcGFydC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIGEgZm9yY2UgdG8gYSBib2R5IGZyb20gYSBnaXZlbiB3b3JsZC1zcGFjZSBwb3NpdGlvbiwgaW5jbHVkaW5nIHJlc3VsdGluZyB0b3JxdWUuXG4gICAgICogQG1ldGhvZCBhcHBseUZvcmNlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvc2l0aW9uXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IGZvcmNlXG4gICAgICovXG4gICAgQm9keS5hcHBseUZvcmNlID0gZnVuY3Rpb24oYm9keSwgcG9zaXRpb24sIGZvcmNlKSB7XG4gICAgICAgIGJvZHkuZm9yY2UueCArPSBmb3JjZS54O1xuICAgICAgICBib2R5LmZvcmNlLnkgKz0gZm9yY2UueTtcbiAgICAgICAgdmFyIG9mZnNldCA9IHsgeDogcG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb24ueCwgeTogcG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb24ueSB9O1xuICAgICAgICBib2R5LnRvcnF1ZSArPSBvZmZzZXQueCAqIGZvcmNlLnkgLSBvZmZzZXQueSAqIGZvcmNlLng7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHN1bXMgb2YgdGhlIHByb3BlcnRpZXMgb2YgYWxsIGNvbXBvdW5kIHBhcnRzIG9mIHRoZSBwYXJlbnQgYm9keS5cbiAgICAgKiBAbWV0aG9kIF90b3RhbFByb3BlcnRpZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEByZXR1cm4ge31cbiAgICAgKi9cbiAgICBCb2R5Ll90b3RhbFByb3BlcnRpZXMgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgICAgIC8vIGZyb20gZXF1YXRpb25zIGF0OlxuICAgICAgICAvLyBodHRwczovL2Vjb3Vyc2VzLm91LmVkdS9jZ2ktYmluL2Vib29rLmNnaT9kb2M9JnRvcGljPXN0JmNoYXBfc2VjPTA3LjImcGFnZT10aGVvcnlcbiAgICAgICAgLy8gaHR0cDovL291dHB1dC50by9zaWRld2F5L2RlZmF1bHQuYXNwP3Fubz0xMjExMDAwODdcblxuICAgICAgICB2YXIgcHJvcGVydGllcyA9IHtcbiAgICAgICAgICAgIG1hc3M6IDAsXG4gICAgICAgICAgICBhcmVhOiAwLFxuICAgICAgICAgICAgaW5lcnRpYTogMCxcbiAgICAgICAgICAgIGNlbnRyZTogeyB4OiAwLCB5OiAwIH1cbiAgICAgICAgfTtcblxuICAgICAgICAvLyBzdW0gdGhlIHByb3BlcnRpZXMgb2YgYWxsIGNvbXBvdW5kIHBhcnRzIG9mIHRoZSBwYXJlbnQgYm9keVxuICAgICAgICBmb3IgKHZhciBpID0gYm9keS5wYXJ0cy5sZW5ndGggPT09IDEgPyAwIDogMTsgaSA8IGJvZHkucGFydHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tpXSxcbiAgICAgICAgICAgICAgICBtYXNzID0gcGFydC5tYXNzICE9PSBJbmZpbml0eSA/IHBhcnQubWFzcyA6IDE7XG5cbiAgICAgICAgICAgIHByb3BlcnRpZXMubWFzcyArPSBtYXNzO1xuICAgICAgICAgICAgcHJvcGVydGllcy5hcmVhICs9IHBhcnQuYXJlYTtcbiAgICAgICAgICAgIHByb3BlcnRpZXMuaW5lcnRpYSArPSBwYXJ0LmluZXJ0aWE7XG4gICAgICAgICAgICBwcm9wZXJ0aWVzLmNlbnRyZSA9IFZlY3Rvci5hZGQocHJvcGVydGllcy5jZW50cmUsIFZlY3Rvci5tdWx0KHBhcnQucG9zaXRpb24sIG1hc3MpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByb3BlcnRpZXMuY2VudHJlID0gVmVjdG9yLmRpdihwcm9wZXJ0aWVzLmNlbnRyZSwgcHJvcGVydGllcy5tYXNzKTtcblxuICAgICAgICByZXR1cm4gcHJvcGVydGllcztcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGJvZHkgc3RhcnRzIHNsZWVwaW5nICh3aGVyZSBgdGhpc2AgaXMgdGhlIGJvZHkpLlxuICAgICpcbiAgICAqIEBldmVudCBzbGVlcFN0YXJ0XG4gICAgKiBAdGhpcyB7Ym9keX0gVGhlIGJvZHkgdGhhdCBoYXMgc3RhcnRlZCBzbGVlcGluZ1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gYSBib2R5IGVuZHMgc2xlZXBpbmcgKHdoZXJlIGB0aGlzYCBpcyB0aGUgYm9keSkuXG4gICAgKlxuICAgICogQGV2ZW50IHNsZWVwRW5kXG4gICAgKiBAdGhpcyB7Ym9keX0gVGhlIGJvZHkgdGhhdCBoYXMgZW5kZWQgc2xlZXBpbmdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIG51bWJlciBnZW5lcmF0ZWQgaW4gYEJvZHkuY3JlYXRlYCBieSBgQ29tbW9uLm5leHRJZGAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcImJvZHlcIlxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJiaXRyYXJ5IGBTdHJpbmdgIG5hbWUgdG8gaGVscCB0aGUgdXNlciBpZGVudGlmeSBhbmQgbWFuYWdlIGJvZGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBsYWJlbFxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFwiQm9keVwiXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBib2RpZXMgdGhhdCBtYWtlIHVwIHRoaXMgYm9keS4gXG4gICAgICogVGhlIGZpcnN0IGJvZHkgaW4gdGhlIGFycmF5IG11c3QgYWx3YXlzIGJlIGEgc2VsZiByZWZlcmVuY2UgdG8gdGhlIGN1cnJlbnQgYm9keSBpbnN0YW5jZS5cbiAgICAgKiBBbGwgYm9kaWVzIGluIHRoZSBgcGFydHNgIGFycmF5IHRvZ2V0aGVyIGZvcm0gYSBzaW5nbGUgcmlnaWQgY29tcG91bmQgYm9keS5cbiAgICAgKiBQYXJ0cyBhcmUgYWxsb3dlZCB0byBvdmVybGFwLCBoYXZlIGdhcHMgb3IgaG9sZXMgb3IgZXZlbiBmb3JtIGNvbmNhdmUgYm9kaWVzLlxuICAgICAqIFBhcnRzIHRoZW1zZWx2ZXMgc2hvdWxkIG5ldmVyIGJlIGFkZGVkIHRvIGEgYFdvcmxkYCwgb25seSB0aGUgcGFyZW50IGJvZHkgc2hvdWxkIGJlLlxuICAgICAqIFVzZSBgQm9keS5zZXRQYXJ0c2Agd2hlbiBzZXR0aW5nIHBhcnRzIHRvIGVuc3VyZSBjb3JyZWN0IHVwZGF0ZXMgb2YgYWxsIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGFydHNcbiAgICAgKiBAdHlwZSBib2R5W11cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIG9iamVjdCByZXNlcnZlZCBmb3Igc3RvcmluZyBwbHVnaW4tc3BlY2lmaWMgcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwbHVnaW5cbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBzZWxmIHJlZmVyZW5jZSBpZiB0aGUgYm9keSBpcyBfbm90XyBhIHBhcnQgb2YgYW5vdGhlciBib2R5LlxuICAgICAqIE90aGVyd2lzZSB0aGlzIGlzIGEgcmVmZXJlbmNlIHRvIHRoZSBib2R5IHRoYXQgdGhpcyBpcyBhIHBhcnQgb2YuXG4gICAgICogU2VlIGBib2R5LnBhcnRzYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBwYXJlbnRcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHNwZWNpZnlpbmcgdGhlIGFuZ2xlIG9mIHRoZSBib2R5LCBpbiByYWRpYW5zLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGFuZ2xlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYFZlY3RvcmAgb2JqZWN0cyB0aGF0IHNwZWNpZnkgdGhlIGNvbnZleCBodWxsIG9mIHRoZSByaWdpZCBib2R5LlxuICAgICAqIFRoZXNlIHNob3VsZCBiZSBwcm92aWRlZCBhYm91dCB0aGUgb3JpZ2luIGAoMCwgMClgLiBFLmcuXG4gICAgICpcbiAgICAgKiAgICAgW3sgeDogMCwgeTogMCB9LCB7IHg6IDI1LCB5OiA1MCB9LCB7IHg6IDUwLCB5OiAwIH1dXG4gICAgICpcbiAgICAgKiBXaGVuIHBhc3NlZCB2aWEgYEJvZHkuY3JlYXRlYCwgdGhlIHZlcnRpY2VzIGFyZSB0cmFuc2xhdGVkIHJlbGF0aXZlIHRvIGBib2R5LnBvc2l0aW9uYCAoaS5lLiB3b3JsZC1zcGFjZSwgYW5kIGNvbnN0YW50bHkgdXBkYXRlZCBieSBgQm9keS51cGRhdGVgIGR1cmluZyBzaW11bGF0aW9uKS5cbiAgICAgKiBUaGUgYFZlY3RvcmAgb2JqZWN0cyBhcmUgYWxzbyBhdWdtZW50ZWQgd2l0aCBhZGRpdGlvbmFsIHByb3BlcnRpZXMgcmVxdWlyZWQgZm9yIGVmZmljaWVudCBjb2xsaXNpb24gZGV0ZWN0aW9uLiBcbiAgICAgKlxuICAgICAqIE90aGVyIHByb3BlcnRpZXMgc3VjaCBhcyBgaW5lcnRpYWAgYW5kIGBib3VuZHNgIGFyZSBhdXRvbWF0aWNhbGx5IGNhbGN1bGF0ZWQgZnJvbSB0aGUgcGFzc2VkIHZlcnRpY2VzICh1bmxlc3MgcHJvdmlkZWQgdmlhIGBvcHRpb25zYCkuXG4gICAgICogQ29uY2F2ZSBodWxscyBhcmUgbm90IGN1cnJlbnRseSBzdXBwb3J0ZWQuIFRoZSBtb2R1bGUgYE1hdHRlci5WZXJ0aWNlc2AgY29udGFpbnMgdXNlZnVsIG1ldGhvZHMgZm9yIHdvcmtpbmcgd2l0aCB2ZXJ0aWNlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB2ZXJ0aWNlc1xuICAgICAqIEB0eXBlIHZlY3RvcltdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgc3BlY2lmaWVzIHRoZSBjdXJyZW50IHdvcmxkLXNwYWNlIHBvc2l0aW9uIG9mIHRoZSBib2R5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBvc2l0aW9uXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFZlY3RvcmAgdGhhdCBzcGVjaWZpZXMgdGhlIGZvcmNlIHRvIGFwcGx5IGluIHRoZSBjdXJyZW50IHN0ZXAuIEl0IGlzIHplcm9lZCBhZnRlciBldmVyeSBgQm9keS51cGRhdGVgLiBTZWUgYWxzbyBgQm9keS5hcHBseUZvcmNlYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBmb3JjZVxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSB0b3JxdWUgKHR1cm5pbmcgZm9yY2UpIHRvIGFwcGx5IGluIHRoZSBjdXJyZW50IHN0ZXAuIEl0IGlzIHplcm9lZCBhZnRlciBldmVyeSBgQm9keS51cGRhdGVgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHRvcnF1ZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBfbWVhc3VyZXNfIHRoZSBjdXJyZW50IHNwZWVkIG9mIHRoZSBib2R5IGFmdGVyIHRoZSBsYXN0IGBCb2R5LnVwZGF0ZWAuIEl0IGlzIHJlYWQtb25seSBhbmQgYWx3YXlzIHBvc2l0aXZlIChpdCdzIHRoZSBtYWduaXR1ZGUgb2YgYGJvZHkudmVsb2NpdHlgKS5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBzcGVlZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBfbWVhc3VyZXNfIHRoZSBjdXJyZW50IGFuZ3VsYXIgc3BlZWQgb2YgdGhlIGJvZHkgYWZ0ZXIgdGhlIGxhc3QgYEJvZHkudXBkYXRlYC4gSXQgaXMgcmVhZC1vbmx5IGFuZCBhbHdheXMgcG9zaXRpdmUgKGl0J3MgdGhlIG1hZ25pdHVkZSBvZiBgYm9keS5hbmd1bGFyVmVsb2NpdHlgKS5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyU3BlZWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBWZWN0b3JgIHRoYXQgX21lYXN1cmVzXyB0aGUgY3VycmVudCB2ZWxvY2l0eSBvZiB0aGUgYm9keSBhZnRlciB0aGUgbGFzdCBgQm9keS51cGRhdGVgLiBJdCBpcyByZWFkLW9ubHkuIFxuICAgICAqIElmIHlvdSBuZWVkIHRvIG1vZGlmeSBhIGJvZHkncyB2ZWxvY2l0eSBkaXJlY3RseSwgeW91IHNob3VsZCBlaXRoZXIgYXBwbHkgYSBmb3JjZSBvciBzaW1wbHkgY2hhbmdlIHRoZSBib2R5J3MgYHBvc2l0aW9uYCAoYXMgdGhlIGVuZ2luZSB1c2VzIHBvc2l0aW9uLVZlcmxldCBpbnRlZ3JhdGlvbikuXG4gICAgICpcbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAcHJvcGVydHkgdmVsb2NpdHlcbiAgICAgKiBAdHlwZSB2ZWN0b3JcbiAgICAgKiBAZGVmYXVsdCB7IHg6IDAsIHk6IDAgfVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IF9tZWFzdXJlc18gdGhlIGN1cnJlbnQgYW5ndWxhciB2ZWxvY2l0eSBvZiB0aGUgYm9keSBhZnRlciB0aGUgbGFzdCBgQm9keS51cGRhdGVgLiBJdCBpcyByZWFkLW9ubHkuIFxuICAgICAqIElmIHlvdSBuZWVkIHRvIG1vZGlmeSBhIGJvZHkncyBhbmd1bGFyIHZlbG9jaXR5IGRpcmVjdGx5LCB5b3Ugc2hvdWxkIGFwcGx5IGEgdG9ycXVlIG9yIHNpbXBseSBjaGFuZ2UgdGhlIGJvZHkncyBgYW5nbGVgIChhcyB0aGUgZW5naW5lIHVzZXMgcG9zaXRpb24tVmVybGV0IGludGVncmF0aW9uKS5cbiAgICAgKlxuICAgICAqIEByZWFkT25seVxuICAgICAqIEBwcm9wZXJ0eSBhbmd1bGFyVmVsb2NpdHlcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciBhIGJvZHkgaXMgY29uc2lkZXJlZCBzdGF0aWMuIEEgc3RhdGljIGJvZHkgY2FuIG5ldmVyIGNoYW5nZSBwb3NpdGlvbiBvciBhbmdsZSBhbmQgaXMgY29tcGxldGVseSBmaXhlZC5cbiAgICAgKiBJZiB5b3UgbmVlZCB0byBzZXQgYSBib2R5IGFzIHN0YXRpYyBhZnRlciBpdHMgY3JlYXRpb24sIHlvdSBzaG91bGQgdXNlIGBCb2R5LnNldFN0YXRpY2AgYXMgdGhpcyByZXF1aXJlcyBtb3JlIHRoYW4ganVzdCBzZXR0aW5nIHRoaXMgZmxhZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpc1N0YXRpY1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgaW5kaWNhdGVzIHdoZXRoZXIgYSBib2R5IGlzIGEgc2Vuc29yLiBTZW5zb3IgdHJpZ2dlcnMgY29sbGlzaW9uIGV2ZW50cywgYnV0IGRvZXNuJ3QgcmVhY3Qgd2l0aCBjb2xsaWRpbmcgYm9keSBwaHlzaWNhbGx5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlzU2Vuc29yXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgd2hldGhlciB0aGUgYm9keSBpcyBjb25zaWRlcmVkIHNsZWVwaW5nLiBBIHNsZWVwaW5nIGJvZHkgYWN0cyBzaW1pbGFyIHRvIGEgc3RhdGljIGJvZHksIGV4Y2VwdCBpdCBpcyBvbmx5IHRlbXBvcmFyeSBhbmQgY2FuIGJlIGF3b2tlbi5cbiAgICAgKiBJZiB5b3UgbmVlZCB0byBzZXQgYSBib2R5IGFzIHNsZWVwaW5nLCB5b3Ugc2hvdWxkIHVzZSBgU2xlZXBpbmcuc2V0YCBhcyB0aGlzIHJlcXVpcmVzIG1vcmUgdGhhbiBqdXN0IHNldHRpbmcgdGhpcyBmbGFnLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGlzU2xlZXBpbmdcbiAgICAgKiBAdHlwZSBib29sZWFuXG4gICAgICogQGRlZmF1bHQgZmFsc2VcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBfbWVhc3VyZXNfIHRoZSBhbW91bnQgb2YgbW92ZW1lbnQgYSBib2R5IGN1cnJlbnRseSBoYXMgKGEgY29tYmluYXRpb24gb2YgYHNwZWVkYCBhbmQgYGFuZ3VsYXJTcGVlZGApLiBJdCBpcyByZWFkLW9ubHkgYW5kIGFsd2F5cyBwb3NpdGl2ZS5cbiAgICAgKiBJdCBpcyB1c2VkIGFuZCB1cGRhdGVkIGJ5IHRoZSBgTWF0dGVyLlNsZWVwaW5nYCBtb2R1bGUgZHVyaW5nIHNpbXVsYXRpb24gdG8gZGVjaWRlIGlmIGEgYm9keSBoYXMgY29tZSB0byByZXN0LlxuICAgICAqXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHByb3BlcnR5IG1vdGlvblxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBudW1iZXIgb2YgdXBkYXRlcyBpbiB3aGljaCB0aGlzIGJvZHkgbXVzdCBoYXZlIG5lYXItemVybyB2ZWxvY2l0eSBiZWZvcmUgaXQgaXMgc2V0IGFzIHNsZWVwaW5nIGJ5IHRoZSBgTWF0dGVyLlNsZWVwaW5nYCBtb2R1bGUgKGlmIHNsZWVwaW5nIGlzIGVuYWJsZWQgYnkgdGhlIGVuZ2luZSkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc2xlZXBUaHJlc2hvbGRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCA2MFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGRlbnNpdHkgb2YgdGhlIGJvZHksIHRoYXQgaXMgaXRzIG1hc3MgcGVyIHVuaXQgYXJlYS5cbiAgICAgKiBJZiB5b3UgcGFzcyB0aGUgZGVuc2l0eSB2aWEgYEJvZHkuY3JlYXRlYCB0aGUgYG1hc3NgIHByb3BlcnR5IGlzIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBmb3IgeW91IGJhc2VkIG9uIHRoZSBzaXplIChhcmVhKSBvZiB0aGUgb2JqZWN0LlxuICAgICAqIFRoaXMgaXMgZ2VuZXJhbGx5IHByZWZlcmFibGUgdG8gc2ltcGx5IHNldHRpbmcgbWFzcyBhbmQgYWxsb3dzIGZvciBtb3JlIGludHVpdGl2ZSBkZWZpbml0aW9uIG9mIG1hdGVyaWFscyAoZS5nLiByb2NrIGhhcyBhIGhpZ2hlciBkZW5zaXR5IHRoYW4gd29vZCkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZGVuc2l0eVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDAuMDAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgbWFzcyBvZiB0aGUgYm9keSwgYWx0aG91Z2ggaXQgbWF5IGJlIG1vcmUgYXBwcm9wcmlhdGUgdG8gc3BlY2lmeSB0aGUgYGRlbnNpdHlgIHByb3BlcnR5IGluc3RlYWQuXG4gICAgICogSWYgeW91IG1vZGlmeSB0aGlzIHZhbHVlLCB5b3UgbXVzdCBhbHNvIG1vZGlmeSB0aGUgYGJvZHkuaW52ZXJzZU1hc3NgIHByb3BlcnR5IChgMSAvIG1hc3NgKS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBtYXNzXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgaW52ZXJzZSBtYXNzIG9mIHRoZSBib2R5IChgMSAvIG1hc3NgKS5cbiAgICAgKiBJZiB5b3UgbW9kaWZ5IHRoaXMgdmFsdWUsIHlvdSBtdXN0IGFsc28gbW9kaWZ5IHRoZSBgYm9keS5tYXNzYCBwcm9wZXJ0eS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpbnZlcnNlTWFzc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG1vbWVudCBvZiBpbmVydGlhIChpLmUuIHNlY29uZCBtb21lbnQgb2YgYXJlYSkgb2YgdGhlIGJvZHkuXG4gICAgICogSXQgaXMgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIGZyb20gdGhlIGdpdmVuIGNvbnZleCBodWxsIChgdmVydGljZXNgIGFycmF5KSBhbmQgZGVuc2l0eSBpbiBgQm9keS5jcmVhdGVgLlxuICAgICAqIElmIHlvdSBtb2RpZnkgdGhpcyB2YWx1ZSwgeW91IG11c3QgYWxzbyBtb2RpZnkgdGhlIGBib2R5LmludmVyc2VJbmVydGlhYCBwcm9wZXJ0eSAoYDEgLyBpbmVydGlhYCkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaW5lcnRpYVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIGludmVyc2UgbW9tZW50IG9mIGluZXJ0aWEgb2YgdGhlIGJvZHkgKGAxIC8gaW5lcnRpYWApLlxuICAgICAqIElmIHlvdSBtb2RpZnkgdGhpcyB2YWx1ZSwgeW91IG11c3QgYWxzbyBtb2RpZnkgdGhlIGBib2R5LmluZXJ0aWFgIHByb3BlcnR5LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGludmVyc2VJbmVydGlhXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgcmVzdGl0dXRpb24gKGVsYXN0aWNpdHkpIG9mIHRoZSBib2R5LiBUaGUgdmFsdWUgaXMgYWx3YXlzIHBvc2l0aXZlIGFuZCBpcyBpbiB0aGUgcmFuZ2UgYCgwLCAxKWAuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgY29sbGlzaW9ucyBtYXkgYmUgcGVyZmVjdGx5IGluZWxhc3RpYyBhbmQgbm8gYm91bmNpbmcgbWF5IG9jY3VyLiBcbiAgICAgKiBBIHZhbHVlIG9mIGAwLjhgIG1lYW5zIHRoZSBib2R5IG1heSBib3VuY2UgYmFjayB3aXRoIGFwcHJveGltYXRlbHkgODAlIG9mIGl0cyBraW5ldGljIGVuZXJneS5cbiAgICAgKiBOb3RlIHRoYXQgY29sbGlzaW9uIHJlc3BvbnNlIGlzIGJhc2VkIG9uIF9wYWlyc18gb2YgYm9kaWVzLCBhbmQgdGhhdCBgcmVzdGl0dXRpb25gIHZhbHVlcyBhcmUgX2NvbWJpbmVkXyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybXVsYTpcbiAgICAgKlxuICAgICAqICAgICBNYXRoLm1heChib2R5QS5yZXN0aXR1dGlvbiwgYm9keUIucmVzdGl0dXRpb24pXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVzdGl0dXRpb25cbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgZnJpY3Rpb24gb2YgdGhlIGJvZHkuIFRoZSB2YWx1ZSBpcyBhbHdheXMgcG9zaXRpdmUgYW5kIGlzIGluIHRoZSByYW5nZSBgKDAsIDEpYC5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyB0aGF0IHRoZSBib2R5IG1heSBzbGlkZSBpbmRlZmluaXRlbHkuXG4gICAgICogQSB2YWx1ZSBvZiBgMWAgbWVhbnMgdGhlIGJvZHkgbWF5IGNvbWUgdG8gYSBzdG9wIGFsbW9zdCBpbnN0YW50bHkgYWZ0ZXIgYSBmb3JjZSBpcyBhcHBsaWVkLlxuICAgICAqXG4gICAgICogVGhlIGVmZmVjdHMgb2YgdGhlIHZhbHVlIG1heSBiZSBub24tbGluZWFyLiBcbiAgICAgKiBIaWdoIHZhbHVlcyBtYXkgYmUgdW5zdGFibGUgZGVwZW5kaW5nIG9uIHRoZSBib2R5LlxuICAgICAqIFRoZSBlbmdpbmUgdXNlcyBhIENvdWxvbWIgZnJpY3Rpb24gbW9kZWwgaW5jbHVkaW5nIHN0YXRpYyBhbmQga2luZXRpYyBmcmljdGlvbi5cbiAgICAgKiBOb3RlIHRoYXQgY29sbGlzaW9uIHJlc3BvbnNlIGlzIGJhc2VkIG9uIF9wYWlyc18gb2YgYm9kaWVzLCBhbmQgdGhhdCBgZnJpY3Rpb25gIHZhbHVlcyBhcmUgX2NvbWJpbmVkXyB3aXRoIHRoZSBmb2xsb3dpbmcgZm9ybXVsYTpcbiAgICAgKlxuICAgICAqICAgICBNYXRoLm1pbihib2R5QS5mcmljdGlvbiwgYm9keUIuZnJpY3Rpb24pXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25cbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBzdGF0aWMgZnJpY3Rpb24gb2YgdGhlIGJvZHkgKGluIHRoZSBDb3Vsb21iIGZyaWN0aW9uIG1vZGVsKS4gXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgdGhlIGJvZHkgd2lsbCBuZXZlciAnc3RpY2snIHdoZW4gaXQgaXMgbmVhcmx5IHN0YXRpb25hcnkgYW5kIG9ubHkgZHluYW1pYyBgZnJpY3Rpb25gIGlzIHVzZWQuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUgKGUuZy4gYDEwYCksIHRoZSBtb3JlIGZvcmNlIGl0IHdpbGwgdGFrZSB0byBpbml0aWFsbHkgZ2V0IHRoZSBib2R5IG1vdmluZyB3aGVuIG5lYXJseSBzdGF0aW9uYXJ5LlxuICAgICAqIFRoaXMgdmFsdWUgaXMgbXVsdGlwbGllZCB3aXRoIHRoZSBgZnJpY3Rpb25gIHByb3BlcnR5IHRvIG1ha2UgaXQgZWFzaWVyIHRvIGNoYW5nZSBgZnJpY3Rpb25gIGFuZCBtYWludGFpbiBhbiBhcHByb3ByaWF0ZSBhbW91bnQgb2Ygc3RhdGljIGZyaWN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGZyaWN0aW9uU3RhdGljXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC41XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgYWlyIGZyaWN0aW9uIG9mIHRoZSBib2R5IChhaXIgcmVzaXN0YW5jZSkuIFxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIHRoZSBib2R5IHdpbGwgbmV2ZXIgc2xvdyBhcyBpdCBtb3ZlcyB0aHJvdWdoIHNwYWNlLlxuICAgICAqIFRoZSBoaWdoZXIgdGhlIHZhbHVlLCB0aGUgZmFzdGVyIGEgYm9keSBzbG93cyB3aGVuIG1vdmluZyB0aHJvdWdoIHNwYWNlLlxuICAgICAqIFRoZSBlZmZlY3RzIG9mIHRoZSB2YWx1ZSBhcmUgbm9uLWxpbmVhci4gXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZnJpY3Rpb25BaXJcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwLjAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGZpbHRlcmluZyBwcm9wZXJ0aWVzIG9mIHRoaXMgYm9keS5cbiAgICAgKlxuICAgICAqIENvbGxpc2lvbnMgYmV0d2VlbiB0d28gYm9kaWVzIHdpbGwgb2JleSB0aGUgZm9sbG93aW5nIHJ1bGVzOlxuICAgICAqIC0gSWYgdGhlIHR3byBib2RpZXMgaGF2ZSB0aGUgc2FtZSBub24temVybyB2YWx1ZSBvZiBgY29sbGlzaW9uRmlsdGVyLmdyb3VwYCxcbiAgICAgKiAgIHRoZXkgd2lsbCBhbHdheXMgY29sbGlkZSBpZiB0aGUgdmFsdWUgaXMgcG9zaXRpdmUsIGFuZCB0aGV5IHdpbGwgbmV2ZXIgY29sbGlkZVxuICAgICAqICAgaWYgdGhlIHZhbHVlIGlzIG5lZ2F0aXZlLlxuICAgICAqIC0gSWYgdGhlIHR3byBib2RpZXMgaGF2ZSBkaWZmZXJlbnQgdmFsdWVzIG9mIGBjb2xsaXNpb25GaWx0ZXIuZ3JvdXBgIG9yIGlmIG9uZVxuICAgICAqICAgKG9yIGJvdGgpIG9mIHRoZSBib2RpZXMgaGFzIGEgdmFsdWUgb2YgMCwgdGhlbiB0aGUgY2F0ZWdvcnkvbWFzayBydWxlcyBhcHBseSBhcyBmb2xsb3dzOlxuICAgICAqXG4gICAgICogRWFjaCBib2R5IGJlbG9uZ3MgdG8gYSBjb2xsaXNpb24gY2F0ZWdvcnksIGdpdmVuIGJ5IGBjb2xsaXNpb25GaWx0ZXIuY2F0ZWdvcnlgLiBUaGlzXG4gICAgICogdmFsdWUgaXMgdXNlZCBhcyBhIGJpdCBmaWVsZCBhbmQgdGhlIGNhdGVnb3J5IHNob3VsZCBoYXZlIG9ubHkgb25lIGJpdCBzZXQsIG1lYW5pbmcgdGhhdFxuICAgICAqIHRoZSB2YWx1ZSBvZiB0aGlzIHByb3BlcnR5IGlzIGEgcG93ZXIgb2YgdHdvIGluIHRoZSByYW5nZSBbMSwgMl4zMV0uIFRodXMsIHRoZXJlIGFyZSAzMlxuICAgICAqIGRpZmZlcmVudCBjb2xsaXNpb24gY2F0ZWdvcmllcyBhdmFpbGFibGUuXG4gICAgICpcbiAgICAgKiBFYWNoIGJvZHkgYWxzbyBkZWZpbmVzIGEgY29sbGlzaW9uIGJpdG1hc2ssIGdpdmVuIGJ5IGBjb2xsaXNpb25GaWx0ZXIubWFza2Agd2hpY2ggc3BlY2lmaWVzXG4gICAgICogdGhlIGNhdGVnb3JpZXMgaXQgY29sbGlkZXMgd2l0aCAodGhlIHZhbHVlIGlzIHRoZSBiaXR3aXNlIEFORCB2YWx1ZSBvZiBhbGwgdGhlc2UgY2F0ZWdvcmllcykuXG4gICAgICpcbiAgICAgKiBVc2luZyB0aGUgY2F0ZWdvcnkvbWFzayBydWxlcywgdHdvIGJvZGllcyBgQWAgYW5kIGBCYCBjb2xsaWRlIGlmIGVhY2ggaW5jbHVkZXMgdGhlIG90aGVyJ3NcbiAgICAgKiBjYXRlZ29yeSBpbiBpdHMgbWFzaywgaS5lLiBgKGNhdGVnb3J5QSAmIG1hc2tCKSAhPT0gMGAgYW5kIGAoY2F0ZWdvcnlCICYgbWFza0EpICE9PSAwYFxuICAgICAqIGFyZSBib3RoIHRydWUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBJbnRlZ2VyIGBOdW1iZXJgLCB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGdyb3VwIHRoaXMgYm9keSBiZWxvbmdzIHRvLlxuICAgICAqIFNlZSBgYm9keS5jb2xsaXNpb25GaWx0ZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbGxpc2lvbkZpbHRlci5ncm91cFxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYml0IGZpZWxkIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gY2F0ZWdvcnkgdGhpcyBib2R5IGJlbG9uZ3MgdG8uXG4gICAgICogVGhlIGNhdGVnb3J5IHZhbHVlIHNob3VsZCBoYXZlIG9ubHkgb25lIGJpdCBzZXQsIGZvciBleGFtcGxlIGAweDAwMDFgLlxuICAgICAqIFRoaXMgbWVhbnMgdGhlcmUgYXJlIHVwIHRvIDMyIHVuaXF1ZSBjb2xsaXNpb24gY2F0ZWdvcmllcyBhdmFpbGFibGUuXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyLmNhdGVnb3J5XG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBiaXQgbWFzayB0aGF0IHNwZWNpZmllcyB0aGUgY29sbGlzaW9uIGNhdGVnb3JpZXMgdGhpcyBib2R5IG1heSBjb2xsaWRlIHdpdGguXG4gICAgICogU2VlIGBib2R5LmNvbGxpc2lvbkZpbHRlcmAgZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29sbGlzaW9uRmlsdGVyLm1hc2tcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKiBAZGVmYXVsdCAtMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyBhIHRvbGVyYW5jZSBvbiBob3cgZmFyIGEgYm9keSBpcyBhbGxvd2VkIHRvICdzaW5rJyBvciByb3RhdGUgaW50byBvdGhlciBib2RpZXMuXG4gICAgICogQXZvaWQgY2hhbmdpbmcgdGhpcyB2YWx1ZSB1bmxlc3MgeW91IHVuZGVyc3RhbmQgdGhlIHB1cnBvc2Ugb2YgYHNsb3BgIGluIHBoeXNpY3MgZW5naW5lcy5cbiAgICAgKiBUaGUgZGVmYXVsdCBzaG91bGQgZ2VuZXJhbGx5IHN1ZmZpY2UsIGFsdGhvdWdoIHZlcnkgbGFyZ2UgYm9kaWVzIG1heSByZXF1aXJlIGxhcmdlciB2YWx1ZXMgZm9yIHN0YWJsZSBzdGFja2luZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBzbG9wXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMC4wNVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IGFsbG93cyBwZXItYm9keSB0aW1lIHNjYWxpbmcsIGUuZy4gYSBmb3JjZS1maWVsZCB3aGVyZSBib2RpZXMgaW5zaWRlIGFyZSBpbiBzbG93LW1vdGlvbiwgd2hpbGUgb3RoZXJzIGFyZSBhdCBmdWxsIHNwZWVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHRpbWVTY2FsZVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgZGVmaW5lcyB0aGUgcmVuZGVyaW5nIHByb3BlcnRpZXMgdG8gYmUgY29uc3VtZWQgYnkgdGhlIG1vZHVsZSBgTWF0dGVyLlJlbmRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGJvZHkgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci52aXNpYmxlXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG9wYWNpdHkgdG8gdXNlIHdoZW4gcmVuZGVyaW5nLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5vcGFjaXR5XG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBgT2JqZWN0YCB0aGF0IGRlZmluZXMgdGhlIHNwcml0ZSBwcm9wZXJ0aWVzIHRvIHVzZSB3aGVuIHJlbmRlcmluZywgaWYgYW55LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGVcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgcGF0aCB0byB0aGUgaW1hZ2UgdG8gdXNlIGFzIHRoZSBzcHJpdGUgdGV4dHVyZSwgaWYgYW55LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUudGV4dHVyZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqL1xuICAgICBcbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgc2NhbGluZyBpbiB0aGUgeC1heGlzIGZvciB0aGUgc3ByaXRlLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS54U2NhbGVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgZGVmaW5lcyB0aGUgc2NhbGluZyBpbiB0aGUgeS1heGlzIGZvciB0aGUgc3ByaXRlLCBpZiBhbnkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnNwcml0ZS55U2NhbGVcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAxXG4gICAgICovXG5cbiAgICAgLyoqXG4gICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBvZmZzZXQgaW4gdGhlIHgtYXhpcyBmb3IgdGhlIHNwcml0ZSAobm9ybWFsaXNlZCBieSB0ZXh0dXJlIHdpZHRoKS5cbiAgICAgICpcbiAgICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUueE9mZnNldFxuICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICogQGRlZmF1bHQgMFxuICAgICAgKi9cblxuICAgICAvKipcbiAgICAgICogQSBgTnVtYmVyYCB0aGF0IGRlZmluZXMgdGhlIG9mZnNldCBpbiB0aGUgeS1heGlzIGZvciB0aGUgc3ByaXRlIChub3JtYWxpc2VkIGJ5IHRleHR1cmUgaGVpZ2h0KS5cbiAgICAgICpcbiAgICAgICogQHByb3BlcnR5IHJlbmRlci5zcHJpdGUueU9mZnNldFxuICAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgICogQGRlZmF1bHQgMFxuICAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBsaW5lIHdpZHRoIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgYm9keSBvdXRsaW5lIChpZiBhIHNwcml0ZSBpcyBub3QgZGVmaW5lZCkuXG4gICAgICogQSB2YWx1ZSBvZiBgMGAgbWVhbnMgbm8gb3V0bGluZSB3aWxsIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5saW5lV2lkdGhcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgZmlsbCBzdHlsZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGJvZHkgKGlmIGEgc3ByaXRlIGlzIG5vdCBkZWZpbmVkKS5cbiAgICAgKiBJdCBpcyB0aGUgc2FtZSBhcyB3aGVuIHVzaW5nIGEgY2FudmFzLCBzbyBpdCBhY2NlcHRzIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLmZpbGxTdHlsZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IGEgcmFuZG9tIGNvbG91clxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgU3RyaW5nYCB0aGF0IGRlZmluZXMgdGhlIHN0cm9rZSBzdHlsZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGJvZHkgb3V0bGluZSAoaWYgYSBzcHJpdGUgaXMgbm90IGRlZmluZWQpLlxuICAgICAqIEl0IGlzIHRoZSBzYW1lIGFzIHdoZW4gdXNpbmcgYSBjYW52YXMsIHNvIGl0IGFjY2VwdHMgQ1NTIHN0eWxlIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIuc3Ryb2tlU3R5bGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBhIHJhbmRvbSBjb2xvdXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIHVuaXF1ZSBheGlzIHZlY3RvcnMgKGVkZ2Ugbm9ybWFscykgdXNlZCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi5cbiAgICAgKiBUaGVzZSBhcmUgYXV0b21hdGljYWxseSBjYWxjdWxhdGVkIGZyb20gdGhlIGdpdmVuIGNvbnZleCBodWxsIChgdmVydGljZXNgIGFycmF5KSBpbiBgQm9keS5jcmVhdGVgLlxuICAgICAqIFRoZXkgYXJlIGNvbnN0YW50bHkgdXBkYXRlZCBieSBgQm9keS51cGRhdGVgIGR1cmluZyB0aGUgc2ltdWxhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBheGVzXG4gICAgICogQHR5cGUgdmVjdG9yW11cbiAgICAgKi9cbiAgICAgXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IF9tZWFzdXJlc18gdGhlIGFyZWEgb2YgdGhlIGJvZHkncyBjb252ZXggaHVsbCwgY2FsY3VsYXRlZCBhdCBjcmVhdGlvbiBieSBgQm9keS5jcmVhdGVgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGFyZWFcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvdW5kc2Agb2JqZWN0IHRoYXQgZGVmaW5lcyB0aGUgQUFCQiByZWdpb24gZm9yIHRoZSBib2R5LlxuICAgICAqIEl0IGlzIGF1dG9tYXRpY2FsbHkgY2FsY3VsYXRlZCBmcm9tIHRoZSBnaXZlbiBjb252ZXggaHVsbCAoYHZlcnRpY2VzYCBhcnJheSkgaW4gYEJvZHkuY3JlYXRlYCBhbmQgY29uc3RhbnRseSB1cGRhdGVkIGJ5IGBCb2R5LnVwZGF0ZWAgZHVyaW5nIHNpbXVsYXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm91bmRzXG4gICAgICogQHR5cGUgYm91bmRzXG4gICAgICovXG5cbn0pKCk7XG5cbn0se1wiLi4vY29yZS9Db21tb25cIjoxNCxcIi4uL2NvcmUvU2xlZXBpbmdcIjoyMixcIi4uL2dlb21ldHJ5L0F4ZXNcIjoyNSxcIi4uL2dlb21ldHJ5L0JvdW5kc1wiOjI2LFwiLi4vZ2VvbWV0cnkvVmVjdG9yXCI6MjgsXCIuLi9nZW9tZXRyeS9WZXJ0aWNlc1wiOjI5LFwiLi4vcmVuZGVyL1JlbmRlclwiOjMxfV0sMjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuQ29tcG9zaXRlYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb21wb3NpdGUgYm9kaWVzLlxuKiBBIGNvbXBvc2l0ZSBib2R5IGlzIGEgY29sbGVjdGlvbiBvZiBgTWF0dGVyLkJvZHlgLCBgTWF0dGVyLkNvbnN0cmFpbnRgIGFuZCBvdGhlciBgTWF0dGVyLkNvbXBvc2l0ZWAsIHRoZXJlZm9yZSBjb21wb3NpdGVzIGZvcm0gYSB0cmVlIHN0cnVjdHVyZS5cbiogSXQgaXMgaW1wb3J0YW50IHRvIHVzZSB0aGUgZnVuY3Rpb25zIGluIHRoaXMgbW9kdWxlIHRvIG1vZGlmeSBjb21wb3NpdGVzLCByYXRoZXIgdGhhbiBkaXJlY3RseSBtb2RpZnlpbmcgdGhlaXIgcHJvcGVydGllcy5cbiogTm90ZSB0aGF0IHRoZSBgTWF0dGVyLldvcmxkYCBvYmplY3QgaXMgYWxzbyBhIHR5cGUgb2YgYE1hdHRlci5Db21wb3NpdGVgIGFuZCBhcyBzdWNoIGFsbCBjb21wb3NpdGUgbWV0aG9kcyBoZXJlIGNhbiBhbHNvIG9wZXJhdGUgb24gYSBgTWF0dGVyLldvcmxkYC5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIENvbXBvc2l0ZVxuKi9cblxudmFyIENvbXBvc2l0ZSA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbXBvc2l0ZTtcblxudmFyIEV2ZW50cyA9IF9kZXJlcV8oJy4uL2NvcmUvRXZlbnRzJyk7XG52YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTtcbnZhciBCb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTtcbnZhciBCb2R5ID0gX2RlcmVxXygnLi9Cb2R5Jyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgY29tcG9zaXRlLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBTZWUgdGhlIHByb3Blcml0ZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoeyBcbiAgICAgICAgICAgIGlkOiBDb21tb24ubmV4dElkKCksXG4gICAgICAgICAgICB0eXBlOiAnY29tcG9zaXRlJyxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGlzTW9kaWZpZWQ6IGZhbHNlLFxuICAgICAgICAgICAgYm9kaWVzOiBbXSwgXG4gICAgICAgICAgICBjb25zdHJhaW50czogW10sIFxuICAgICAgICAgICAgY29tcG9zaXRlczogW10sXG4gICAgICAgICAgICBsYWJlbDogJ0NvbXBvc2l0ZScsXG4gICAgICAgICAgICBwbHVnaW46IHt9XG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBjb21wb3NpdGUncyBgaXNNb2RpZmllZGAgZmxhZy4gXG4gICAgICogSWYgYHVwZGF0ZVBhcmVudHNgIGlzIHRydWUsIGFsbCBwYXJlbnRzIHdpbGwgYmUgc2V0IChkZWZhdWx0OiBmYWxzZSkuXG4gICAgICogSWYgYHVwZGF0ZUNoaWxkcmVuYCBpcyB0cnVlLCBhbGwgY2hpbGRyZW4gd2lsbCBiZSBzZXQgKGRlZmF1bHQ6IGZhbHNlKS5cbiAgICAgKiBAbWV0aG9kIHNldE1vZGlmaWVkXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNNb2RpZmllZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW3VwZGF0ZVBhcmVudHM9ZmFsc2VdXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbdXBkYXRlQ2hpbGRyZW49ZmFsc2VdXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkID0gZnVuY3Rpb24oY29tcG9zaXRlLCBpc01vZGlmaWVkLCB1cGRhdGVQYXJlbnRzLCB1cGRhdGVDaGlsZHJlbikge1xuICAgICAgICBjb21wb3NpdGUuaXNNb2RpZmllZCA9IGlzTW9kaWZpZWQ7XG5cbiAgICAgICAgaWYgKHVwZGF0ZVBhcmVudHMgJiYgY29tcG9zaXRlLnBhcmVudCkge1xuICAgICAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZS5wYXJlbnQsIGlzTW9kaWZpZWQsIHVwZGF0ZVBhcmVudHMsIHVwZGF0ZUNoaWxkcmVuKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh1cGRhdGVDaGlsZHJlbikge1xuICAgICAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNoaWxkQ29tcG9zaXRlID0gY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV07XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNoaWxkQ29tcG9zaXRlLCBpc01vZGlmaWVkLCB1cGRhdGVQYXJlbnRzLCB1cGRhdGVDaGlsZHJlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyBhZGQgZnVuY3Rpb24uIEFkZHMgb25lIG9yIG1hbnkgYm9keShzKSwgY29uc3RyYWludChzKSBvciBhIGNvbXBvc2l0ZShzKSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIFRyaWdnZXJzIGBiZWZvcmVBZGRgIGFuZCBgYWZ0ZXJBZGRgIGV2ZW50cyBvbiB0aGUgYGNvbXBvc2l0ZWAuXG4gICAgICogQG1ldGhvZCBhZGRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHt9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBvYmplY3RzIGFkZGVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFkZCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgb2JqZWN0KSB7XG4gICAgICAgIHZhciBvYmplY3RzID0gW10uY29uY2F0KG9iamVjdCk7XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoY29tcG9zaXRlLCAnYmVmb3JlQWRkJywgeyBvYmplY3Q6IG9iamVjdCB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBvYmogPSBvYmplY3RzW2ldO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKG9iai50eXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ2JvZHknOlxuICAgICAgICAgICAgICAgIC8vIHNraXAgYWRkaW5nIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICAgICAgaWYgKG9iai5wYXJlbnQgIT09IG9iaikge1xuICAgICAgICAgICAgICAgICAgICBDb21tb24ud2FybignQ29tcG9zaXRlLmFkZDogc2tpcHBlZCBhZGRpbmcgYSBjb21wb3VuZCBib2R5IHBhcnQgKHlvdSBtdXN0IGFkZCBpdHMgcGFyZW50IGluc3RlYWQpJyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KGNvbXBvc2l0ZSwgb2JqKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBvc2l0ZSc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbXBvc2l0ZShjb21wb3NpdGUsIG9iaik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdtb3VzZUNvbnN0cmFpbnQnOlxuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgb2JqLmNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdhZnRlckFkZCcsIHsgb2JqZWN0OiBvYmplY3QgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJpYyByZW1vdmUgZnVuY3Rpb24uIFJlbW92ZXMgb25lIG9yIG1hbnkgYm9keShzKSwgY29uc3RyYWludChzKSBvciBhIGNvbXBvc2l0ZShzKSB0byB0aGUgZ2l2ZW4gY29tcG9zaXRlLlxuICAgICAqIE9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBUcmlnZ2VycyBgYmVmb3JlUmVtb3ZlYCBhbmQgYGFmdGVyUmVtb3ZlYCBldmVudHMgb24gdGhlIGBjb21wb3NpdGVgLlxuICAgICAqIEBtZXRob2QgcmVtb3ZlXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBvYmplY3RzIHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlID0gZnVuY3Rpb24oY29tcG9zaXRlLCBvYmplY3QsIGRlZXApIHtcbiAgICAgICAgdmFyIG9iamVjdHMgPSBbXS5jb25jYXQob2JqZWN0KTtcblxuICAgICAgICBFdmVudHMudHJpZ2dlcihjb21wb3NpdGUsICdiZWZvcmVSZW1vdmUnLCB7IG9iamVjdDogb2JqZWN0IH0pO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2JqZWN0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIG9iaiA9IG9iamVjdHNbaV07XG5cbiAgICAgICAgICAgIHN3aXRjaCAob2JqLnR5cGUpIHtcblxuICAgICAgICAgICAgY2FzZSAnYm9keSc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUJvZHkoY29tcG9zaXRlLCBvYmosIGRlZXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29uc3RyYWludCc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnQoY29tcG9zaXRlLCBvYmosIGRlZXApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnY29tcG9zaXRlJzpcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQ29tcG9zaXRlKGNvbXBvc2l0ZSwgb2JqLCBkZWVwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ21vdXNlQ29uc3RyYWludCc6XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbnN0cmFpbnQoY29tcG9zaXRlLCBvYmouY29uc3RyYWludCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGNvbXBvc2l0ZSwgJ2FmdGVyUmVtb3ZlJywgeyBvYmplY3Q6IG9iamVjdCB9KTtcblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29tcG9zaXRlIHRvIHRoZSBnaXZlbiBjb21wb3NpdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGFkZENvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVBXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZUJcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGVBIHdpdGggdGhlIG9iamVjdHMgZnJvbSBjb21wb3NpdGVCIGFkZGVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFkZENvbXBvc2l0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZUEsIGNvbXBvc2l0ZUIpIHtcbiAgICAgICAgY29tcG9zaXRlQS5jb21wb3NpdGVzLnB1c2goY29tcG9zaXRlQik7XG4gICAgICAgIGNvbXBvc2l0ZUIucGFyZW50ID0gY29tcG9zaXRlQTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZUEsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZUE7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjb21wb3NpdGUgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBhbmQgb3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVDb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlQVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVCXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZGVlcD1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGVBIHdpdGggdGhlIGNvbXBvc2l0ZSByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZUEsIGNvbXBvc2l0ZUIsIGRlZXApIHtcbiAgICAgICAgdmFyIHBvc2l0aW9uID0gQ29tbW9uLmluZGV4T2YoY29tcG9zaXRlQS5jb21wb3NpdGVzLCBjb21wb3NpdGVCKTtcbiAgICAgICAgaWYgKHBvc2l0aW9uICE9PSAtMSkge1xuICAgICAgICAgICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZUF0KGNvbXBvc2l0ZUEsIHBvc2l0aW9uKTtcbiAgICAgICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGVBLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZGVlcCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGVBLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb21wb3NpdGUoY29tcG9zaXRlQS5jb21wb3NpdGVzW2ldLCBjb21wb3NpdGVCLCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGVBO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgY29tcG9zaXRlIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29tcG9zaXRlQXRcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBvc2l0aW9uXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGNvbXBvc2l0ZSByZW1vdmVkXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlbW92ZUNvbXBvc2l0ZUF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuY29tcG9zaXRlcy5zcGxpY2UocG9zaXRpb24sIDEpO1xuICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBib2R5IHRvIHRoZSBnaXZlbiBjb21wb3NpdGUuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGFkZEJvZHlcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgYWRkZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWRkQm9keSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgYm9keSkge1xuICAgICAgICBjb21wb3NpdGUuYm9kaWVzLnB1c2goYm9keSk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhIGJvZHkgZnJvbSB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBhbmQgb3B0aW9uYWxseSBzZWFyY2hpbmcgaXRzIGNoaWxkcmVuIHJlY3Vyc2l2ZWx5LlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCByZW1vdmVCb2R5XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgb3JpZ2luYWwgY29tcG9zaXRlIHdpdGggdGhlIGJvZHkgcmVtb3ZlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBib2R5LCBkZWVwKSB7XG4gICAgICAgIHZhciBwb3NpdGlvbiA9IENvbW1vbi5pbmRleE9mKGNvbXBvc2l0ZS5ib2RpZXMsIGJvZHkpO1xuICAgICAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQm9keUF0KGNvbXBvc2l0ZSwgcG9zaXRpb24pO1xuICAgICAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVCb2R5KGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldLCBib2R5LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBib2R5IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQm9keUF0XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBib2R5IHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQm9keUF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuYm9kaWVzLnNwbGljZShwb3NpdGlvbiwgMSk7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNvbnN0cmFpbnQgdG8gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYWRkQ29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFRoZSBvcmlnaW5hbCBjb21wb3NpdGUgd2l0aCB0aGUgY29uc3RyYWludCBhZGRlZFxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBjb25zdHJhaW50KSB7XG4gICAgICAgIGNvbXBvc2l0ZS5jb25zdHJhaW50cy5wdXNoKGNvbnN0cmFpbnQpO1xuICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQoY29tcG9zaXRlLCB0cnVlLCB0cnVlLCBmYWxzZSk7XG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBjb25zdHJhaW50IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgYW5kIG9wdGlvbmFsbHkgc2VhcmNoaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgY29uc3RyYWludCwgZGVlcCkge1xuICAgICAgICB2YXIgcG9zaXRpb24gPSBDb21tb24uaW5kZXhPZihjb21wb3NpdGUuY29uc3RyYWludHMsIGNvbnN0cmFpbnQpO1xuICAgICAgICBpZiAocG9zaXRpb24gIT09IC0xKSB7XG4gICAgICAgICAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludEF0KGNvbXBvc2l0ZSwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGRlZXApIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspe1xuICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5yZW1vdmVDb25zdHJhaW50KGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldLCBjb25zdHJhaW50LCB0cnVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBib2R5IGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcmVtb3ZlQ29uc3RyYWludEF0XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwb3NpdGlvblxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIGNvbXBvc2l0ZSB3aXRoIHRoZSBjb25zdHJhaW50IHJlbW92ZWRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUucmVtb3ZlQ29uc3RyYWludEF0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBwb3NpdGlvbikge1xuICAgICAgICBjb21wb3NpdGUuY29uc3RyYWludHMuc3BsaWNlKHBvc2l0aW9uLCAxKTtcbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBib2RpZXMsIGNvbnN0cmFpbnRzIGFuZCBjb21wb3NpdGVzIGZyb20gdGhlIGdpdmVuIGNvbXBvc2l0ZS5cbiAgICAgKiBPcHRpb25hbGx5IGNsZWFyaW5nIGl0cyBjaGlsZHJlbiByZWN1cnNpdmVseS5cbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ga2VlcFN0YXRpY1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2RlZXA9ZmFsc2VdXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmNsZWFyID0gZnVuY3Rpb24oY29tcG9zaXRlLCBrZWVwU3RhdGljLCBkZWVwKSB7XG4gICAgICAgIGlmIChkZWVwKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKXtcbiAgICAgICAgICAgICAgICBDb21wb3NpdGUuY2xlYXIoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0sIGtlZXBTdGF0aWMsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoa2VlcFN0YXRpYykge1xuICAgICAgICAgICAgY29tcG9zaXRlLmJvZGllcyA9IGNvbXBvc2l0ZS5ib2RpZXMuZmlsdGVyKGZ1bmN0aW9uKGJvZHkpIHsgcmV0dXJuIGJvZHkuaXNTdGF0aWM7IH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29tcG9zaXRlLmJvZGllcy5sZW5ndGggPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgY29tcG9zaXRlLmNvbnN0cmFpbnRzLmxlbmd0aCA9IDA7XG4gICAgICAgIGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aCA9IDA7XG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBib2RpZXMgaW4gdGhlIGdpdmVuIGNvbXBvc2l0ZSwgaW5jbHVkaW5nIGFsbCBib2RpZXMgaW4gaXRzIGNoaWxkcmVuLCByZWN1cnNpdmVseS5cbiAgICAgKiBAbWV0aG9kIGFsbEJvZGllc1xuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcmV0dXJuIHtib2R5W119IEFsbCB0aGUgYm9kaWVzXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmFsbEJvZGllcyA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSkge1xuICAgICAgICB2YXIgYm9kaWVzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5ib2RpZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29tcG9zaXRlLmNvbXBvc2l0ZXMubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBib2RpZXMgPSBib2RpZXMuY29uY2F0KENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlLmNvbXBvc2l0ZXNbaV0pKTtcblxuICAgICAgICByZXR1cm4gYm9kaWVzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBjb25zdHJhaW50cyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBpbmNsdWRpbmcgYWxsIGNvbnN0cmFpbnRzIGluIGl0cyBjaGlsZHJlbiwgcmVjdXJzaXZlbHkuXG4gICAgICogQG1ldGhvZCBhbGxDb25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcmV0dXJuIHtjb25zdHJhaW50W119IEFsbCB0aGUgY29uc3RyYWludHNcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuYWxsQ29uc3RyYWludHMgPSBmdW5jdGlvbihjb21wb3NpdGUpIHtcbiAgICAgICAgdmFyIGNvbnN0cmFpbnRzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5jb25zdHJhaW50cyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb21wb3NpdGUuY29tcG9zaXRlcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gY29uc3RyYWludHMuY29uY2F0KENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUuY29tcG9zaXRlc1tpXSkpO1xuXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbGwgY29tcG9zaXRlcyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlLCBpbmNsdWRpbmcgYWxsIGNvbXBvc2l0ZXMgaW4gaXRzIGNoaWxkcmVuLCByZWN1cnNpdmVseS5cbiAgICAgKiBAbWV0aG9kIGFsbENvbXBvc2l0ZXNcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlW119IEFsbCB0aGUgY29tcG9zaXRlc1xuICAgICAqL1xuICAgIENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzID0gZnVuY3Rpb24oY29tcG9zaXRlKSB7XG4gICAgICAgIHZhciBjb21wb3NpdGVzID0gW10uY29uY2F0KGNvbXBvc2l0ZS5jb21wb3NpdGVzKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvbXBvc2l0ZS5jb21wb3NpdGVzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgY29tcG9zaXRlcyA9IGNvbXBvc2l0ZXMuY29uY2F0KENvbXBvc2l0ZS5hbGxDb21wb3NpdGVzKGNvbXBvc2l0ZS5jb21wb3NpdGVzW2ldKSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbXBvc2l0ZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNlYXJjaGVzIHRoZSBjb21wb3NpdGUgcmVjdXJzaXZlbHkgZm9yIGFuIG9iamVjdCBtYXRjaGluZyB0aGUgdHlwZSBhbmQgaWQgc3VwcGxpZWQsIG51bGwgaWYgbm90IGZvdW5kLlxuICAgICAqIEBtZXRob2QgZ2V0XG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBpZFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgcmVxdWVzdGVkIG9iamVjdCwgaWYgZm91bmRcbiAgICAgKi9cbiAgICBDb21wb3NpdGUuZ2V0ID0gZnVuY3Rpb24oY29tcG9zaXRlLCBpZCwgdHlwZSkge1xuICAgICAgICB2YXIgb2JqZWN0cyxcbiAgICAgICAgICAgIG9iamVjdDtcblxuICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSAnYm9keSc6XG4gICAgICAgICAgICBvYmplY3RzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NvbnN0cmFpbnQnOlxuICAgICAgICAgICAgb2JqZWN0cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyhjb21wb3NpdGUpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NvbXBvc2l0ZSc6XG4gICAgICAgICAgICBvYmplY3RzID0gQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXMoY29tcG9zaXRlKS5jb25jYXQoY29tcG9zaXRlKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvYmplY3RzKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0cy5maWx0ZXIoZnVuY3Rpb24ob2JqZWN0KSB7IFxuICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5pZC50b1N0cmluZygpID09PSBpZC50b1N0cmluZygpOyBcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG9iamVjdC5sZW5ndGggPT09IDAgPyBudWxsIDogb2JqZWN0WzBdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNb3ZlcyB0aGUgZ2l2ZW4gb2JqZWN0KHMpIGZyb20gY29tcG9zaXRlQSB0byBjb21wb3NpdGVCIChlcXVhbCB0byBhIHJlbW92ZSBmb2xsb3dlZCBieSBhbiBhZGQpLlxuICAgICAqIEBtZXRob2QgbW92ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlQX0gY29tcG9zaXRlQVxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZUJ9IGNvbXBvc2l0ZUJcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFJldHVybnMgY29tcG9zaXRlQVxuICAgICAqL1xuICAgIENvbXBvc2l0ZS5tb3ZlID0gZnVuY3Rpb24oY29tcG9zaXRlQSwgb2JqZWN0cywgY29tcG9zaXRlQikge1xuICAgICAgICBDb21wb3NpdGUucmVtb3ZlKGNvbXBvc2l0ZUEsIG9iamVjdHMpO1xuICAgICAgICBDb21wb3NpdGUuYWRkKGNvbXBvc2l0ZUIsIG9iamVjdHMpO1xuICAgICAgICByZXR1cm4gY29tcG9zaXRlQTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBuZXcgaWRzIGZvciBhbGwgb2JqZWN0cyBpbiB0aGUgY29tcG9zaXRlLCByZWN1cnNpdmVseS5cbiAgICAgKiBAbWV0aG9kIHJlYmFzZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IFJldHVybnMgY29tcG9zaXRlXG4gICAgICovXG4gICAgQ29tcG9zaXRlLnJlYmFzZSA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSkge1xuICAgICAgICB2YXIgb2JqZWN0cyA9IENvbXBvc2l0ZS5hbGxCb2RpZXMoY29tcG9zaXRlKVxuICAgICAgICAgICAgICAgICAgICAgICAgLmNvbmNhdChDb21wb3NpdGUuYWxsQ29uc3RyYWludHMoY29tcG9zaXRlKSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jb25jYXQoQ29tcG9zaXRlLmFsbENvbXBvc2l0ZXMoY29tcG9zaXRlKSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBvYmplY3RzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBvYmplY3RzW2ldLmlkID0gQ29tbW9uLm5leHRJZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgYWxsIGNoaWxkcmVuIGluIHRoZSBjb21wb3NpdGUgYnkgYSBnaXZlbiB2ZWN0b3IgcmVsYXRpdmUgdG8gdGhlaXIgY3VycmVudCBwb3NpdGlvbnMsIFxuICAgICAqIHdpdGhvdXQgaW1wYXJ0aW5nIGFueSB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHRyYW5zbGF0ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdHJhbnNsYXRpb25cbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtyZWN1cnNpdmU9dHJ1ZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUudHJhbnNsYXRlID0gZnVuY3Rpb24oY29tcG9zaXRlLCB0cmFuc2xhdGlvbiwgcmVjdXJzaXZlKSB7XG4gICAgICAgIHZhciBib2RpZXMgPSByZWN1cnNpdmUgPyBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSkgOiBjb21wb3NpdGUuYm9kaWVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBCb2R5LnRyYW5zbGF0ZShib2RpZXNbaV0sIHRyYW5zbGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSb3RhdGVzIGFsbCBjaGlsZHJlbiBpbiB0aGUgY29tcG9zaXRlIGJ5IGEgZ2l2ZW4gYW5nbGUgYWJvdXQgdGhlIGdpdmVuIHBvaW50LCB3aXRob3V0IGltcGFydGluZyBhbnkgYW5ndWxhciB2ZWxvY2l0eS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7Y29tcG9zaXRlfSBjb21wb3NpdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm90YXRpb25cbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtyZWN1cnNpdmU9dHJ1ZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUucm90YXRlID0gZnVuY3Rpb24oY29tcG9zaXRlLCByb3RhdGlvbiwgcG9pbnQsIHJlY3Vyc2l2ZSkge1xuICAgICAgICB2YXIgY29zID0gTWF0aC5jb3Mocm90YXRpb24pLFxuICAgICAgICAgICAgc2luID0gTWF0aC5zaW4ocm90YXRpb24pLFxuICAgICAgICAgICAgYm9kaWVzID0gcmVjdXJzaXZlID8gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpIDogY29tcG9zaXRlLmJvZGllcztcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV0sXG4gICAgICAgICAgICAgICAgZHggPSBib2R5LnBvc2l0aW9uLnggLSBwb2ludC54LFxuICAgICAgICAgICAgICAgIGR5ID0gYm9keS5wb3NpdGlvbi55IC0gcG9pbnQueTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIEJvZHkuc2V0UG9zaXRpb24oYm9keSwge1xuICAgICAgICAgICAgICAgIHg6IHBvaW50LnggKyAoZHggKiBjb3MgLSBkeSAqIHNpbiksXG4gICAgICAgICAgICAgICAgeTogcG9pbnQueSArIChkeCAqIHNpbiArIGR5ICogY29zKVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIEJvZHkucm90YXRlKGJvZHksIHJvdGF0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIENvbXBvc2l0ZS5zZXRNb2RpZmllZChjb21wb3NpdGUsIHRydWUsIHRydWUsIGZhbHNlKTtcblxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTY2FsZXMgYWxsIGNoaWxkcmVuIGluIHRoZSBjb21wb3NpdGUsIGluY2x1ZGluZyB1cGRhdGluZyBwaHlzaWNhbCBwcm9wZXJ0aWVzIChtYXNzLCBhcmVhLCBheGVzLCBpbmVydGlhKSwgZnJvbSBhIHdvcmxkLXNwYWNlIHBvaW50LlxuICAgICAqIEBtZXRob2Qgc2NhbGVcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzY2FsZVlcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IFtyZWN1cnNpdmU9dHJ1ZV1cbiAgICAgKi9cbiAgICBDb21wb3NpdGUuc2NhbGUgPSBmdW5jdGlvbihjb21wb3NpdGUsIHNjYWxlWCwgc2NhbGVZLCBwb2ludCwgcmVjdXJzaXZlKSB7XG4gICAgICAgIHZhciBib2RpZXMgPSByZWN1cnNpdmUgPyBDb21wb3NpdGUuYWxsQm9kaWVzKGNvbXBvc2l0ZSkgOiBjb21wb3NpdGUuYm9kaWVzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBkeCA9IGJvZHkucG9zaXRpb24ueCAtIHBvaW50LngsXG4gICAgICAgICAgICAgICAgZHkgPSBib2R5LnBvc2l0aW9uLnkgLSBwb2ludC55O1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgQm9keS5zZXRQb3NpdGlvbihib2R5LCB7XG4gICAgICAgICAgICAgICAgeDogcG9pbnQueCArIGR4ICogc2NhbGVYLFxuICAgICAgICAgICAgICAgIHk6IHBvaW50LnkgKyBkeSAqIHNjYWxlWVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIEJvZHkuc2NhbGUoYm9keSwgc2NhbGVYLCBzY2FsZVkpO1xuICAgICAgICB9XG5cbiAgICAgICAgQ29tcG9zaXRlLnNldE1vZGlmaWVkKGNvbXBvc2l0ZSwgdHJ1ZSwgdHJ1ZSwgZmFsc2UpO1xuXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHVuaW9uIG9mIHRoZSBib3VuZHMgb2YgYWxsIG9mIHRoZSBjb21wb3NpdGUncyBib2RpZXMuXG4gICAgICogQG1ldGhvZCBib3VuZHNcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlIFRoZSBjb21wb3NpdGUuXG4gICAgICogQHJldHVybnMge2JvdW5kc30gVGhlIGNvbXBvc2l0ZSBib3VuZHMuXG4gICAgICovXG4gICAgQ29tcG9zaXRlLmJvdW5kcyA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSkge1xuICAgICAgICB2YXIgYm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhjb21wb3NpdGUpLFxuICAgICAgICAgICAgdmVydGljZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICB2ZXJ0aWNlcy5wdXNoKGJvZHkuYm91bmRzLm1pbiwgYm9keS5ib3VuZHMubWF4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBCb3VuZHMuY3JlYXRlKHZlcnRpY2VzKTtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiBhIGNhbGwgdG8gYENvbXBvc2l0ZS5hZGRgIGlzIG1hZGUsIGJlZm9yZSBvYmplY3RzIGhhdmUgYmVlbiBhZGRlZC5cbiAgICAqXG4gICAgKiBAZXZlbnQgYmVmb3JlQWRkXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdG8gYmUgYWRkZWQgKG1heSBiZSBhIHNpbmdsZSBib2R5LCBjb25zdHJhaW50LCBjb21wb3NpdGUgb3IgYSBtaXhlZCBhcnJheSBvZiB0aGVzZSlcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLmFkZGAgaXMgbWFkZSwgYWZ0ZXIgb2JqZWN0cyBoYXZlIGJlZW4gYWRkZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyQWRkXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge30gZXZlbnQub2JqZWN0IFRoZSBvYmplY3QocykgdGhhdCBoYXZlIGJlZW4gYWRkZWQgKG1heSBiZSBhIHNpbmdsZSBib2R5LCBjb25zdHJhaW50LCBjb21wb3NpdGUgb3IgYSBtaXhlZCBhcnJheSBvZiB0aGVzZSlcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLnJlbW92ZWAgaXMgbWFkZSwgYmVmb3JlIG9iamVjdHMgaGF2ZSBiZWVuIHJlbW92ZWQuXG4gICAgKlxuICAgICogQGV2ZW50IGJlZm9yZVJlbW92ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm9iamVjdCBUaGUgb2JqZWN0KHMpIHRvIGJlIHJlbW92ZWQgKG1heSBiZSBhIHNpbmdsZSBib2R5LCBjb25zdHJhaW50LCBjb21wb3NpdGUgb3IgYSBtaXhlZCBhcnJheSBvZiB0aGVzZSlcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIGEgY2FsbCB0byBgQ29tcG9zaXRlLnJlbW92ZWAgaXMgbWFkZSwgYWZ0ZXIgb2JqZWN0cyBoYXZlIGJlZW4gcmVtb3ZlZC5cbiAgICAqXG4gICAgKiBAZXZlbnQgYWZ0ZXJSZW1vdmVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5vYmplY3QgVGhlIG9iamVjdChzKSB0aGF0IGhhdmUgYmVlbiByZW1vdmVkIChtYXkgYmUgYSBzaW5nbGUgYm9keSwgY29uc3RyYWludCwgY29tcG9zaXRlIG9yIGEgbWl4ZWQgYXJyYXkgb2YgdGhlc2UpXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gaW50ZWdlciBgTnVtYmVyYCB1bmlxdWVseSBpZGVudGlmeWluZyBudW1iZXIgZ2VuZXJhdGVkIGluIGBDb21wb3NpdGUuY3JlYXRlYCBieSBgQ29tbW9uLm5leHRJZGAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgaWRcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcImNvbXBvc2l0ZVwiXG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcmJpdHJhcnkgYFN0cmluZ2AgbmFtZSB0byBoZWxwIHRoZSB1c2VyIGlkZW50aWZ5IGFuZCBtYW5hZ2UgY29tcG9zaXRlcy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBsYWJlbFxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFwiQ29tcG9zaXRlXCJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBjb21wb3NpdGUgaGFzIGJlZW4gbW9kaWZpZWQgZHVyaW5nIHRoZSBjdXJyZW50IHN0ZXAuXG4gICAgICogTW9zdCBgTWF0dGVyLkNvbXBvc2l0ZWAgbWV0aG9kcyB3aWxsIGF1dG9tYXRpY2FsbHkgc2V0IHRoaXMgZmxhZyB0byBgdHJ1ZWAgdG8gaW5mb3JtIHRoZSBlbmdpbmUgb2YgY2hhbmdlcyB0byBiZSBoYW5kbGVkLlxuICAgICAqIElmIHlvdSBuZWVkIHRvIGNoYW5nZSBpdCBtYW51YWxseSwgeW91IHNob3VsZCB1c2UgdGhlIGBDb21wb3NpdGUuc2V0TW9kaWZpZWRgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpc01vZGlmaWVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYENvbXBvc2l0ZWAgdGhhdCBpcyB0aGUgcGFyZW50IG9mIHRoaXMgY29tcG9zaXRlLiBJdCBpcyBhdXRvbWF0aWNhbGx5IG1hbmFnZWQgYnkgdGhlIGBNYXR0ZXIuQ29tcG9zaXRlYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBhcmVudFxuICAgICAqIEB0eXBlIGNvbXBvc2l0ZVxuICAgICAqIEBkZWZhdWx0IG51bGxcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFycmF5IG9mIGBCb2R5YCB0aGF0IGFyZSBfZGlyZWN0XyBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvc2l0ZS5cbiAgICAgKiBUbyBhZGQgb3IgcmVtb3ZlIGJvZGllcyB5b3Ugc2hvdWxkIHVzZSBgQ29tcG9zaXRlLmFkZGAgYW5kIGBDb21wb3NpdGUucmVtb3ZlYCBtZXRob2RzIHJhdGhlciB0aGFuIGRpcmVjdGx5IG1vZGlmeWluZyB0aGlzIHByb3BlcnR5LlxuICAgICAqIElmIHlvdSB3aXNoIHRvIHJlY3Vyc2l2ZWx5IGZpbmQgYWxsIGRlc2NlbmRhbnRzLCB5b3Ugc2hvdWxkIHVzZSB0aGUgYENvbXBvc2l0ZS5hbGxCb2RpZXNgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBib2RpZXNcbiAgICAgKiBAdHlwZSBib2R5W11cbiAgICAgKiBAZGVmYXVsdCBbXVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYXJyYXkgb2YgYENvbnN0cmFpbnRgIHRoYXQgYXJlIF9kaXJlY3RfIGNoaWxkcmVuIG9mIHRoaXMgY29tcG9zaXRlLlxuICAgICAqIFRvIGFkZCBvciByZW1vdmUgY29uc3RyYWludHMgeW91IHNob3VsZCB1c2UgYENvbXBvc2l0ZS5hZGRgIGFuZCBgQ29tcG9zaXRlLnJlbW92ZWAgbWV0aG9kcyByYXRoZXIgdGhhbiBkaXJlY3RseSBtb2RpZnlpbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKiBJZiB5b3Ugd2lzaCB0byByZWN1cnNpdmVseSBmaW5kIGFsbCBkZXNjZW5kYW50cywgeW91IHNob3VsZCB1c2UgdGhlIGBDb21wb3NpdGUuYWxsQ29uc3RyYWludHNgIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb25zdHJhaW50c1xuICAgICAqIEB0eXBlIGNvbnN0cmFpbnRbXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcnJheSBvZiBgQ29tcG9zaXRlYCB0aGF0IGFyZSBfZGlyZWN0XyBjaGlsZHJlbiBvZiB0aGlzIGNvbXBvc2l0ZS5cbiAgICAgKiBUbyBhZGQgb3IgcmVtb3ZlIGNvbXBvc2l0ZXMgeW91IHNob3VsZCB1c2UgYENvbXBvc2l0ZS5hZGRgIGFuZCBgQ29tcG9zaXRlLnJlbW92ZWAgbWV0aG9kcyByYXRoZXIgdGhhbiBkaXJlY3RseSBtb2RpZnlpbmcgdGhpcyBwcm9wZXJ0eS5cbiAgICAgKiBJZiB5b3Ugd2lzaCB0byByZWN1cnNpdmVseSBmaW5kIGFsbCBkZXNjZW5kYW50cywgeW91IHNob3VsZCB1c2UgdGhlIGBDb21wb3NpdGUuYWxsQ29tcG9zaXRlc2AgbWV0aG9kLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNvbXBvc2l0ZXNcbiAgICAgKiBAdHlwZSBjb21wb3NpdGVbXVxuICAgICAqIEBkZWZhdWx0IFtdXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVzZXJ2ZWQgZm9yIHN0b3JpbmcgcGx1Z2luLXNwZWNpZmljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGx1Z2luXG4gICAgICogQHR5cGUge31cbiAgICAgKi9cblxufSkoKTtcblxufSx7XCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi4vY29yZS9FdmVudHNcIjoxNixcIi4uL2dlb21ldHJ5L0JvdW5kc1wiOjI2LFwiLi9Cb2R5XCI6MX1dLDM6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4qIFRoZSBgTWF0dGVyLldvcmxkYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyB0aGUgd29ybGQgY29tcG9zaXRlLlxuKiBBIGBNYXR0ZXIuV29ybGRgIGlzIGEgYE1hdHRlci5Db21wb3NpdGVgIGJvZHksIHdoaWNoIGlzIGEgY29sbGVjdGlvbiBvZiBgTWF0dGVyLkJvZHlgLCBgTWF0dGVyLkNvbnN0cmFpbnRgIGFuZCBvdGhlciBgTWF0dGVyLkNvbXBvc2l0ZWAuXG4qIEEgYE1hdHRlci5Xb3JsZGAgaGFzIGEgZmV3IGFkZGl0aW9uYWwgcHJvcGVydGllcyBpbmNsdWRpbmcgYGdyYXZpdHlgIGFuZCBgYm91bmRzYC5cbiogSXQgaXMgaW1wb3J0YW50IHRvIHVzZSB0aGUgZnVuY3Rpb25zIGluIHRoZSBgTWF0dGVyLkNvbXBvc2l0ZWAgbW9kdWxlIHRvIG1vZGlmeSB0aGUgd29ybGQgY29tcG9zaXRlLCByYXRoZXIgdGhhbiBkaXJlY3RseSBtb2RpZnlpbmcgaXRzIHByb3BlcnRpZXMuXG4qIFRoZXJlIGFyZSBhbHNvIGEgZmV3IG1ldGhvZHMgaGVyZSB0aGF0IGFsaWFzIHRob3NlIGluIGBNYXR0ZXIuQ29tcG9zaXRlYCBmb3IgZWFzaWVyIHJlYWRhYmlsaXR5LlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgV29ybGRcbiogQGV4dGVuZHMgQ29tcG9zaXRlXG4qL1xuXG52YXIgV29ybGQgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBXb3JsZDtcblxudmFyIENvbXBvc2l0ZSA9IF9kZXJlcV8oJy4vQ29tcG9zaXRlJyk7XG52YXIgQ29uc3RyYWludCA9IF9kZXJlcV8oJy4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCcpO1xudmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgd29ybGQgY29tcG9zaXRlLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBiZWxvdyBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHt3b3JsZH0gQSBuZXcgd29ybGRcbiAgICAgKi9cbiAgICBXb3JsZC5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBjb21wb3NpdGUgPSBDb21wb3NpdGUuY3JlYXRlKCk7XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgbGFiZWw6ICdXb3JsZCcsXG4gICAgICAgICAgICBncmF2aXR5OiB7XG4gICAgICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgICAgICB5OiAxLFxuICAgICAgICAgICAgICAgIHNjYWxlOiAwLjAwMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJvdW5kczogeyBcbiAgICAgICAgICAgICAgICBtaW46IHsgeDogLUluZmluaXR5LCB5OiAtSW5maW5pdHkgfSwgXG4gICAgICAgICAgICAgICAgbWF4OiB7IHg6IEluZmluaXR5LCB5OiBJbmZpbml0eSB9IFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoY29tcG9zaXRlLCBkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGdyYXZpdHkgdG8gYXBwbHkgb24gdGhlIHdvcmxkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGdyYXZpdHlcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBncmF2aXR5IHggY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGdyYXZpdHkueFxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBncmF2aXR5IHkgY29tcG9uZW50LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGdyYXZpdHkueVxuICAgICAqIEB0eXBlIG9iamVjdFxuICAgICAqIEBkZWZhdWx0IDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBncmF2aXR5IHNjYWxlIGZhY3Rvci5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBncmF2aXR5LnNjYWxlXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICogQGRlZmF1bHQgMC4wMDFcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvdW5kc2Agb2JqZWN0IHRoYXQgZGVmaW5lcyB0aGUgd29ybGQgYm91bmRzIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJvdW5kc1xuICAgICAqIEB0eXBlIGJvdW5kc1xuICAgICAqIEBkZWZhdWx0IHsgbWluOiB7IHg6IC1JbmZpbml0eSwgeTogLUluZmluaXR5IH0sIG1heDogeyB4OiBJbmZpbml0eSwgeTogSW5maW5pdHkgfSB9XG4gICAgICovXG5cbiAgICAvLyBXb3JsZCBpcyBhIENvbXBvc2l0ZSBib2R5XG4gICAgLy8gc2VlIHNyYy9tb2R1bGUvT3V0cm8uanMgZm9yIHRoZXNlIGFsaWFzZXM6XG4gICAgXG4gICAgLyoqXG4gICAgICogQW4gYWxpYXMgZm9yIENvbXBvc2l0ZS5hZGRcbiAgICAgKiBAbWV0aG9kIGFkZFxuICAgICAqIEBwYXJhbSB7d29ybGR9IHdvcmxkXG4gICAgICogQHBhcmFtIHt9IG9iamVjdFxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIHdvcmxkIHdpdGggdGhlIG9iamVjdHMgYWRkZWRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGFsaWFzIGZvciBDb21wb3NpdGUucmVtb3ZlXG4gICAgICogQG1ldGhvZCByZW1vdmVcbiAgICAgKiBAcGFyYW0ge3dvcmxkfSB3b3JsZFxuICAgICAqIEBwYXJhbSB7fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtkZWVwPWZhbHNlXVxuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gVGhlIG9yaWdpbmFsIHdvcmxkIHdpdGggdGhlIG9iamVjdHMgcmVtb3ZlZFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYWxpYXMgZm9yIENvbXBvc2l0ZS5jbGVhclxuICAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAgKiBAcGFyYW0ge3dvcmxkfSB3b3JsZFxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0ga2VlcFN0YXRpY1xuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYWxpYXMgZm9yIENvbXBvc2l0ZS5hZGRDb21wb3NpdGVcbiAgICAgKiBAbWV0aG9kIGFkZENvbXBvc2l0ZVxuICAgICAqIEBwYXJhbSB7d29ybGR9IHdvcmxkXG4gICAgICogQHBhcmFtIHtjb21wb3NpdGV9IGNvbXBvc2l0ZVxuICAgICAqIEByZXR1cm4ge3dvcmxkfSBUaGUgb3JpZ2luYWwgd29ybGQgd2l0aCB0aGUgb2JqZWN0cyBmcm9tIGNvbXBvc2l0ZSBhZGRlZFxuICAgICAqL1xuICAgIFxuICAgICAvKipcbiAgICAgICogQW4gYWxpYXMgZm9yIENvbXBvc2l0ZS5hZGRCb2R5XG4gICAgICAqIEBtZXRob2QgYWRkQm9keVxuICAgICAgKiBAcGFyYW0ge3dvcmxkfSB3b3JsZFxuICAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgICogQHJldHVybiB7d29ybGR9IFRoZSBvcmlnaW5hbCB3b3JsZCB3aXRoIHRoZSBib2R5IGFkZGVkXG4gICAgICAqL1xuXG4gICAgIC8qKlxuICAgICAgKiBBbiBhbGlhcyBmb3IgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnRcbiAgICAgICogQG1ldGhvZCBhZGRDb25zdHJhaW50XG4gICAgICAqIEBwYXJhbSB7d29ybGR9IHdvcmxkXG4gICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAgKiBAcmV0dXJuIHt3b3JsZH0gVGhlIG9yaWdpbmFsIHdvcmxkIHdpdGggdGhlIGNvbnN0cmFpbnQgYWRkZWRcbiAgICAgICovXG5cbn0pKCk7XG5cbn0se1wiLi4vY29uc3RyYWludC9Db25zdHJhaW50XCI6MTIsXCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi9Db21wb3NpdGVcIjoyfV0sNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuQ29udGFjdGAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIGNvbnRhY3RzLlxuKlxuKiBAY2xhc3MgQ29udGFjdFxuKi9cblxudmFyIENvbnRhY3QgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb250YWN0O1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbnRhY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge3ZlcnRleH0gdmVydGV4XG4gICAgICogQHJldHVybiB7Y29udGFjdH0gQSBuZXcgY29udGFjdFxuICAgICAqL1xuICAgIENvbnRhY3QuY3JlYXRlID0gZnVuY3Rpb24odmVydGV4KSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBpZDogQ29udGFjdC5pZCh2ZXJ0ZXgpLFxuICAgICAgICAgICAgdmVydGV4OiB2ZXJ0ZXgsXG4gICAgICAgICAgICBub3JtYWxJbXB1bHNlOiAwLFxuICAgICAgICAgICAgdGFuZ2VudEltcHVsc2U6IDBcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIEdlbmVyYXRlcyBhIGNvbnRhY3QgaWQuXG4gICAgICogQG1ldGhvZCBpZFxuICAgICAqIEBwYXJhbSB7dmVydGV4fSB2ZXJ0ZXhcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFVuaXF1ZSBjb250YWN0SURcbiAgICAgKi9cbiAgICBDb250YWN0LmlkID0gZnVuY3Rpb24odmVydGV4KSB7XG4gICAgICAgIHJldHVybiB2ZXJ0ZXguYm9keS5pZCArICdfJyArIHZlcnRleC5pbmRleDtcbiAgICB9O1xuXG59KSgpO1xuXG59LHt9XSw1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5EZXRlY3RvcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGRldGVjdGluZyBjb2xsaXNpb25zIGdpdmVuIGEgc2V0IG9mIHBhaXJzLlxuKlxuKiBAY2xhc3MgRGV0ZWN0b3JcbiovXG5cbi8vIFRPRE86IHNwZWN1bGF0aXZlIGNvbnRhY3RzXG5cbnZhciBEZXRlY3RvciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IERldGVjdG9yO1xuXG52YXIgU0FUID0gX2RlcmVxXygnLi9TQVQnKTtcbnZhciBQYWlyID0gX2RlcmVxXygnLi9QYWlyJyk7XG52YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIEZpbmRzIGFsbCBjb2xsaXNpb25zIGdpdmVuIGEgbGlzdCBvZiBwYWlycy5cbiAgICAgKiBAbWV0aG9kIGNvbGxpc2lvbnNcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gYnJvYWRwaGFzZVBhaXJzXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqIEByZXR1cm4ge2FycmF5fSBjb2xsaXNpb25zXG4gICAgICovXG4gICAgRGV0ZWN0b3IuY29sbGlzaW9ucyA9IGZ1bmN0aW9uKGJyb2FkcGhhc2VQYWlycywgZW5naW5lKSB7XG4gICAgICAgIHZhciBjb2xsaXNpb25zID0gW10sXG4gICAgICAgICAgICBwYWlyc1RhYmxlID0gZW5naW5lLnBhaXJzLnRhYmxlO1xuXG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJyb2FkcGhhc2VQYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlBID0gYnJvYWRwaGFzZVBhaXJzW2ldWzBdLCBcbiAgICAgICAgICAgICAgICBib2R5QiA9IGJyb2FkcGhhc2VQYWlyc1tpXVsxXTtcblxuICAgICAgICAgICAgaWYgKChib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nKSAmJiAoYm9keUIuaXNTdGF0aWMgfHwgYm9keUIuaXNTbGVlcGluZykpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICghRGV0ZWN0b3IuY2FuQ29sbGlkZShib2R5QS5jb2xsaXNpb25GaWx0ZXIsIGJvZHlCLmNvbGxpc2lvbkZpbHRlcikpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cblxuICAgICAgICAgICAgLy8gbWlkIHBoYXNlXG4gICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKGJvZHlBLmJvdW5kcywgYm9keUIuYm91bmRzKSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBib2R5QS5wYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBib2R5QS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydEEgPSBib2R5QS5wYXJ0c1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gYm9keUIucGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBrIDwgYm9keUIucGFydHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0QiA9IGJvZHlCLnBhcnRzW2tdO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoKHBhcnRBID09PSBib2R5QSAmJiBwYXJ0QiA9PT0gYm9keUIpIHx8IEJvdW5kcy5vdmVybGFwcyhwYXJ0QS5ib3VuZHMsIHBhcnRCLmJvdW5kcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmaW5kIGEgcHJldmlvdXMgY29sbGlzaW9uIHdlIGNvdWxkIHJldXNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhaXJJZCA9IFBhaXIuaWQocGFydEEsIHBhcnRCKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFpciA9IHBhaXJzVGFibGVbcGFpcklkXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb2xsaXNpb247XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFpciAmJiBwYWlyLmlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByZXZpb3VzQ29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNDb2xsaXNpb24gPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG5hcnJvdyBwaGFzZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xsaXNpb24gPSBTQVQuY29sbGlkZXMocGFydEEsIHBhcnRCLCBwcmV2aW91c0NvbGxpc2lvbik7XG5cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24uY29sbGlkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9ucy5wdXNoKGNvbGxpc2lvbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGNvbGxpc2lvbnM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYHRydWVgIGlmIGJvdGggc3VwcGxpZWQgY29sbGlzaW9uIGZpbHRlcnMgd2lsbCBhbGxvdyBhIGNvbGxpc2lvbiB0byBvY2N1ci5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBAbWV0aG9kIGNhbkNvbGxpZGVcbiAgICAgKiBAcGFyYW0ge30gZmlsdGVyQVxuICAgICAqIEBwYXJhbSB7fSBmaWx0ZXJCXG4gICAgICogQHJldHVybiB7Ym9vbH0gYHRydWVgIGlmIGNvbGxpc2lvbiBjYW4gb2NjdXJcbiAgICAgKi9cbiAgICBEZXRlY3Rvci5jYW5Db2xsaWRlID0gZnVuY3Rpb24oZmlsdGVyQSwgZmlsdGVyQikge1xuICAgICAgICBpZiAoZmlsdGVyQS5ncm91cCA9PT0gZmlsdGVyQi5ncm91cCAmJiBmaWx0ZXJBLmdyb3VwICE9PSAwKVxuICAgICAgICAgICAgcmV0dXJuIGZpbHRlckEuZ3JvdXAgPiAwO1xuXG4gICAgICAgIHJldHVybiAoZmlsdGVyQS5tYXNrICYgZmlsdGVyQi5jYXRlZ29yeSkgIT09IDAgJiYgKGZpbHRlckIubWFzayAmIGZpbHRlckEuY2F0ZWdvcnkpICE9PSAwO1xuICAgIH07XG5cbn0pKCk7XG5cbn0se1wiLi4vZ2VvbWV0cnkvQm91bmRzXCI6MjYsXCIuL1BhaXJcIjo3LFwiLi9TQVRcIjoxMX1dLDY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4qIFRoZSBgTWF0dGVyLkdyaWRgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGNvbGxpc2lvbiBicm9hZHBoYXNlIGdyaWQgc3RydWN0dXJlcy5cbipcbiogQGNsYXNzIEdyaWRcbiovXG5cbnZhciBHcmlkID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gR3JpZDtcblxudmFyIFBhaXIgPSBfZGVyZXFfKCcuL1BhaXInKTtcbnZhciBEZXRlY3RvciA9IF9kZXJlcV8oJy4vRGV0ZWN0b3InKTtcbnZhciBDb21tb24gPSBfZGVyZXFfKCcuLi9jb3JlL0NvbW1vbicpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGdyaWQuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2dyaWR9IEEgbmV3IGdyaWRcbiAgICAgKi9cbiAgICBHcmlkLmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgY29udHJvbGxlcjogR3JpZCxcbiAgICAgICAgICAgIGRldGVjdG9yOiBEZXRlY3Rvci5jb2xsaXNpb25zLFxuICAgICAgICAgICAgYnVja2V0czoge30sXG4gICAgICAgICAgICBwYWlyczoge30sXG4gICAgICAgICAgICBwYWlyc0xpc3Q6IFtdLFxuICAgICAgICAgICAgYnVja2V0V2lkdGg6IDQ4LFxuICAgICAgICAgICAgYnVja2V0SGVpZ2h0OiA0OFxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIHdpZHRoIG9mIGEgc2luZ2xlIGdyaWQgYnVja2V0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJ1Y2tldFdpZHRoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgNDhcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBoZWlnaHQgb2YgYSBzaW5nbGUgZ3JpZCBidWNrZXQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYnVja2V0SGVpZ2h0XG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgNDhcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGdyaWQuXG4gICAgICogQG1ldGhvZCB1cGRhdGVcbiAgICAgKiBAcGFyYW0ge2dyaWR9IGdyaWRcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZm9yY2VVcGRhdGVcbiAgICAgKi9cbiAgICBHcmlkLnVwZGF0ZSA9IGZ1bmN0aW9uKGdyaWQsIGJvZGllcywgZW5naW5lLCBmb3JjZVVwZGF0ZSkge1xuICAgICAgICB2YXIgaSwgY29sLCByb3csXG4gICAgICAgICAgICB3b3JsZCA9IGVuZ2luZS53b3JsZCxcbiAgICAgICAgICAgIGJ1Y2tldHMgPSBncmlkLmJ1Y2tldHMsXG4gICAgICAgICAgICBidWNrZXQsXG4gICAgICAgICAgICBidWNrZXRJZCxcbiAgICAgICAgICAgIGdyaWRDaGFuZ2VkID0gZmFsc2U7XG5cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTbGVlcGluZyAmJiAhZm9yY2VVcGRhdGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGRvbid0IHVwZGF0ZSBvdXQgb2Ygd29ybGQgYm9kaWVzXG4gICAgICAgICAgICBpZiAoYm9keS5ib3VuZHMubWF4LnggPCB3b3JsZC5ib3VuZHMubWluLnggfHwgYm9keS5ib3VuZHMubWluLnggPiB3b3JsZC5ib3VuZHMubWF4LnhcbiAgICAgICAgICAgICAgICB8fCBib2R5LmJvdW5kcy5tYXgueSA8IHdvcmxkLmJvdW5kcy5taW4ueSB8fCBib2R5LmJvdW5kcy5taW4ueSA+IHdvcmxkLmJvdW5kcy5tYXgueSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIG5ld1JlZ2lvbiA9IEdyaWQuX2dldFJlZ2lvbihncmlkLCBib2R5KTtcblxuICAgICAgICAgICAgLy8gaWYgdGhlIGJvZHkgaGFzIGNoYW5nZWQgZ3JpZCByZWdpb25cbiAgICAgICAgICAgIGlmICghYm9keS5yZWdpb24gfHwgbmV3UmVnaW9uLmlkICE9PSBib2R5LnJlZ2lvbi5pZCB8fCBmb3JjZVVwZGF0ZSkge1xuXG5cbiAgICAgICAgICAgICAgICBpZiAoIWJvZHkucmVnaW9uIHx8IGZvcmNlVXBkYXRlKVxuICAgICAgICAgICAgICAgICAgICBib2R5LnJlZ2lvbiA9IG5ld1JlZ2lvbjtcblxuICAgICAgICAgICAgICAgIHZhciB1bmlvbiA9IEdyaWQuX3JlZ2lvblVuaW9uKG5ld1JlZ2lvbiwgYm9keS5yZWdpb24pO1xuXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGdyaWQgYnVja2V0cyBhZmZlY3RlZCBieSByZWdpb24gY2hhbmdlXG4gICAgICAgICAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIHRoZSB1bmlvbiBvZiBib3RoIHJlZ2lvbnNcbiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IHVuaW9uLnN0YXJ0Q29sOyBjb2wgPD0gdW5pb24uZW5kQ29sOyBjb2wrKykge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHJvdyA9IHVuaW9uLnN0YXJ0Um93OyByb3cgPD0gdW5pb24uZW5kUm93OyByb3crKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnVja2V0SWQgPSBHcmlkLl9nZXRCdWNrZXRJZChjb2wsIHJvdyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQgPSBidWNrZXRzW2J1Y2tldElkXTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGlzSW5zaWRlTmV3UmVnaW9uID0gKGNvbCA+PSBuZXdSZWdpb24uc3RhcnRDb2wgJiYgY29sIDw9IG5ld1JlZ2lvbi5lbmRDb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJvdyA+PSBuZXdSZWdpb24uc3RhcnRSb3cgJiYgcm93IDw9IG5ld1JlZ2lvbi5lbmRSb3cpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaXNJbnNpZGVPbGRSZWdpb24gPSAoY29sID49IGJvZHkucmVnaW9uLnN0YXJ0Q29sICYmIGNvbCA8PSBib2R5LnJlZ2lvbi5lbmRDb2xcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICYmIHJvdyA+PSBib2R5LnJlZ2lvbi5zdGFydFJvdyAmJiByb3cgPD0gYm9keS5yZWdpb24uZW5kUm93KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVtb3ZlIGZyb20gb2xkIHJlZ2lvbiBidWNrZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzSW5zaWRlTmV3UmVnaW9uICYmIGlzSW5zaWRlT2xkUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSW5zaWRlT2xkUmVnaW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidWNrZXQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHcmlkLl9idWNrZXRSZW1vdmVCb2R5KGdyaWQsIGJ1Y2tldCwgYm9keSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhZGQgdG8gbmV3IHJlZ2lvbiBidWNrZXRzXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYm9keS5yZWdpb24gPT09IG5ld1JlZ2lvbiB8fCAoaXNJbnNpZGVOZXdSZWdpb24gJiYgIWlzSW5zaWRlT2xkUmVnaW9uKSB8fCBmb3JjZVVwZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghYnVja2V0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWNrZXQgPSBHcmlkLl9jcmVhdGVCdWNrZXQoYnVja2V0cywgYnVja2V0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIEdyaWQuX2J1Y2tldEFkZEJvZHkoZ3JpZCwgYnVja2V0LCBib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIHNldCB0aGUgbmV3IHJlZ2lvblxuICAgICAgICAgICAgICAgIGJvZHkucmVnaW9uID0gbmV3UmVnaW9uO1xuXG4gICAgICAgICAgICAgICAgLy8gZmxhZyBjaGFuZ2VzIHNvIHdlIGNhbiB1cGRhdGUgcGFpcnNcbiAgICAgICAgICAgICAgICBncmlkQ2hhbmdlZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyB1cGRhdGUgcGFpcnMgbGlzdCBvbmx5IGlmIHBhaXJzIGNoYW5nZWQgKGkuZS4gYSBib2R5IGNoYW5nZWQgcmVnaW9uKVxuICAgICAgICBpZiAoZ3JpZENoYW5nZWQpXG4gICAgICAgICAgICBncmlkLnBhaXJzTGlzdCA9IEdyaWQuX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdChncmlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBncmlkLlxuICAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAgKiBAcGFyYW0ge2dyaWR9IGdyaWRcbiAgICAgKi9cbiAgICBHcmlkLmNsZWFyID0gZnVuY3Rpb24oZ3JpZCkge1xuICAgICAgICBncmlkLmJ1Y2tldHMgPSB7fTtcbiAgICAgICAgZ3JpZC5wYWlycyA9IHt9O1xuICAgICAgICBncmlkLnBhaXJzTGlzdCA9IFtdO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgdW5pb24gb2YgdHdvIHJlZ2lvbnMuXG4gICAgICogQG1ldGhvZCBfcmVnaW9uVW5pb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSByZWdpb25BXG4gICAgICogQHBhcmFtIHt9IHJlZ2lvbkJcbiAgICAgKiBAcmV0dXJuIHt9IHJlZ2lvblxuICAgICAqL1xuICAgIEdyaWQuX3JlZ2lvblVuaW9uID0gZnVuY3Rpb24ocmVnaW9uQSwgcmVnaW9uQikge1xuICAgICAgICB2YXIgc3RhcnRDb2wgPSBNYXRoLm1pbihyZWdpb25BLnN0YXJ0Q29sLCByZWdpb25CLnN0YXJ0Q29sKSxcbiAgICAgICAgICAgIGVuZENvbCA9IE1hdGgubWF4KHJlZ2lvbkEuZW5kQ29sLCByZWdpb25CLmVuZENvbCksXG4gICAgICAgICAgICBzdGFydFJvdyA9IE1hdGgubWluKHJlZ2lvbkEuc3RhcnRSb3csIHJlZ2lvbkIuc3RhcnRSb3cpLFxuICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5tYXgocmVnaW9uQS5lbmRSb3csIHJlZ2lvbkIuZW5kUm93KTtcblxuICAgICAgICByZXR1cm4gR3JpZC5fY3JlYXRlUmVnaW9uKHN0YXJ0Q29sLCBlbmRDb2wsIHN0YXJ0Um93LCBlbmRSb3cpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByZWdpb24gYSBnaXZlbiBib2R5IGZhbGxzIGluIGZvciBhIGdpdmVuIGdyaWQuXG4gICAgICogQG1ldGhvZCBfZ2V0UmVnaW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBib2R5XG4gICAgICogQHJldHVybiB7fSByZWdpb25cbiAgICAgKi9cbiAgICBHcmlkLl9nZXRSZWdpb24gPSBmdW5jdGlvbihncmlkLCBib2R5KSB7XG4gICAgICAgIHZhciBib3VuZHMgPSBib2R5LmJvdW5kcyxcbiAgICAgICAgICAgIHN0YXJ0Q29sID0gTWF0aC5mbG9vcihib3VuZHMubWluLnggLyBncmlkLmJ1Y2tldFdpZHRoKSxcbiAgICAgICAgICAgIGVuZENvbCA9IE1hdGguZmxvb3IoYm91bmRzLm1heC54IC8gZ3JpZC5idWNrZXRXaWR0aCksXG4gICAgICAgICAgICBzdGFydFJvdyA9IE1hdGguZmxvb3IoYm91bmRzLm1pbi55IC8gZ3JpZC5idWNrZXRIZWlnaHQpLFxuICAgICAgICAgICAgZW5kUm93ID0gTWF0aC5mbG9vcihib3VuZHMubWF4LnkgLyBncmlkLmJ1Y2tldEhlaWdodCk7XG5cbiAgICAgICAgcmV0dXJuIEdyaWQuX2NyZWF0ZVJlZ2lvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHJlZ2lvbi5cbiAgICAgKiBAbWV0aG9kIF9jcmVhdGVSZWdpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSBzdGFydENvbFxuICAgICAqIEBwYXJhbSB7fSBlbmRDb2xcbiAgICAgKiBAcGFyYW0ge30gc3RhcnRSb3dcbiAgICAgKiBAcGFyYW0ge30gZW5kUm93XG4gICAgICogQHJldHVybiB7fSByZWdpb25cbiAgICAgKi9cbiAgICBHcmlkLl9jcmVhdGVSZWdpb24gPSBmdW5jdGlvbihzdGFydENvbCwgZW5kQ29sLCBzdGFydFJvdywgZW5kUm93KSB7XG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgaWQ6IHN0YXJ0Q29sICsgJywnICsgZW5kQ29sICsgJywnICsgc3RhcnRSb3cgKyAnLCcgKyBlbmRSb3csXG4gICAgICAgICAgICBzdGFydENvbDogc3RhcnRDb2wsIFxuICAgICAgICAgICAgZW5kQ29sOiBlbmRDb2wsIFxuICAgICAgICAgICAgc3RhcnRSb3c6IHN0YXJ0Um93LCBcbiAgICAgICAgICAgIGVuZFJvdzogZW5kUm93IFxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBidWNrZXQgaWQgYXQgdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAqIEBtZXRob2QgX2dldEJ1Y2tldElkXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gY29sdW1uXG4gICAgICogQHBhcmFtIHt9IHJvd1xuICAgICAqIEByZXR1cm4ge3N0cmluZ30gYnVja2V0IGlkXG4gICAgICovXG4gICAgR3JpZC5fZ2V0QnVja2V0SWQgPSBmdW5jdGlvbihjb2x1bW4sIHJvdykge1xuICAgICAgICByZXR1cm4gJ0MnICsgY29sdW1uICsgJ1InICsgcm93O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYnVja2V0LlxuICAgICAqIEBtZXRob2QgX2NyZWF0ZUJ1Y2tldFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGJ1Y2tldHNcbiAgICAgKiBAcGFyYW0ge30gYnVja2V0SWRcbiAgICAgKiBAcmV0dXJuIHt9IGJ1Y2tldFxuICAgICAqL1xuICAgIEdyaWQuX2NyZWF0ZUJ1Y2tldCA9IGZ1bmN0aW9uKGJ1Y2tldHMsIGJ1Y2tldElkKSB7XG4gICAgICAgIHZhciBidWNrZXQgPSBidWNrZXRzW2J1Y2tldElkXSA9IFtdO1xuICAgICAgICByZXR1cm4gYnVja2V0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgYm9keSB0byBhIGJ1Y2tldC5cbiAgICAgKiBAbWV0aG9kIF9idWNrZXRBZGRCb2R5XG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZ3JpZFxuICAgICAqIEBwYXJhbSB7fSBidWNrZXRcbiAgICAgKiBAcGFyYW0ge30gYm9keVxuICAgICAqL1xuICAgIEdyaWQuX2J1Y2tldEFkZEJvZHkgPSBmdW5jdGlvbihncmlkLCBidWNrZXQsIGJvZHkpIHtcbiAgICAgICAgLy8gYWRkIG5ldyBwYWlyc1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJ1Y2tldC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlCID0gYnVja2V0W2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pZCA9PT0gYm9keUIuaWQgfHwgKGJvZHkuaXNTdGF0aWMgJiYgYm9keUIuaXNTdGF0aWMpKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvLyBrZWVwIHRyYWNrIG9mIHRoZSBudW1iZXIgb2YgYnVja2V0cyB0aGUgcGFpciBleGlzdHMgaW5cbiAgICAgICAgICAgIC8vIGltcG9ydGFudCBmb3IgR3JpZC51cGRhdGUgdG8gd29ya1xuICAgICAgICAgICAgdmFyIHBhaXJJZCA9IFBhaXIuaWQoYm9keSwgYm9keUIpLFxuICAgICAgICAgICAgICAgIHBhaXIgPSBncmlkLnBhaXJzW3BhaXJJZF07XG5cbiAgICAgICAgICAgIGlmIChwYWlyKSB7XG4gICAgICAgICAgICAgICAgcGFpclsyXSArPSAxO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBncmlkLnBhaXJzW3BhaXJJZF0gPSBbYm9keSwgYm9keUIsIDFdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRvIGJvZGllcyAoYWZ0ZXIgcGFpcnMsIG90aGVyd2lzZSBwYWlycyB3aXRoIHNlbGYpXG4gICAgICAgIGJ1Y2tldC5wdXNoKGJvZHkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgYm9keSBmcm9tIGEgYnVja2V0LlxuICAgICAqIEBtZXRob2QgX2J1Y2tldFJlbW92ZUJvZHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSBncmlkXG4gICAgICogQHBhcmFtIHt9IGJ1Y2tldFxuICAgICAqIEBwYXJhbSB7fSBib2R5XG4gICAgICovXG4gICAgR3JpZC5fYnVja2V0UmVtb3ZlQm9keSA9IGZ1bmN0aW9uKGdyaWQsIGJ1Y2tldCwgYm9keSkge1xuICAgICAgICAvLyByZW1vdmUgZnJvbSBidWNrZXRcbiAgICAgICAgYnVja2V0LnNwbGljZShDb21tb24uaW5kZXhPZihidWNrZXQsIGJvZHkpLCAxKTtcblxuICAgICAgICAvLyB1cGRhdGUgcGFpciBjb3VudHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWNrZXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgdGhlIG51bWJlciBvZiBidWNrZXRzIHRoZSBwYWlyIGV4aXN0cyBpblxuICAgICAgICAgICAgLy8gaW1wb3J0YW50IGZvciBfY3JlYXRlQWN0aXZlUGFpcnNMaXN0IHRvIHdvcmtcbiAgICAgICAgICAgIHZhciBib2R5QiA9IGJ1Y2tldFtpXSxcbiAgICAgICAgICAgICAgICBwYWlySWQgPSBQYWlyLmlkKGJvZHksIGJvZHlCKSxcbiAgICAgICAgICAgICAgICBwYWlyID0gZ3JpZC5wYWlyc1twYWlySWRdO1xuXG4gICAgICAgICAgICBpZiAocGFpcilcbiAgICAgICAgICAgICAgICBwYWlyWzJdIC09IDE7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgbGlzdCBvZiB0aGUgYWN0aXZlIHBhaXJzIGluIHRoZSBncmlkLlxuICAgICAqIEBtZXRob2QgX2NyZWF0ZUFjdGl2ZVBhaXJzTGlzdFxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHt9IGdyaWRcbiAgICAgKiBAcmV0dXJuIFtdIHBhaXJzXG4gICAgICovXG4gICAgR3JpZC5fY3JlYXRlQWN0aXZlUGFpcnNMaXN0ID0gZnVuY3Rpb24oZ3JpZCkge1xuICAgICAgICB2YXIgcGFpcktleXMsXG4gICAgICAgICAgICBwYWlyLFxuICAgICAgICAgICAgcGFpcnMgPSBbXTtcblxuICAgICAgICAvLyBncmlkLnBhaXJzIGlzIHVzZWQgYXMgYSBoYXNobWFwXG4gICAgICAgIHBhaXJLZXlzID0gQ29tbW9uLmtleXMoZ3JpZC5wYWlycyk7XG5cbiAgICAgICAgLy8gaXRlcmF0ZSBvdmVyIGdyaWQucGFpcnNcbiAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCBwYWlyS2V5cy5sZW5ndGg7IGsrKykge1xuICAgICAgICAgICAgcGFpciA9IGdyaWQucGFpcnNbcGFpcktleXNba11dO1xuXG4gICAgICAgICAgICAvLyBpZiBwYWlyIGV4aXN0cyBpbiBhdCBsZWFzdCBvbmUgYnVja2V0XG4gICAgICAgICAgICAvLyBpdCBpcyBhIHBhaXIgdGhhdCBuZWVkcyBmdXJ0aGVyIGNvbGxpc2lvbiB0ZXN0aW5nIHNvIHB1c2ggaXRcbiAgICAgICAgICAgIGlmIChwYWlyWzJdID4gMCkge1xuICAgICAgICAgICAgICAgIHBhaXJzLnB1c2gocGFpcik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBncmlkLnBhaXJzW3BhaXJLZXlzW2tdXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBwYWlycztcbiAgICB9O1xuICAgIFxufSkoKTtcblxufSx7XCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi9EZXRlY3RvclwiOjUsXCIuL1BhaXJcIjo3fV0sNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuUGFpcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgY29sbGlzaW9uIHBhaXJzLlxuKlxuKiBAY2xhc3MgUGFpclxuKi9cblxudmFyIFBhaXIgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBQYWlyO1xuXG52YXIgQ29udGFjdCA9IF9kZXJlcV8oJy4vQ29udGFjdCcpO1xuXG4oZnVuY3Rpb24oKSB7XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHBhaXIuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge2NvbGxpc2lvbn0gY29sbGlzaW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAqIEByZXR1cm4ge3BhaXJ9IEEgbmV3IHBhaXJcbiAgICAgKi9cbiAgICBQYWlyLmNyZWF0ZSA9IGZ1bmN0aW9uKGNvbGxpc2lvbiwgdGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBib2R5QSA9IGNvbGxpc2lvbi5ib2R5QSxcbiAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLmJvZHlCLFxuICAgICAgICAgICAgcGFyZW50QSA9IGNvbGxpc2lvbi5wYXJlbnRBLFxuICAgICAgICAgICAgcGFyZW50QiA9IGNvbGxpc2lvbi5wYXJlbnRCO1xuXG4gICAgICAgIHZhciBwYWlyID0ge1xuICAgICAgICAgICAgaWQ6IFBhaXIuaWQoYm9keUEsIGJvZHlCKSxcbiAgICAgICAgICAgIGJvZHlBOiBib2R5QSxcbiAgICAgICAgICAgIGJvZHlCOiBib2R5QixcbiAgICAgICAgICAgIGNvbnRhY3RzOiB7fSxcbiAgICAgICAgICAgIGFjdGl2ZUNvbnRhY3RzOiBbXSxcbiAgICAgICAgICAgIHNlcGFyYXRpb246IDAsXG4gICAgICAgICAgICBpc0FjdGl2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlzU2Vuc29yOiBib2R5QS5pc1NlbnNvciB8fCBib2R5Qi5pc1NlbnNvcixcbiAgICAgICAgICAgIHRpbWVDcmVhdGVkOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICB0aW1lVXBkYXRlZDogdGltZXN0YW1wLFxuICAgICAgICAgICAgaW52ZXJzZU1hc3M6IHBhcmVudEEuaW52ZXJzZU1hc3MgKyBwYXJlbnRCLmludmVyc2VNYXNzLFxuICAgICAgICAgICAgZnJpY3Rpb246IE1hdGgubWluKHBhcmVudEEuZnJpY3Rpb24sIHBhcmVudEIuZnJpY3Rpb24pLFxuICAgICAgICAgICAgZnJpY3Rpb25TdGF0aWM6IE1hdGgubWF4KHBhcmVudEEuZnJpY3Rpb25TdGF0aWMsIHBhcmVudEIuZnJpY3Rpb25TdGF0aWMpLFxuICAgICAgICAgICAgcmVzdGl0dXRpb246IE1hdGgubWF4KHBhcmVudEEucmVzdGl0dXRpb24sIHBhcmVudEIucmVzdGl0dXRpb24pLFxuICAgICAgICAgICAgc2xvcDogTWF0aC5tYXgocGFyZW50QS5zbG9wLCBwYXJlbnRCLnNsb3ApXG4gICAgICAgIH07XG5cbiAgICAgICAgUGFpci51cGRhdGUocGFpciwgY29sbGlzaW9uLCB0aW1lc3RhbXApO1xuXG4gICAgICAgIHJldHVybiBwYWlyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGEgcGFpciBnaXZlbiBhIGNvbGxpc2lvbi5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7cGFpcn0gcGFpclxuICAgICAqIEBwYXJhbSB7Y29sbGlzaW9ufSBjb2xsaXNpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG4gICAgUGFpci51cGRhdGUgPSBmdW5jdGlvbihwYWlyLCBjb2xsaXNpb24sIHRpbWVzdGFtcCkge1xuICAgICAgICB2YXIgY29udGFjdHMgPSBwYWlyLmNvbnRhY3RzLFxuICAgICAgICAgICAgc3VwcG9ydHMgPSBjb2xsaXNpb24uc3VwcG9ydHMsXG4gICAgICAgICAgICBhY3RpdmVDb250YWN0cyA9IHBhaXIuYWN0aXZlQ29udGFjdHMsXG4gICAgICAgICAgICBwYXJlbnRBID0gY29sbGlzaW9uLnBhcmVudEEsXG4gICAgICAgICAgICBwYXJlbnRCID0gY29sbGlzaW9uLnBhcmVudEI7XG4gICAgICAgIFxuICAgICAgICBwYWlyLmNvbGxpc2lvbiA9IGNvbGxpc2lvbjtcbiAgICAgICAgcGFpci5pbnZlcnNlTWFzcyA9IHBhcmVudEEuaW52ZXJzZU1hc3MgKyBwYXJlbnRCLmludmVyc2VNYXNzO1xuICAgICAgICBwYWlyLmZyaWN0aW9uID0gTWF0aC5taW4ocGFyZW50QS5mcmljdGlvbiwgcGFyZW50Qi5mcmljdGlvbik7XG4gICAgICAgIHBhaXIuZnJpY3Rpb25TdGF0aWMgPSBNYXRoLm1heChwYXJlbnRBLmZyaWN0aW9uU3RhdGljLCBwYXJlbnRCLmZyaWN0aW9uU3RhdGljKTtcbiAgICAgICAgcGFpci5yZXN0aXR1dGlvbiA9IE1hdGgubWF4KHBhcmVudEEucmVzdGl0dXRpb24sIHBhcmVudEIucmVzdGl0dXRpb24pO1xuICAgICAgICBwYWlyLnNsb3AgPSBNYXRoLm1heChwYXJlbnRBLnNsb3AsIHBhcmVudEIuc2xvcCk7XG4gICAgICAgIGFjdGl2ZUNvbnRhY3RzLmxlbmd0aCA9IDA7XG4gICAgICAgIFxuICAgICAgICBpZiAoY29sbGlzaW9uLmNvbGxpZGVkKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHN1cHBvcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHN1cHBvcnQgPSBzdXBwb3J0c1tpXSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdElkID0gQ29udGFjdC5pZChzdXBwb3J0KSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdCA9IGNvbnRhY3RzW2NvbnRhY3RJZF07XG5cbiAgICAgICAgICAgICAgICBpZiAoY29udGFjdCkge1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVDb250YWN0cy5wdXNoKGNvbnRhY3QpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGl2ZUNvbnRhY3RzLnB1c2goY29udGFjdHNbY29udGFjdElkXSA9IENvbnRhY3QuY3JlYXRlKHN1cHBvcnQpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHBhaXIuc2VwYXJhdGlvbiA9IGNvbGxpc2lvbi5kZXB0aDtcbiAgICAgICAgICAgIFBhaXIuc2V0QWN0aXZlKHBhaXIsIHRydWUsIHRpbWVzdGFtcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAocGFpci5pc0FjdGl2ZSA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICBQYWlyLnNldEFjdGl2ZShwYWlyLCBmYWxzZSwgdGltZXN0YW1wKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogU2V0IGEgcGFpciBhcyBhY3RpdmUgb3IgaW5hY3RpdmUuXG4gICAgICogQG1ldGhvZCBzZXRBY3RpdmVcbiAgICAgKiBAcGFyYW0ge3BhaXJ9IHBhaXJcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IGlzQWN0aXZlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVzdGFtcFxuICAgICAqL1xuICAgIFBhaXIuc2V0QWN0aXZlID0gZnVuY3Rpb24ocGFpciwgaXNBY3RpdmUsIHRpbWVzdGFtcCkge1xuICAgICAgICBpZiAoaXNBY3RpdmUpIHtcbiAgICAgICAgICAgIHBhaXIuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgcGFpci50aW1lVXBkYXRlZCA9IHRpbWVzdGFtcDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHBhaXIuaXNBY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgIHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoID0gMDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGlkIGZvciB0aGUgZ2l2ZW4gcGFpci5cbiAgICAgKiBAbWV0aG9kIGlkXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5QVxuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUJcbiAgICAgKiBAcmV0dXJuIHtzdHJpbmd9IFVuaXF1ZSBwYWlySWRcbiAgICAgKi9cbiAgICBQYWlyLmlkID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCKSB7XG4gICAgICAgIGlmIChib2R5QS5pZCA8IGJvZHlCLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gJ0EnICsgYm9keUEuaWQgKyAnQicgKyBib2R5Qi5pZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAnQScgKyBib2R5Qi5pZCArICdCJyArIGJvZHlBLmlkO1xuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxufSx7XCIuL0NvbnRhY3RcIjo0fV0sODpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuUGFpcnNgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIGNvbGxpc2lvbiBwYWlyIHNldHMuXG4qXG4qIEBjbGFzcyBQYWlyc1xuKi9cblxudmFyIFBhaXJzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUGFpcnM7XG5cbnZhciBQYWlyID0gX2RlcmVxXygnLi9QYWlyJyk7XG52YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTtcblxuKGZ1bmN0aW9uKCkge1xuICAgIFxuICAgIFBhaXJzLl9wYWlyTWF4SWRsZUxpZmUgPSAxMDAwO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBwYWlycyBzdHJ1Y3R1cmUuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge3BhaXJzfSBBIG5ldyBwYWlycyBzdHJ1Y3R1cmVcbiAgICAgKi9cbiAgICBQYWlycy5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBDb21tb24uZXh0ZW5kKHsgXG4gICAgICAgICAgICB0YWJsZToge30sXG4gICAgICAgICAgICBsaXN0OiBbXSxcbiAgICAgICAgICAgIGNvbGxpc2lvblN0YXJ0OiBbXSxcbiAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZTogW10sXG4gICAgICAgICAgICBjb2xsaXNpb25FbmQ6IFtdXG4gICAgICAgIH0sIG9wdGlvbnMpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIHBhaXJzIGdpdmVuIGEgbGlzdCBvZiBjb2xsaXNpb25zLlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IHBhaXJzXG4gICAgICogQHBhcmFtIHtjb2xsaXNpb25bXX0gY29sbGlzaW9uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBQYWlycy51cGRhdGUgPSBmdW5jdGlvbihwYWlycywgY29sbGlzaW9ucywgdGltZXN0YW1wKSB7XG4gICAgICAgIHZhciBwYWlyc0xpc3QgPSBwYWlycy5saXN0LFxuICAgICAgICAgICAgcGFpcnNUYWJsZSA9IHBhaXJzLnRhYmxlLFxuICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQgPSBwYWlycy5jb2xsaXNpb25TdGFydCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkVuZCA9IHBhaXJzLmNvbGxpc2lvbkVuZCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkFjdGl2ZSA9IHBhaXJzLmNvbGxpc2lvbkFjdGl2ZSxcbiAgICAgICAgICAgIGFjdGl2ZVBhaXJJZHMgPSBbXSxcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIHBhaXJJZCxcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIC8vIGNsZWFyIGNvbGxpc2lvbiBzdGF0ZSBhcnJheXMsIGJ1dCBtYWludGFpbiBvbGQgcmVmZXJlbmNlXG4gICAgICAgIGNvbGxpc2lvblN0YXJ0Lmxlbmd0aCA9IDA7XG4gICAgICAgIGNvbGxpc2lvbkVuZC5sZW5ndGggPSAwO1xuICAgICAgICBjb2xsaXNpb25BY3RpdmUubGVuZ3RoID0gMDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29sbGlzaW9ucy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29sbGlzaW9uID0gY29sbGlzaW9uc1tpXTtcblxuICAgICAgICAgICAgaWYgKGNvbGxpc2lvbi5jb2xsaWRlZCkge1xuICAgICAgICAgICAgICAgIHBhaXJJZCA9IFBhaXIuaWQoY29sbGlzaW9uLmJvZHlBLCBjb2xsaXNpb24uYm9keUIpO1xuICAgICAgICAgICAgICAgIGFjdGl2ZVBhaXJJZHMucHVzaChwYWlySWQpO1xuXG4gICAgICAgICAgICAgICAgcGFpciA9IHBhaXJzVGFibGVbcGFpcklkXTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAocGFpcikge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYWlyIGFscmVhZHkgZXhpc3RzIChidXQgbWF5IG9yIG1heSBub3QgYmUgYWN0aXZlKVxuICAgICAgICAgICAgICAgICAgICBpZiAocGFpci5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGFpciBleGlzdHMgYW5kIGlzIGFjdGl2ZVxuICAgICAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uQWN0aXZlLnB1c2gocGFpcik7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBwYWlyIGV4aXN0cyBidXQgd2FzIGluYWN0aXZlLCBzbyBhIGNvbGxpc2lvbiBoYXMganVzdCBzdGFydGVkIGFnYWluXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25TdGFydC5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBwYWlyXG4gICAgICAgICAgICAgICAgICAgIFBhaXIudXBkYXRlKHBhaXIsIGNvbGxpc2lvbiwgdGltZXN0YW1wKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYWlyIGRpZCBub3QgZXhpc3QsIGNyZWF0ZSBhIG5ldyBwYWlyXG4gICAgICAgICAgICAgICAgICAgIHBhaXIgPSBQYWlyLmNyZWF0ZShjb2xsaXNpb24sIHRpbWVzdGFtcCk7XG4gICAgICAgICAgICAgICAgICAgIHBhaXJzVGFibGVbcGFpcklkXSA9IHBhaXI7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcHVzaCB0aGUgbmV3IHBhaXJcbiAgICAgICAgICAgICAgICAgICAgY29sbGlzaW9uU3RhcnQucHVzaChwYWlyKTtcbiAgICAgICAgICAgICAgICAgICAgcGFpcnNMaXN0LnB1c2gocGFpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gZGVhY3RpdmF0ZSBwcmV2aW91c2x5IGFjdGl2ZSBwYWlycyB0aGF0IGFyZSBub3cgaW5hY3RpdmVcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzTGlzdFtpXTtcbiAgICAgICAgICAgIGlmIChwYWlyLmlzQWN0aXZlICYmIENvbW1vbi5pbmRleE9mKGFjdGl2ZVBhaXJJZHMsIHBhaXIuaWQpID09PSAtMSkge1xuICAgICAgICAgICAgICAgIFBhaXIuc2V0QWN0aXZlKHBhaXIsIGZhbHNlLCB0aW1lc3RhbXApO1xuICAgICAgICAgICAgICAgIGNvbGxpc2lvbkVuZC5wdXNoKHBhaXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBGaW5kcyBhbmQgcmVtb3ZlcyBwYWlycyB0aGF0IGhhdmUgYmVlbiBpbmFjdGl2ZSBmb3IgYSBzZXQgYW1vdW50IG9mIHRpbWUuXG4gICAgICogQG1ldGhvZCByZW1vdmVPbGRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZXN0YW1wXG4gICAgICovXG4gICAgUGFpcnMucmVtb3ZlT2xkID0gZnVuY3Rpb24ocGFpcnMsIHRpbWVzdGFtcCkge1xuICAgICAgICB2YXIgcGFpcnNMaXN0ID0gcGFpcnMubGlzdCxcbiAgICAgICAgICAgIHBhaXJzVGFibGUgPSBwYWlycy50YWJsZSxcbiAgICAgICAgICAgIGluZGV4ZXNUb1JlbW92ZSA9IFtdLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIHBhaXJJbmRleCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhaXJzTGlzdC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzTGlzdFtpXTtcbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBuZXZlciByZW1vdmUgc2xlZXBpbmcgcGFpcnNcbiAgICAgICAgICAgIGlmIChjb2xsaXNpb24uYm9keUEuaXNTbGVlcGluZyB8fCBjb2xsaXNpb24uYm9keUIuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHBhaXIudGltZVVwZGF0ZWQgPSB0aW1lc3RhbXA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGlmIHBhaXIgaXMgaW5hY3RpdmUgZm9yIHRvbyBsb25nLCBtYXJrIGl0IHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICAgIGlmICh0aW1lc3RhbXAgLSBwYWlyLnRpbWVVcGRhdGVkID4gUGFpcnMuX3BhaXJNYXhJZGxlTGlmZSkge1xuICAgICAgICAgICAgICAgIGluZGV4ZXNUb1JlbW92ZS5wdXNoKGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gcmVtb3ZlIG1hcmtlZCBwYWlyc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaW5kZXhlc1RvUmVtb3ZlLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBwYWlySW5kZXggPSBpbmRleGVzVG9SZW1vdmVbaV0gLSBpO1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzTGlzdFtwYWlySW5kZXhdO1xuICAgICAgICAgICAgZGVsZXRlIHBhaXJzVGFibGVbcGFpci5pZF07XG4gICAgICAgICAgICBwYWlyc0xpc3Quc3BsaWNlKHBhaXJJbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBnaXZlbiBwYWlycyBzdHJ1Y3R1cmUuXG4gICAgICogQG1ldGhvZCBjbGVhclxuICAgICAqIEBwYXJhbSB7cGFpcnN9IHBhaXJzXG4gICAgICogQHJldHVybiB7cGFpcnN9IHBhaXJzXG4gICAgICovXG4gICAgUGFpcnMuY2xlYXIgPSBmdW5jdGlvbihwYWlycykge1xuICAgICAgICBwYWlycy50YWJsZSA9IHt9O1xuICAgICAgICBwYWlycy5saXN0Lmxlbmd0aCA9IDA7XG4gICAgICAgIHBhaXJzLmNvbGxpc2lvblN0YXJ0Lmxlbmd0aCA9IDA7XG4gICAgICAgIHBhaXJzLmNvbGxpc2lvbkFjdGl2ZS5sZW5ndGggPSAwO1xuICAgICAgICBwYWlycy5jb2xsaXNpb25FbmQubGVuZ3RoID0gMDtcbiAgICAgICAgcmV0dXJuIHBhaXJzO1xuICAgIH07XG5cbn0pKCk7XG5cbn0se1wiLi4vY29yZS9Db21tb25cIjoxNCxcIi4vUGFpclwiOjd9XSw5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5RdWVyeWAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHBlcmZvcm1pbmcgY29sbGlzaW9uIHF1ZXJpZXMuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBRdWVyeVxuKi9cblxudmFyIFF1ZXJ5ID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUXVlcnk7XG5cbnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTtcbnZhciBTQVQgPSBfZGVyZXFfKCcuL1NBVCcpO1xudmFyIEJvdW5kcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0JvdW5kcycpO1xudmFyIEJvZGllcyA9IF9kZXJlcV8oJy4uL2ZhY3RvcnkvQm9kaWVzJyk7XG52YXIgVmVydGljZXMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZXJ0aWNlcycpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBjb2xsaXNpb25zIGJldHdlZW4gYGJvZHlgIGFuZCBgYm9kaWVzYC5cbiAgICAgKiBAbWV0aG9kIGNvbGxpZGVzXG4gICAgICogQHBhcmFtIHtib2R5fSBib2R5XG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEByZXR1cm4ge29iamVjdFtdfSBDb2xsaXNpb25zXG4gICAgICovXG4gICAgUXVlcnkuY29sbGlkZXMgPSBmdW5jdGlvbihib2R5LCBib2RpZXMpIHtcbiAgICAgICAgdmFyIGNvbGxpc2lvbnMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlBID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKGJvZHlBLmJvdW5kcywgYm9keS5ib3VuZHMpKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHlBLnBhcnRzLmxlbmd0aCA9PT0gMSA/IDAgOiAxOyBqIDwgYm9keUEucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5QS5wYXJ0c1tqXTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKHBhcnQuYm91bmRzLCBib2R5LmJvdW5kcykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb2xsaXNpb24gPSBTQVQuY29sbGlkZXMocGFydCwgYm9keSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb2xsaXNpb24uY29sbGlkZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xsaXNpb25zLnB1c2goY29sbGlzaW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xsaXNpb25zO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBhIHJheSBzZWdtZW50IGFnYWluc3QgYSBzZXQgb2YgYm9kaWVzIGFuZCByZXR1cm5zIGFsbCBjb2xsaXNpb25zLCByYXkgd2lkdGggaXMgb3B0aW9uYWwuIEludGVyc2VjdGlvbiBwb2ludHMgYXJlIG5vdCBwcm92aWRlZC5cbiAgICAgKiBAbWV0aG9kIHJheVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gc3RhcnRQb2ludFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBlbmRQb2ludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcmF5V2lkdGhdXG4gICAgICogQHJldHVybiB7b2JqZWN0W119IENvbGxpc2lvbnNcbiAgICAgKi9cbiAgICBRdWVyeS5yYXkgPSBmdW5jdGlvbihib2RpZXMsIHN0YXJ0UG9pbnQsIGVuZFBvaW50LCByYXlXaWR0aCkge1xuICAgICAgICByYXlXaWR0aCA9IHJheVdpZHRoIHx8IDFlLTEwMDtcblxuICAgICAgICB2YXIgcmF5QW5nbGUgPSBWZWN0b3IuYW5nbGUoc3RhcnRQb2ludCwgZW5kUG9pbnQpLFxuICAgICAgICAgICAgcmF5TGVuZ3RoID0gVmVjdG9yLm1hZ25pdHVkZShWZWN0b3Iuc3ViKHN0YXJ0UG9pbnQsIGVuZFBvaW50KSksXG4gICAgICAgICAgICByYXlYID0gKGVuZFBvaW50LnggKyBzdGFydFBvaW50LngpICogMC41LFxuICAgICAgICAgICAgcmF5WSA9IChlbmRQb2ludC55ICsgc3RhcnRQb2ludC55KSAqIDAuNSxcbiAgICAgICAgICAgIHJheSA9IEJvZGllcy5yZWN0YW5nbGUocmF5WCwgcmF5WSwgcmF5TGVuZ3RoLCByYXlXaWR0aCwgeyBhbmdsZTogcmF5QW5nbGUgfSksXG4gICAgICAgICAgICBjb2xsaXNpb25zID0gUXVlcnkuY29sbGlkZXMocmF5LCBib2RpZXMpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29sbGlzaW9ucy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IGNvbGxpc2lvbnNbaV07XG4gICAgICAgICAgICBjb2xsaXNpb24uYm9keSA9IGNvbGxpc2lvbi5ib2R5QiA9IGNvbGxpc2lvbi5ib2R5QTsgICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBjb2xsaXNpb25zO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBib2RpZXMgd2hvc2UgYm91bmRzIGFyZSBpbnNpZGUgKG9yIG91dHNpZGUgaWYgc2V0KSB0aGUgZ2l2ZW4gc2V0IG9mIGJvdW5kcywgZnJvbSB0aGUgZ2l2ZW4gc2V0IG9mIGJvZGllcy5cbiAgICAgKiBAbWV0aG9kIHJlZ2lvblxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzXG4gICAgICogQHBhcmFtIHtib29sfSBbb3V0c2lkZT1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHtib2R5W119IFRoZSBib2RpZXMgbWF0Y2hpbmcgdGhlIHF1ZXJ5XG4gICAgICovXG4gICAgUXVlcnkucmVnaW9uID0gZnVuY3Rpb24oYm9kaWVzLCBib3VuZHMsIG91dHNpZGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBvdmVybGFwcyA9IEJvdW5kcy5vdmVybGFwcyhib2R5LmJvdW5kcywgYm91bmRzKTtcbiAgICAgICAgICAgIGlmICgob3ZlcmxhcHMgJiYgIW91dHNpZGUpIHx8ICghb3ZlcmxhcHMgJiYgb3V0c2lkZSkpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goYm9keSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFsbCBib2RpZXMgd2hvc2UgdmVydGljZXMgY29udGFpbiB0aGUgZ2l2ZW4gcG9pbnQsIGZyb20gdGhlIGdpdmVuIHNldCBvZiBib2RpZXMuXG4gICAgICogQG1ldGhvZCBwb2ludFxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib2R5W119IFRoZSBib2RpZXMgbWF0Y2hpbmcgdGhlIHF1ZXJ5XG4gICAgICovXG4gICAgUXVlcnkucG9pbnQgPSBmdW5jdGlvbihib2RpZXMsIHBvaW50KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMoYm9keS5ib3VuZHMsIHBvaW50KSkge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBib2R5LnBhcnRzLmxlbmd0aCA9PT0gMSA/IDAgOiAxOyBqIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGFydCA9IGJvZHkucGFydHNbal07XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKEJvdW5kcy5jb250YWlucyhwYXJ0LmJvdW5kcywgcG9pbnQpXG4gICAgICAgICAgICAgICAgICAgICAgICAmJiBWZXJ0aWNlcy5jb250YWlucyhwYXJ0LnZlcnRpY2VzLCBwb2ludCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGJvZHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbn0pKCk7XG5cbn0se1wiLi4vZmFjdG9yeS9Cb2RpZXNcIjoyMyxcIi4uL2dlb21ldHJ5L0JvdW5kc1wiOjI2LFwiLi4vZ2VvbWV0cnkvVmVjdG9yXCI6MjgsXCIuLi9nZW9tZXRyeS9WZXJ0aWNlc1wiOjI5LFwiLi9TQVRcIjoxMX1dLDEwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5SZXNvbHZlcmAgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIHJlc29sdmluZyBjb2xsaXNpb24gcGFpcnMuXG4qXG4qIEBjbGFzcyBSZXNvbHZlclxuKi9cblxudmFyIFJlc29sdmVyID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gUmVzb2x2ZXI7XG5cbnZhciBWZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7XG52YXIgVmVjdG9yID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVjdG9yJyk7XG52YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTtcbnZhciBCb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgUmVzb2x2ZXIuX3Jlc3RpbmdUaHJlc2ggPSA0O1xuICAgIFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoVGFuZ2VudCA9IDY7XG4gICAgUmVzb2x2ZXIuX3Bvc2l0aW9uRGFtcGVuID0gMC45O1xuICAgIFJlc29sdmVyLl9wb3NpdGlvbldhcm1pbmcgPSAwLjg7XG4gICAgUmVzb2x2ZXIuX2ZyaWN0aW9uTm9ybWFsTXVsdGlwbGllciA9IDU7XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlIHBhaXJzIGZvciBwb3NpdGlvbiBzb2x2aW5nLlxuICAgICAqIEBtZXRob2QgcHJlU29sdmVQb3NpdGlvblxuICAgICAqIEBwYXJhbSB7cGFpcltdfSBwYWlyc1xuICAgICAqL1xuICAgIFJlc29sdmVyLnByZVNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihwYWlycykge1xuICAgICAgICB2YXIgaSxcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBhY3RpdmVDb3VudDtcblxuICAgICAgICAvLyBmaW5kIHRvdGFsIGNvbnRhY3RzIG9uIGVhY2ggYm9keVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBhY3RpdmVDb3VudCA9IHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoO1xuICAgICAgICAgICAgcGFpci5jb2xsaXNpb24ucGFyZW50QS50b3RhbENvbnRhY3RzICs9IGFjdGl2ZUNvdW50O1xuICAgICAgICAgICAgcGFpci5jb2xsaXNpb24ucGFyZW50Qi50b3RhbENvbnRhY3RzICs9IGFjdGl2ZUNvdW50O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmQgYSBzb2x1dGlvbiBmb3IgcGFpciBwb3NpdGlvbnMuXG4gICAgICogQG1ldGhvZCBzb2x2ZVBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVTY2FsZVxuICAgICAqL1xuICAgIFJlc29sdmVyLnNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihwYWlycywgdGltZVNjYWxlKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBub3JtYWwsXG4gICAgICAgICAgICBib2R5QnRvQSxcbiAgICAgICAgICAgIGNvbnRhY3RTaGFyZSxcbiAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZSxcbiAgICAgICAgICAgIGNvbnRhY3RDb3VudCA9IHt9LFxuICAgICAgICAgICAgdGVtcEEgPSBWZWN0b3IuX3RlbXBbMF0sXG4gICAgICAgICAgICB0ZW1wQiA9IFZlY3Rvci5fdGVtcFsxXSxcbiAgICAgICAgICAgIHRlbXBDID0gVmVjdG9yLl90ZW1wWzJdLFxuICAgICAgICAgICAgdGVtcEQgPSBWZWN0b3IuX3RlbXBbM107XG5cbiAgICAgICAgLy8gZmluZCBpbXB1bHNlcyByZXF1aXJlZCB0byByZXNvbHZlIHBlbmV0cmF0aW9uXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBO1xuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QjtcbiAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWw7XG5cbiAgICAgICAgICAgIC8vIGdldCBjdXJyZW50IHNlcGFyYXRpb24gYmV0d2VlbiBib2R5IGVkZ2VzIGludm9sdmVkIGluIGNvbGxpc2lvblxuICAgICAgICAgICAgYm9keUJ0b0EgPSBWZWN0b3Iuc3ViKFZlY3Rvci5hZGQoYm9keUIucG9zaXRpb25JbXB1bHNlLCBib2R5Qi5wb3NpdGlvbiwgdGVtcEEpLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZlY3Rvci5hZGQoYm9keUEucG9zaXRpb25JbXB1bHNlLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBWZWN0b3Iuc3ViKGJvZHlCLnBvc2l0aW9uLCBjb2xsaXNpb24ucGVuZXRyYXRpb24sIHRlbXBCKSwgdGVtcEMpLCB0ZW1wRCk7XG5cbiAgICAgICAgICAgIHBhaXIuc2VwYXJhdGlvbiA9IFZlY3Rvci5kb3Qobm9ybWFsLCBib2R5QnRvQSk7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgY29sbGlzaW9uID0gcGFpci5jb2xsaXNpb247XG4gICAgICAgICAgICBib2R5QSA9IGNvbGxpc2lvbi5wYXJlbnRBO1xuICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QjtcbiAgICAgICAgICAgIG5vcm1hbCA9IGNvbGxpc2lvbi5ub3JtYWw7XG4gICAgICAgICAgICBwb3NpdGlvbkltcHVsc2UgPSAocGFpci5zZXBhcmF0aW9uIC0gcGFpci5zbG9wKSAqIHRpbWVTY2FsZTtcblxuICAgICAgICAgICAgaWYgKGJvZHlBLmlzU3RhdGljIHx8IGJvZHlCLmlzU3RhdGljKVxuICAgICAgICAgICAgICAgIHBvc2l0aW9uSW1wdWxzZSAqPSAyO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIShib2R5QS5pc1N0YXRpYyB8fCBib2R5QS5pc1NsZWVwaW5nKSkge1xuICAgICAgICAgICAgICAgIGNvbnRhY3RTaGFyZSA9IFJlc29sdmVyLl9wb3NpdGlvbkRhbXBlbiAvIGJvZHlBLnRvdGFsQ29udGFjdHM7XG4gICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25JbXB1bHNlLnggKz0gbm9ybWFsLnggKiBwb3NpdGlvbkltcHVsc2UgKiBjb250YWN0U2hhcmU7XG4gICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25JbXB1bHNlLnkgKz0gbm9ybWFsLnkgKiBwb3NpdGlvbkltcHVsc2UgKiBjb250YWN0U2hhcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICghKGJvZHlCLmlzU3RhdGljIHx8IGJvZHlCLmlzU2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAgICAgY29udGFjdFNoYXJlID0gUmVzb2x2ZXIuX3Bvc2l0aW9uRGFtcGVuIC8gYm9keUIudG90YWxDb250YWN0cztcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvbkltcHVsc2UueCAtPSBub3JtYWwueCAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvbkltcHVsc2UueSAtPSBub3JtYWwueSAqIHBvc2l0aW9uSW1wdWxzZSAqIGNvbnRhY3RTaGFyZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBseSBwb3NpdGlvbiByZXNvbHV0aW9uLlxuICAgICAqIEBtZXRob2QgcG9zdFNvbHZlUG9zaXRpb25cbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICovXG4gICAgUmVzb2x2ZXIucG9zdFNvbHZlUG9zaXRpb24gPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICAvLyByZXNldCBjb250YWN0IGNvdW50XG4gICAgICAgICAgICBib2R5LnRvdGFsQ29udGFjdHMgPSAwO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5wb3NpdGlvbkltcHVsc2UueCAhPT0gMCB8fCBib2R5LnBvc2l0aW9uSW1wdWxzZS55ICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIGJvZHkgZ2VvbWV0cnlcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGJvZHkucGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICBWZXJ0aWNlcy50cmFuc2xhdGUocGFydC52ZXJ0aWNlcywgYm9keS5wb3NpdGlvbkltcHVsc2UpO1xuICAgICAgICAgICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgICAgICAgICAgICAgcGFydC5wb3NpdGlvbi54ICs9IGJvZHkucG9zaXRpb25JbXB1bHNlLng7XG4gICAgICAgICAgICAgICAgICAgIHBhcnQucG9zaXRpb24ueSArPSBib2R5LnBvc2l0aW9uSW1wdWxzZS55O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vdmUgdGhlIGJvZHkgd2l0aG91dCBjaGFuZ2luZyB2ZWxvY2l0eVxuICAgICAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnggKz0gYm9keS5wb3NpdGlvbkltcHVsc2UueDtcbiAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uUHJldi55ICs9IGJvZHkucG9zaXRpb25JbXB1bHNlLnk7XG5cbiAgICAgICAgICAgICAgICBpZiAoVmVjdG9yLmRvdChib2R5LnBvc2l0aW9uSW1wdWxzZSwgYm9keS52ZWxvY2l0eSkgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHJlc2V0IGNhY2hlZCBpbXB1bHNlIGlmIHRoZSBib2R5IGhhcyB2ZWxvY2l0eSBhbG9uZyBpdFxuICAgICAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uSW1wdWxzZS54ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgYm9keS5wb3NpdGlvbkltcHVsc2UueSA9IDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2FybSB0aGUgbmV4dCBpdGVyYXRpb25cbiAgICAgICAgICAgICAgICAgICAgYm9keS5wb3NpdGlvbkltcHVsc2UueCAqPSBSZXNvbHZlci5fcG9zaXRpb25XYXJtaW5nO1xuICAgICAgICAgICAgICAgICAgICBib2R5LnBvc2l0aW9uSW1wdWxzZS55ICo9IFJlc29sdmVyLl9wb3NpdGlvbldhcm1pbmc7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFByZXBhcmUgcGFpcnMgZm9yIHZlbG9jaXR5IHNvbHZpbmcuXG4gICAgICogQG1ldGhvZCBwcmVTb2x2ZVZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzXG4gICAgICovXG4gICAgUmVzb2x2ZXIucHJlU29sdmVWZWxvY2l0eSA9IGZ1bmN0aW9uKHBhaXJzKSB7XG4gICAgICAgIHZhciBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIHBhaXIsXG4gICAgICAgICAgICBjb250YWN0cyxcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBub3JtYWwsXG4gICAgICAgICAgICB0YW5nZW50LFxuICAgICAgICAgICAgY29udGFjdCxcbiAgICAgICAgICAgIGNvbnRhY3RWZXJ0ZXgsXG4gICAgICAgICAgICBub3JtYWxJbXB1bHNlLFxuICAgICAgICAgICAgdGFuZ2VudEltcHVsc2UsXG4gICAgICAgICAgICBvZmZzZXQsXG4gICAgICAgICAgICBpbXB1bHNlID0gVmVjdG9yLl90ZW1wWzBdLFxuICAgICAgICAgICAgdGVtcEEgPSBWZWN0b3IuX3RlbXBbMV07XG4gICAgICAgIFxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHBhaXIgPSBwYWlyc1tpXTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKCFwYWlyLmlzQWN0aXZlIHx8IHBhaXIuaXNTZW5zb3IpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnRhY3RzID0gcGFpci5hY3RpdmVDb250YWN0cztcbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24ucGFyZW50QTtcbiAgICAgICAgICAgIGJvZHlCID0gY29sbGlzaW9uLnBhcmVudEI7XG4gICAgICAgICAgICBub3JtYWwgPSBjb2xsaXNpb24ubm9ybWFsO1xuICAgICAgICAgICAgdGFuZ2VudCA9IGNvbGxpc2lvbi50YW5nZW50O1xuXG4gICAgICAgICAgICAvLyByZXNvbHZlIGVhY2ggY29udGFjdFxuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGNvbnRhY3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgY29udGFjdCA9IGNvbnRhY3RzW2pdO1xuICAgICAgICAgICAgICAgIGNvbnRhY3RWZXJ0ZXggPSBjb250YWN0LnZlcnRleDtcbiAgICAgICAgICAgICAgICBub3JtYWxJbXB1bHNlID0gY29udGFjdC5ub3JtYWxJbXB1bHNlO1xuICAgICAgICAgICAgICAgIHRhbmdlbnRJbXB1bHNlID0gY29udGFjdC50YW5nZW50SW1wdWxzZTtcblxuICAgICAgICAgICAgICAgIGlmIChub3JtYWxJbXB1bHNlICE9PSAwIHx8IHRhbmdlbnRJbXB1bHNlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRvdGFsIGltcHVsc2UgZnJvbSBjb250YWN0XG4gICAgICAgICAgICAgICAgICAgIGltcHVsc2UueCA9IChub3JtYWwueCAqIG5vcm1hbEltcHVsc2UpICsgKHRhbmdlbnQueCAqIHRhbmdlbnRJbXB1bHNlKTtcbiAgICAgICAgICAgICAgICAgICAgaW1wdWxzZS55ID0gKG5vcm1hbC55ICogbm9ybWFsSW1wdWxzZSkgKyAodGFuZ2VudC55ICogdGFuZ2VudEltcHVsc2UpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gYXBwbHkgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEoYm9keUEuaXNTdGF0aWMgfHwgYm9keUEuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9mZnNldCA9IFZlY3Rvci5zdWIoY29udGFjdFZlcnRleCwgYm9keUEucG9zaXRpb24sIHRlbXBBKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54ICs9IGltcHVsc2UueCAqIGJvZHlBLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25QcmV2LnkgKz0gaW1wdWxzZS55ICogYm9keUEuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5QS5hbmdsZVByZXYgKz0gVmVjdG9yLmNyb3NzKG9mZnNldCwgaW1wdWxzZSkgKiBib2R5QS5pbnZlcnNlSW5lcnRpYTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghKGJvZHlCLmlzU3RhdGljIHx8IGJvZHlCLmlzU2xlZXBpbmcpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvZmZzZXQgPSBWZWN0b3Iuc3ViKGNvbnRhY3RWZXJ0ZXgsIGJvZHlCLnBvc2l0aW9uLCB0ZW1wQSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueCAtPSBpbXB1bHNlLnggKiBib2R5Qi5pbnZlcnNlTWFzcztcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi55IC09IGltcHVsc2UueSAqIGJvZHlCLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUIuYW5nbGVQcmV2IC09IFZlY3Rvci5jcm9zcyhvZmZzZXQsIGltcHVsc2UpICogYm9keUIuaW52ZXJzZUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluZCBhIHNvbHV0aW9uIGZvciBwYWlyIHZlbG9jaXRpZXMuXG4gICAgICogQG1ldGhvZCBzb2x2ZVZlbG9jaXR5XG4gICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHRpbWVTY2FsZVxuICAgICAqL1xuICAgIFJlc29sdmVyLnNvbHZlVmVsb2NpdHkgPSBmdW5jdGlvbihwYWlycywgdGltZVNjYWxlKSB7XG4gICAgICAgIHZhciB0aW1lU2NhbGVTcXVhcmVkID0gdGltZVNjYWxlICogdGltZVNjYWxlLFxuICAgICAgICAgICAgaW1wdWxzZSA9IFZlY3Rvci5fdGVtcFswXSxcbiAgICAgICAgICAgIHRlbXBBID0gVmVjdG9yLl90ZW1wWzFdLFxuICAgICAgICAgICAgdGVtcEIgPSBWZWN0b3IuX3RlbXBbMl0sXG4gICAgICAgICAgICB0ZW1wQyA9IFZlY3Rvci5fdGVtcFszXSxcbiAgICAgICAgICAgIHRlbXBEID0gVmVjdG9yLl90ZW1wWzRdLFxuICAgICAgICAgICAgdGVtcEUgPSBWZWN0b3IuX3RlbXBbNV07XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhaXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2ldO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUgfHwgcGFpci5pc1NlbnNvcilcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uLFxuICAgICAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLnBhcmVudEEsXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24ucGFyZW50QixcbiAgICAgICAgICAgICAgICBub3JtYWwgPSBjb2xsaXNpb24ubm9ybWFsLFxuICAgICAgICAgICAgICAgIHRhbmdlbnQgPSBjb2xsaXNpb24udGFuZ2VudCxcbiAgICAgICAgICAgICAgICBjb250YWN0cyA9IHBhaXIuYWN0aXZlQ29udGFjdHMsXG4gICAgICAgICAgICAgICAgY29udGFjdFNoYXJlID0gMSAvIGNvbnRhY3RzLmxlbmd0aDtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGJvZHkgdmVsb2NpdGllc1xuICAgICAgICAgICAgYm9keUEudmVsb2NpdHkueCA9IGJvZHlBLnBvc2l0aW9uLnggLSBib2R5QS5wb3NpdGlvblByZXYueDtcbiAgICAgICAgICAgIGJvZHlBLnZlbG9jaXR5LnkgPSBib2R5QS5wb3NpdGlvbi55IC0gYm9keUEucG9zaXRpb25QcmV2Lnk7XG4gICAgICAgICAgICBib2R5Qi52ZWxvY2l0eS54ID0gYm9keUIucG9zaXRpb24ueCAtIGJvZHlCLnBvc2l0aW9uUHJldi54O1xuICAgICAgICAgICAgYm9keUIudmVsb2NpdHkueSA9IGJvZHlCLnBvc2l0aW9uLnkgLSBib2R5Qi5wb3NpdGlvblByZXYueTtcbiAgICAgICAgICAgIGJvZHlBLmFuZ3VsYXJWZWxvY2l0eSA9IGJvZHlBLmFuZ2xlIC0gYm9keUEuYW5nbGVQcmV2O1xuICAgICAgICAgICAgYm9keUIuYW5ndWxhclZlbG9jaXR5ID0gYm9keUIuYW5nbGUgLSBib2R5Qi5hbmdsZVByZXY7XG5cbiAgICAgICAgICAgIC8vIHJlc29sdmUgZWFjaCBjb250YWN0XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvbnRhY3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhY3QgPSBjb250YWN0c1tqXSxcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdFZlcnRleCA9IGNvbnRhY3QudmVydGV4LFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRBID0gVmVjdG9yLnN1Yihjb250YWN0VmVydGV4LCBib2R5QS5wb3NpdGlvbiwgdGVtcEEpLFxuICAgICAgICAgICAgICAgICAgICBvZmZzZXRCID0gVmVjdG9yLnN1Yihjb250YWN0VmVydGV4LCBib2R5Qi5wb3NpdGlvbiwgdGVtcEIpLFxuICAgICAgICAgICAgICAgICAgICB2ZWxvY2l0eVBvaW50QSA9IFZlY3Rvci5hZGQoYm9keUEudmVsb2NpdHksIFZlY3Rvci5tdWx0KFZlY3Rvci5wZXJwKG9mZnNldEEpLCBib2R5QS5hbmd1bGFyVmVsb2NpdHkpLCB0ZW1wQyksXG4gICAgICAgICAgICAgICAgICAgIHZlbG9jaXR5UG9pbnRCID0gVmVjdG9yLmFkZChib2R5Qi52ZWxvY2l0eSwgVmVjdG9yLm11bHQoVmVjdG9yLnBlcnAob2Zmc2V0QiksIGJvZHlCLmFuZ3VsYXJWZWxvY2l0eSksIHRlbXBEKSwgXG4gICAgICAgICAgICAgICAgICAgIHJlbGF0aXZlVmVsb2NpdHkgPSBWZWN0b3Iuc3ViKHZlbG9jaXR5UG9pbnRBLCB2ZWxvY2l0eVBvaW50QiwgdGVtcEUpLFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxWZWxvY2l0eSA9IFZlY3Rvci5kb3Qobm9ybWFsLCByZWxhdGl2ZVZlbG9jaXR5KTtcblxuICAgICAgICAgICAgICAgIHZhciB0YW5nZW50VmVsb2NpdHkgPSBWZWN0b3IuZG90KHRhbmdlbnQsIHJlbGF0aXZlVmVsb2NpdHkpLFxuICAgICAgICAgICAgICAgICAgICB0YW5nZW50U3BlZWQgPSBNYXRoLmFicyh0YW5nZW50VmVsb2NpdHkpLFxuICAgICAgICAgICAgICAgICAgICB0YW5nZW50VmVsb2NpdHlEaXJlY3Rpb24gPSBDb21tb24uc2lnbih0YW5nZW50VmVsb2NpdHkpO1xuXG4gICAgICAgICAgICAgICAgLy8gcmF3IGltcHVsc2VzXG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbEltcHVsc2UgPSAoMSArIHBhaXIucmVzdGl0dXRpb24pICogbm9ybWFsVmVsb2NpdHksXG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbEZvcmNlID0gQ29tbW9uLmNsYW1wKHBhaXIuc2VwYXJhdGlvbiArIG5vcm1hbFZlbG9jaXR5LCAwLCAxKSAqIFJlc29sdmVyLl9mcmljdGlvbk5vcm1hbE11bHRpcGxpZXI7XG5cbiAgICAgICAgICAgICAgICAvLyBjb3Vsb21iIGZyaWN0aW9uXG4gICAgICAgICAgICAgICAgdmFyIHRhbmdlbnRJbXB1bHNlID0gdGFuZ2VudFZlbG9jaXR5LFxuICAgICAgICAgICAgICAgICAgICBtYXhGcmljdGlvbiA9IEluZmluaXR5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRhbmdlbnRTcGVlZCA+IHBhaXIuZnJpY3Rpb24gKiBwYWlyLmZyaWN0aW9uU3RhdGljICogbm9ybWFsRm9yY2UgKiB0aW1lU2NhbGVTcXVhcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heEZyaWN0aW9uID0gdGFuZ2VudFNwZWVkO1xuICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IENvbW1vbi5jbGFtcChcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhaXIuZnJpY3Rpb24gKiB0YW5nZW50VmVsb2NpdHlEaXJlY3Rpb24gKiB0aW1lU2NhbGVTcXVhcmVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgLW1heEZyaWN0aW9uLCBtYXhGcmljdGlvblxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIG1vZGlmeSBpbXB1bHNlcyBhY2NvdW50aW5nIGZvciBtYXNzLCBpbmVydGlhIGFuZCBvZmZzZXRcbiAgICAgICAgICAgICAgICB2YXIgb0FjTiA9IFZlY3Rvci5jcm9zcyhvZmZzZXRBLCBub3JtYWwpLFxuICAgICAgICAgICAgICAgICAgICBvQmNOID0gVmVjdG9yLmNyb3NzKG9mZnNldEIsIG5vcm1hbCksXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlID0gY29udGFjdFNoYXJlIC8gKGJvZHlBLmludmVyc2VNYXNzICsgYm9keUIuaW52ZXJzZU1hc3MgKyBib2R5QS5pbnZlcnNlSW5lcnRpYSAqIG9BY04gKiBvQWNOICArIGJvZHlCLmludmVyc2VJbmVydGlhICogb0JjTiAqIG9CY04pO1xuXG4gICAgICAgICAgICAgICAgbm9ybWFsSW1wdWxzZSAqPSBzaGFyZTtcbiAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSAqPSBzaGFyZTtcblxuICAgICAgICAgICAgICAgIC8vIGhhbmRsZSBoaWdoIHZlbG9jaXR5IGFuZCByZXN0aW5nIGNvbGxpc2lvbnMgc2VwYXJhdGVseVxuICAgICAgICAgICAgICAgIGlmIChub3JtYWxWZWxvY2l0eSA8IDAgJiYgbm9ybWFsVmVsb2NpdHkgKiBub3JtYWxWZWxvY2l0eSA+IFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoICogdGltZVNjYWxlU3F1YXJlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBoaWdoIG5vcm1hbCB2ZWxvY2l0eSBzbyBjbGVhciBjYWNoZWQgY29udGFjdCBub3JtYWwgaW1wdWxzZVxuICAgICAgICAgICAgICAgICAgICBjb250YWN0Lm5vcm1hbEltcHVsc2UgPSAwO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNvbHZlIHJlc3RpbmcgY29sbGlzaW9uIGNvbnN0cmFpbnRzIHVzaW5nIEVyaW4gQ2F0dG8ncyBtZXRob2QgKEdEQzA4KVxuICAgICAgICAgICAgICAgICAgICAvLyBpbXB1bHNlIGNvbnN0cmFpbnQgdGVuZHMgdG8gMFxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdE5vcm1hbEltcHVsc2UgPSBjb250YWN0Lm5vcm1hbEltcHVsc2U7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhY3Qubm9ybWFsSW1wdWxzZSA9IE1hdGgubWluKGNvbnRhY3Qubm9ybWFsSW1wdWxzZSArIG5vcm1hbEltcHVsc2UsIDApO1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxJbXB1bHNlID0gY29udGFjdC5ub3JtYWxJbXB1bHNlIC0gY29udGFjdE5vcm1hbEltcHVsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaGFuZGxlIGhpZ2ggdmVsb2NpdHkgYW5kIHJlc3RpbmcgY29sbGlzaW9ucyBzZXBhcmF0ZWx5XG4gICAgICAgICAgICAgICAgaWYgKHRhbmdlbnRWZWxvY2l0eSAqIHRhbmdlbnRWZWxvY2l0eSA+IFJlc29sdmVyLl9yZXN0aW5nVGhyZXNoVGFuZ2VudCAqIHRpbWVTY2FsZVNxdWFyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaGlnaCB0YW5nZW50IHZlbG9jaXR5IHNvIGNsZWFyIGNhY2hlZCBjb250YWN0IHRhbmdlbnQgaW1wdWxzZVxuICAgICAgICAgICAgICAgICAgICBjb250YWN0LnRhbmdlbnRJbXB1bHNlID0gMDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBzb2x2ZSByZXN0aW5nIGNvbGxpc2lvbiBjb25zdHJhaW50cyB1c2luZyBFcmluIENhdHRvJ3MgbWV0aG9kIChHREMwOClcbiAgICAgICAgICAgICAgICAgICAgLy8gdGFuZ2VudCBpbXB1bHNlIHRlbmRzIHRvIC10YW5nZW50U3BlZWQgb3IgK3RhbmdlbnRTcGVlZFxuICAgICAgICAgICAgICAgICAgICB2YXIgY29udGFjdFRhbmdlbnRJbXB1bHNlID0gY29udGFjdC50YW5nZW50SW1wdWxzZTtcbiAgICAgICAgICAgICAgICAgICAgY29udGFjdC50YW5nZW50SW1wdWxzZSA9IENvbW1vbi5jbGFtcChjb250YWN0LnRhbmdlbnRJbXB1bHNlICsgdGFuZ2VudEltcHVsc2UsIC1tYXhGcmljdGlvbiwgbWF4RnJpY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICB0YW5nZW50SW1wdWxzZSA9IGNvbnRhY3QudGFuZ2VudEltcHVsc2UgLSBjb250YWN0VGFuZ2VudEltcHVsc2U7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gdG90YWwgaW1wdWxzZSBmcm9tIGNvbnRhY3RcbiAgICAgICAgICAgICAgICBpbXB1bHNlLnggPSAobm9ybWFsLnggKiBub3JtYWxJbXB1bHNlKSArICh0YW5nZW50LnggKiB0YW5nZW50SW1wdWxzZSk7XG4gICAgICAgICAgICAgICAgaW1wdWxzZS55ID0gKG5vcm1hbC55ICogbm9ybWFsSW1wdWxzZSkgKyAodGFuZ2VudC55ICogdGFuZ2VudEltcHVsc2UpO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIGFwcGx5IGltcHVsc2UgZnJvbSBjb250YWN0XG4gICAgICAgICAgICAgICAgaWYgKCEoYm9keUEuaXNTdGF0aWMgfHwgYm9keUEuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keUEucG9zaXRpb25QcmV2LnggKz0gaW1wdWxzZS54ICogYm9keUEuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi55ICs9IGltcHVsc2UueSAqIGJvZHlBLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICBib2R5QS5hbmdsZVByZXYgKz0gVmVjdG9yLmNyb3NzKG9mZnNldEEsIGltcHVsc2UpICogYm9keUEuaW52ZXJzZUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCEoYm9keUIuaXNTdGF0aWMgfHwgYm9keUIuaXNTbGVlcGluZykpIHtcbiAgICAgICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnggLT0gaW1wdWxzZS54ICogYm9keUIuaW52ZXJzZU1hc3M7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uUHJldi55IC09IGltcHVsc2UueSAqIGJvZHlCLmludmVyc2VNYXNzO1xuICAgICAgICAgICAgICAgICAgICBib2R5Qi5hbmdsZVByZXYgLT0gVmVjdG9yLmNyb3NzKG9mZnNldEIsIGltcHVsc2UpICogYm9keUIuaW52ZXJzZUluZXJ0aWE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxufSx7XCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi4vZ2VvbWV0cnkvQm91bmRzXCI6MjYsXCIuLi9nZW9tZXRyeS9WZWN0b3JcIjoyOCxcIi4uL2dlb21ldHJ5L1ZlcnRpY2VzXCI6Mjl9XSwxMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuU0FUYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIGNvbGxpc2lvbnMgdXNpbmcgdGhlIFNlcGFyYXRpbmcgQXhpcyBUaGVvcmVtLlxuKlxuKiBAY2xhc3MgU0FUXG4qL1xuXG4vLyBUT0RPOiB0cnVlIGNpcmNsZXMgYW5kIGN1cnZlc1xuXG52YXIgU0FUID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gU0FUO1xuXG52YXIgVmVydGljZXMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZXJ0aWNlcycpO1xudmFyIFZlY3RvciA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlY3RvcicpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBEZXRlY3QgY29sbGlzaW9uIGJldHdlZW4gdHdvIGJvZGllcyB1c2luZyB0aGUgU2VwYXJhdGluZyBBeGlzIFRoZW9yZW0uXG4gICAgICogQG1ldGhvZCBjb2xsaWRlc1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keUFcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlCXG4gICAgICogQHBhcmFtIHtjb2xsaXNpb259IHByZXZpb3VzQ29sbGlzaW9uXG4gICAgICogQHJldHVybiB7Y29sbGlzaW9ufSBjb2xsaXNpb25cbiAgICAgKi9cbiAgICBTQVQuY29sbGlkZXMgPSBmdW5jdGlvbihib2R5QSwgYm9keUIsIHByZXZpb3VzQ29sbGlzaW9uKSB7XG4gICAgICAgIHZhciBvdmVybGFwQUIsXG4gICAgICAgICAgICBvdmVybGFwQkEsIFxuICAgICAgICAgICAgbWluT3ZlcmxhcCxcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGNhblJldXNlUHJldkNvbCA9IGZhbHNlO1xuXG4gICAgICAgIGlmIChwcmV2aW91c0NvbGxpc2lvbikge1xuICAgICAgICAgICAgLy8gZXN0aW1hdGUgdG90YWwgbW90aW9uXG4gICAgICAgICAgICB2YXIgcGFyZW50QSA9IGJvZHlBLnBhcmVudCxcbiAgICAgICAgICAgICAgICBwYXJlbnRCID0gYm9keUIucGFyZW50LFxuICAgICAgICAgICAgICAgIG1vdGlvbiA9IHBhcmVudEEuc3BlZWQgKiBwYXJlbnRBLnNwZWVkICsgcGFyZW50QS5hbmd1bGFyU3BlZWQgKiBwYXJlbnRBLmFuZ3VsYXJTcGVlZFxuICAgICAgICAgICAgICAgICAgICAgICArIHBhcmVudEIuc3BlZWQgKiBwYXJlbnRCLnNwZWVkICsgcGFyZW50Qi5hbmd1bGFyU3BlZWQgKiBwYXJlbnRCLmFuZ3VsYXJTcGVlZDtcblxuICAgICAgICAgICAgLy8gd2UgbWF5IGJlIGFibGUgdG8gKHBhcnRpYWxseSkgcmV1c2UgY29sbGlzaW9uIHJlc3VsdCBcbiAgICAgICAgICAgIC8vIGJ1dCBvbmx5IHNhZmUgaWYgY29sbGlzaW9uIHdhcyByZXN0aW5nXG4gICAgICAgICAgICBjYW5SZXVzZVByZXZDb2wgPSBwcmV2aW91c0NvbGxpc2lvbiAmJiBwcmV2aW91c0NvbGxpc2lvbi5jb2xsaWRlZCAmJiBtb3Rpb24gPCAwLjI7XG5cbiAgICAgICAgICAgIC8vIHJldXNlIGNvbGxpc2lvbiBvYmplY3RcbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHByZXZpb3VzQ29sbGlzaW9uO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29sbGlzaW9uID0geyBjb2xsaWRlZDogZmFsc2UsIGJvZHlBOiBib2R5QSwgYm9keUI6IGJvZHlCIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocHJldmlvdXNDb2xsaXNpb24gJiYgY2FuUmV1c2VQcmV2Q29sKSB7XG4gICAgICAgICAgICAvLyBpZiB3ZSBjYW4gcmV1c2UgdGhlIGNvbGxpc2lvbiByZXN1bHRcbiAgICAgICAgICAgIC8vIHdlIG9ubHkgbmVlZCB0byB0ZXN0IHRoZSBwcmV2aW91c2x5IGZvdW5kIGF4aXNcbiAgICAgICAgICAgIHZhciBheGlzQm9keUEgPSBjb2xsaXNpb24uYXhpc0JvZHksXG4gICAgICAgICAgICAgICAgYXhpc0JvZHlCID0gYXhpc0JvZHlBID09PSBib2R5QSA/IGJvZHlCIDogYm9keUEsXG4gICAgICAgICAgICAgICAgYXhlcyA9IFtheGlzQm9keUEuYXhlc1twcmV2aW91c0NvbGxpc2lvbi5heGlzTnVtYmVyXV07XG5cbiAgICAgICAgICAgIG1pbk92ZXJsYXAgPSBTQVQuX292ZXJsYXBBeGVzKGF4aXNCb2R5QS52ZXJ0aWNlcywgYXhpc0JvZHlCLnZlcnRpY2VzLCBheGVzKTtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5yZXVzZWQgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAobWluT3ZlcmxhcC5vdmVybGFwIDw9IDApIHtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb24uY29sbGlkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGlzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgd2UgY2FuJ3QgcmV1c2UgYSByZXN1bHQsIHBlcmZvcm0gYSBmdWxsIFNBVCB0ZXN0XG5cbiAgICAgICAgICAgIG92ZXJsYXBBQiA9IFNBVC5fb3ZlcmxhcEF4ZXMoYm9keUEudmVydGljZXMsIGJvZHlCLnZlcnRpY2VzLCBib2R5QS5heGVzKTtcblxuICAgICAgICAgICAgaWYgKG92ZXJsYXBBQi5vdmVybGFwIDw9IDApIHtcbiAgICAgICAgICAgICAgICBjb2xsaXNpb24uY29sbGlkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sbGlzaW9uO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvdmVybGFwQkEgPSBTQVQuX292ZXJsYXBBeGVzKGJvZHlCLnZlcnRpY2VzLCBib2R5QS52ZXJ0aWNlcywgYm9keUIuYXhlcyk7XG5cbiAgICAgICAgICAgIGlmIChvdmVybGFwQkEub3ZlcmxhcCA8PSAwKSB7XG4gICAgICAgICAgICAgICAgY29sbGlzaW9uLmNvbGxpZGVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGNvbGxpc2lvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG92ZXJsYXBBQi5vdmVybGFwIDwgb3ZlcmxhcEJBLm92ZXJsYXApIHtcbiAgICAgICAgICAgICAgICBtaW5PdmVybGFwID0gb3ZlcmxhcEFCO1xuICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5heGlzQm9keSA9IGJvZHlBO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtaW5PdmVybGFwID0gb3ZlcmxhcEJBO1xuICAgICAgICAgICAgICAgIGNvbGxpc2lvbi5heGlzQm9keSA9IGJvZHlCO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbXBvcnRhbnQgZm9yIHJldXNlIGxhdGVyXG4gICAgICAgICAgICBjb2xsaXNpb24uYXhpc051bWJlciA9IG1pbk92ZXJsYXAuYXhpc051bWJlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxpc2lvbi5ib2R5QSA9IGJvZHlBLmlkIDwgYm9keUIuaWQgPyBib2R5QSA6IGJvZHlCO1xuICAgICAgICBjb2xsaXNpb24uYm9keUIgPSBib2R5QS5pZCA8IGJvZHlCLmlkID8gYm9keUIgOiBib2R5QTtcbiAgICAgICAgY29sbGlzaW9uLmNvbGxpZGVkID0gdHJ1ZTtcbiAgICAgICAgY29sbGlzaW9uLmRlcHRoID0gbWluT3ZlcmxhcC5vdmVybGFwO1xuICAgICAgICBjb2xsaXNpb24ucGFyZW50QSA9IGNvbGxpc2lvbi5ib2R5QS5wYXJlbnQ7XG4gICAgICAgIGNvbGxpc2lvbi5wYXJlbnRCID0gY29sbGlzaW9uLmJvZHlCLnBhcmVudDtcbiAgICAgICAgXG4gICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBO1xuICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5ib2R5QjtcblxuICAgICAgICAvLyBlbnN1cmUgbm9ybWFsIGlzIGZhY2luZyBhd2F5IGZyb20gYm9keUFcbiAgICAgICAgaWYgKFZlY3Rvci5kb3QobWluT3ZlcmxhcC5heGlzLCBWZWN0b3Iuc3ViKGJvZHlCLnBvc2l0aW9uLCBib2R5QS5wb3NpdGlvbikpIDwgMCkge1xuICAgICAgICAgICAgY29sbGlzaW9uLm5vcm1hbCA9IHtcbiAgICAgICAgICAgICAgICB4OiBtaW5PdmVybGFwLmF4aXMueCxcbiAgICAgICAgICAgICAgICB5OiBtaW5PdmVybGFwLmF4aXMueVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbGxpc2lvbi5ub3JtYWwgPSB7XG4gICAgICAgICAgICAgICAgeDogLW1pbk92ZXJsYXAuYXhpcy54LFxuICAgICAgICAgICAgICAgIHk6IC1taW5PdmVybGFwLmF4aXMueVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbGxpc2lvbi50YW5nZW50ID0gVmVjdG9yLnBlcnAoY29sbGlzaW9uLm5vcm1hbCk7XG5cbiAgICAgICAgY29sbGlzaW9uLnBlbmV0cmF0aW9uID0gY29sbGlzaW9uLnBlbmV0cmF0aW9uIHx8IHt9O1xuICAgICAgICBjb2xsaXNpb24ucGVuZXRyYXRpb24ueCA9IGNvbGxpc2lvbi5ub3JtYWwueCAqIGNvbGxpc2lvbi5kZXB0aDtcbiAgICAgICAgY29sbGlzaW9uLnBlbmV0cmF0aW9uLnkgPSBjb2xsaXNpb24ubm9ybWFsLnkgKiBjb2xsaXNpb24uZGVwdGg7IFxuXG4gICAgICAgIC8vIGZpbmQgc3VwcG9ydCBwb2ludHMsIHRoZXJlIGlzIGFsd2F5cyBlaXRoZXIgZXhhY3RseSBvbmUgb3IgdHdvXG4gICAgICAgIHZhciB2ZXJ0aWNlc0IgPSBTQVQuX2ZpbmRTdXBwb3J0cyhib2R5QSwgYm9keUIsIGNvbGxpc2lvbi5ub3JtYWwpLFxuICAgICAgICAgICAgc3VwcG9ydHMgPSBbXTtcblxuICAgICAgICAvLyBmaW5kIHRoZSBzdXBwb3J0cyBmcm9tIGJvZHlCIHRoYXQgYXJlIGluc2lkZSBib2R5QVxuICAgICAgICBpZiAoVmVydGljZXMuY29udGFpbnMoYm9keUEudmVydGljZXMsIHZlcnRpY2VzQlswXSkpXG4gICAgICAgICAgICBzdXBwb3J0cy5wdXNoKHZlcnRpY2VzQlswXSk7XG5cbiAgICAgICAgaWYgKFZlcnRpY2VzLmNvbnRhaW5zKGJvZHlBLnZlcnRpY2VzLCB2ZXJ0aWNlc0JbMV0pKVxuICAgICAgICAgICAgc3VwcG9ydHMucHVzaCh2ZXJ0aWNlc0JbMV0pO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHN1cHBvcnRzIGZyb20gYm9keUEgdGhhdCBhcmUgaW5zaWRlIGJvZHlCXG4gICAgICAgIGlmIChzdXBwb3J0cy5sZW5ndGggPCAyKSB7XG4gICAgICAgICAgICB2YXIgdmVydGljZXNBID0gU0FULl9maW5kU3VwcG9ydHMoYm9keUIsIGJvZHlBLCBWZWN0b3IubmVnKGNvbGxpc2lvbi5ub3JtYWwpKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChWZXJ0aWNlcy5jb250YWlucyhib2R5Qi52ZXJ0aWNlcywgdmVydGljZXNBWzBdKSlcbiAgICAgICAgICAgICAgICBzdXBwb3J0cy5wdXNoKHZlcnRpY2VzQVswXSk7XG5cbiAgICAgICAgICAgIGlmIChzdXBwb3J0cy5sZW5ndGggPCAyICYmIFZlcnRpY2VzLmNvbnRhaW5zKGJvZHlCLnZlcnRpY2VzLCB2ZXJ0aWNlc0FbMV0pKVxuICAgICAgICAgICAgICAgIHN1cHBvcnRzLnB1c2godmVydGljZXNBWzFdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFjY291bnQgZm9yIHRoZSBlZGdlIGNhc2Ugb2Ygb3ZlcmxhcHBpbmcgYnV0IG5vIHZlcnRleCBjb250YWlubWVudFxuICAgICAgICBpZiAoc3VwcG9ydHMubGVuZ3RoIDwgMSlcbiAgICAgICAgICAgIHN1cHBvcnRzID0gW3ZlcnRpY2VzQlswXV07XG4gICAgICAgIFxuICAgICAgICBjb2xsaXNpb24uc3VwcG9ydHMgPSBzdXBwb3J0cztcblxuICAgICAgICByZXR1cm4gY29sbGlzaW9uO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBvdmVybGFwIGJldHdlZW4gdHdvIHNldHMgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBfb3ZlcmxhcEF4ZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSB2ZXJ0aWNlc0FcbiAgICAgKiBAcGFyYW0ge30gdmVydGljZXNCXG4gICAgICogQHBhcmFtIHt9IGF4ZXNcbiAgICAgKiBAcmV0dXJuIHJlc3VsdFxuICAgICAqL1xuICAgIFNBVC5fb3ZlcmxhcEF4ZXMgPSBmdW5jdGlvbih2ZXJ0aWNlc0EsIHZlcnRpY2VzQiwgYXhlcykge1xuICAgICAgICB2YXIgcHJvamVjdGlvbkEgPSBWZWN0b3IuX3RlbXBbMF0sIFxuICAgICAgICAgICAgcHJvamVjdGlvbkIgPSBWZWN0b3IuX3RlbXBbMV0sXG4gICAgICAgICAgICByZXN1bHQgPSB7IG92ZXJsYXA6IE51bWJlci5NQVhfVkFMVUUgfSxcbiAgICAgICAgICAgIG92ZXJsYXAsXG4gICAgICAgICAgICBheGlzO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXhlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXhpcyA9IGF4ZXNbaV07XG5cbiAgICAgICAgICAgIFNBVC5fcHJvamVjdFRvQXhpcyhwcm9qZWN0aW9uQSwgdmVydGljZXNBLCBheGlzKTtcbiAgICAgICAgICAgIFNBVC5fcHJvamVjdFRvQXhpcyhwcm9qZWN0aW9uQiwgdmVydGljZXNCLCBheGlzKTtcblxuICAgICAgICAgICAgb3ZlcmxhcCA9IE1hdGgubWluKHByb2plY3Rpb25BLm1heCAtIHByb2plY3Rpb25CLm1pbiwgcHJvamVjdGlvbkIubWF4IC0gcHJvamVjdGlvbkEubWluKTtcblxuICAgICAgICAgICAgaWYgKG92ZXJsYXAgPD0gMCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5vdmVybGFwID0gb3ZlcmxhcDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAob3ZlcmxhcCA8IHJlc3VsdC5vdmVybGFwKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0Lm92ZXJsYXAgPSBvdmVybGFwO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5heGlzID0gYXhpcztcbiAgICAgICAgICAgICAgICByZXN1bHQuYXhpc051bWJlciA9IGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcm9qZWN0cyB2ZXJ0aWNlcyBvbiBhbiBheGlzIGFuZCByZXR1cm5zIGFuIGludGVydmFsLlxuICAgICAqIEBtZXRob2QgX3Byb2plY3RUb0F4aXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSBwcm9qZWN0aW9uXG4gICAgICogQHBhcmFtIHt9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHt9IGF4aXNcbiAgICAgKi9cbiAgICBTQVQuX3Byb2plY3RUb0F4aXMgPSBmdW5jdGlvbihwcm9qZWN0aW9uLCB2ZXJ0aWNlcywgYXhpcykge1xuICAgICAgICB2YXIgbWluID0gVmVjdG9yLmRvdCh2ZXJ0aWNlc1swXSwgYXhpcyksXG4gICAgICAgICAgICBtYXggPSBtaW47XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGRvdCA9IFZlY3Rvci5kb3QodmVydGljZXNbaV0sIGF4aXMpO1xuXG4gICAgICAgICAgICBpZiAoZG90ID4gbWF4KSB7IFxuICAgICAgICAgICAgICAgIG1heCA9IGRvdDsgXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRvdCA8IG1pbikgeyBcbiAgICAgICAgICAgICAgICBtaW4gPSBkb3Q7IFxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcHJvamVjdGlvbi5taW4gPSBtaW47XG4gICAgICAgIHByb2plY3Rpb24ubWF4ID0gbWF4O1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogRmluZHMgc3VwcG9ydGluZyB2ZXJ0aWNlcyBnaXZlbiB0d28gYm9kaWVzIGFsb25nIGEgZ2l2ZW4gZGlyZWN0aW9uIHVzaW5nIGhpbGwtY2xpbWJpbmcuXG4gICAgICogQG1ldGhvZCBfZmluZFN1cHBvcnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gYm9keUFcbiAgICAgKiBAcGFyYW0ge30gYm9keUJcbiAgICAgKiBAcGFyYW0ge30gbm9ybWFsXG4gICAgICogQHJldHVybiBbdmVjdG9yXVxuICAgICAqL1xuICAgIFNBVC5fZmluZFN1cHBvcnRzID0gZnVuY3Rpb24oYm9keUEsIGJvZHlCLCBub3JtYWwpIHtcbiAgICAgICAgdmFyIG5lYXJlc3REaXN0YW5jZSA9IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgICAgICB2ZXJ0ZXhUb0JvZHkgPSBWZWN0b3IuX3RlbXBbMF0sXG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IGJvZHlCLnZlcnRpY2VzLFxuICAgICAgICAgICAgYm9keUFQb3NpdGlvbiA9IGJvZHlBLnBvc2l0aW9uLFxuICAgICAgICAgICAgZGlzdGFuY2UsXG4gICAgICAgICAgICB2ZXJ0ZXgsXG4gICAgICAgICAgICB2ZXJ0ZXhBLFxuICAgICAgICAgICAgdmVydGV4QjtcblxuICAgICAgICAvLyBmaW5kIGNsb3Nlc3QgdmVydGV4IG9uIGJvZHlCXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgdmVydGV4VG9Cb2R5LnggPSB2ZXJ0ZXgueCAtIGJvZHlBUG9zaXRpb24ueDtcbiAgICAgICAgICAgIHZlcnRleFRvQm9keS55ID0gdmVydGV4LnkgLSBib2R5QVBvc2l0aW9uLnk7XG4gICAgICAgICAgICBkaXN0YW5jZSA9IC1WZWN0b3IuZG90KG5vcm1hbCwgdmVydGV4VG9Cb2R5KTtcblxuICAgICAgICAgICAgaWYgKGRpc3RhbmNlIDwgbmVhcmVzdERpc3RhbmNlKSB7XG4gICAgICAgICAgICAgICAgbmVhcmVzdERpc3RhbmNlID0gZGlzdGFuY2U7XG4gICAgICAgICAgICAgICAgdmVydGV4QSA9IHZlcnRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZpbmQgbmV4dCBjbG9zZXN0IHZlcnRleCB1c2luZyB0aGUgdHdvIGNvbm5lY3RlZCB0byBpdFxuICAgICAgICB2YXIgcHJldkluZGV4ID0gdmVydGV4QS5pbmRleCAtIDEgPj0gMCA/IHZlcnRleEEuaW5kZXggLSAxIDogdmVydGljZXMubGVuZ3RoIC0gMTtcbiAgICAgICAgdmVydGV4ID0gdmVydGljZXNbcHJldkluZGV4XTtcbiAgICAgICAgdmVydGV4VG9Cb2R5LnggPSB2ZXJ0ZXgueCAtIGJvZHlBUG9zaXRpb24ueDtcbiAgICAgICAgdmVydGV4VG9Cb2R5LnkgPSB2ZXJ0ZXgueSAtIGJvZHlBUG9zaXRpb24ueTtcbiAgICAgICAgbmVhcmVzdERpc3RhbmNlID0gLVZlY3Rvci5kb3Qobm9ybWFsLCB2ZXJ0ZXhUb0JvZHkpO1xuICAgICAgICB2ZXJ0ZXhCID0gdmVydGV4O1xuXG4gICAgICAgIHZhciBuZXh0SW5kZXggPSAodmVydGV4QS5pbmRleCArIDEpICUgdmVydGljZXMubGVuZ3RoO1xuICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tuZXh0SW5kZXhdO1xuICAgICAgICB2ZXJ0ZXhUb0JvZHkueCA9IHZlcnRleC54IC0gYm9keUFQb3NpdGlvbi54O1xuICAgICAgICB2ZXJ0ZXhUb0JvZHkueSA9IHZlcnRleC55IC0gYm9keUFQb3NpdGlvbi55O1xuICAgICAgICBkaXN0YW5jZSA9IC1WZWN0b3IuZG90KG5vcm1hbCwgdmVydGV4VG9Cb2R5KTtcbiAgICAgICAgaWYgKGRpc3RhbmNlIDwgbmVhcmVzdERpc3RhbmNlKSB7XG4gICAgICAgICAgICB2ZXJ0ZXhCID0gdmVydGV4O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFt2ZXJ0ZXhBLCB2ZXJ0ZXhCXTtcbiAgICB9O1xuXG59KSgpO1xuXG59LHtcIi4uL2dlb21ldHJ5L1ZlY3RvclwiOjI4LFwiLi4vZ2VvbWV0cnkvVmVydGljZXNcIjoyOX1dLDEyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5Db25zdHJhaW50YCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBjb25zdHJhaW50cy5cbiogQ29uc3RyYWludHMgYXJlIHVzZWQgZm9yIHNwZWNpZnlpbmcgdGhhdCBhIGZpeGVkIGRpc3RhbmNlIG11c3QgYmUgbWFpbnRhaW5lZCBiZXR3ZWVuIHR3byBib2RpZXMgKG9yIGEgYm9keSBhbmQgYSBmaXhlZCB3b3JsZC1zcGFjZSBwb3NpdGlvbikuXG4qIFRoZSBzdGlmZm5lc3Mgb2YgY29uc3RyYWludHMgY2FuIGJlIG1vZGlmaWVkIHRvIGNyZWF0ZSBzcHJpbmdzIG9yIGVsYXN0aWMuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBDb25zdHJhaW50XG4qL1xuXG52YXIgQ29uc3RyYWludCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IENvbnN0cmFpbnQ7XG5cbnZhciBWZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7XG52YXIgVmVjdG9yID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVjdG9yJyk7XG52YXIgU2xlZXBpbmcgPSBfZGVyZXFfKCcuLi9jb3JlL1NsZWVwaW5nJyk7XG52YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7XG52YXIgQXhlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0F4ZXMnKTtcbnZhciBDb21tb24gPSBfZGVyZXFfKCcuLi9jb3JlL0NvbW1vbicpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBDb25zdHJhaW50Ll93YXJtaW5nID0gMC40O1xuICAgIENvbnN0cmFpbnQuX3RvcnF1ZURhbXBlbiA9IDE7XG4gICAgQ29uc3RyYWludC5fbWluTGVuZ3RoID0gMC4wMDAwMDE7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNvbnN0cmFpbnQuXG4gICAgICogQWxsIHByb3BlcnRpZXMgaGF2ZSBkZWZhdWx0IHZhbHVlcywgYW5kIG1hbnkgYXJlIHByZS1jYWxjdWxhdGVkIGF1dG9tYXRpY2FsbHkgYmFzZWQgb24gb3RoZXIgcHJvcGVydGllcy5cbiAgICAgKiBUbyBzaW11bGF0ZSBhIHJldm9sdXRlIGNvbnN0cmFpbnQgKG9yIHBpbiBqb2ludCkgc2V0IGBsZW5ndGg6IDBgIGFuZCBhIGhpZ2ggYHN0aWZmbmVzc2AgdmFsdWUgKGUuZy4gYDAuN2Agb3IgYWJvdmUpLlxuICAgICAqIElmIHRoZSBjb25zdHJhaW50IGlzIHVuc3RhYmxlLCB0cnkgbG93ZXJpbmcgdGhlIGBzdGlmZm5lc3NgIHZhbHVlIGFuZCAvIG9yIGluY3JlYXNpbmcgYGVuZ2luZS5jb25zdHJhaW50SXRlcmF0aW9uc2AuXG4gICAgICogRm9yIGNvbXBvdW5kIGJvZGllcywgY29uc3RyYWludHMgbXVzdCBiZSBhcHBsaWVkIHRvIHRoZSBwYXJlbnQgYm9keSAobm90IG9uZSBvZiBpdHMgcGFydHMpLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2NvbnN0cmFpbnR9IGNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LmNyZWF0ZSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBvcHRpb25zO1xuXG4gICAgICAgIC8vIGlmIGJvZGllcyBkZWZpbmVkIGJ1dCBubyBwb2ludHMsIHVzZSBib2R5IGNlbnRyZVxuICAgICAgICBpZiAoY29uc3RyYWludC5ib2R5QSAmJiAhY29uc3RyYWludC5wb2ludEEpXG4gICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QSA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBpZiAoY29uc3RyYWludC5ib2R5QiAmJiAhY29uc3RyYWludC5wb2ludEIpXG4gICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QiA9IHsgeDogMCwgeTogMCB9O1xuXG4gICAgICAgIC8vIGNhbGN1bGF0ZSBzdGF0aWMgbGVuZ3RoIHVzaW5nIGluaXRpYWwgd29ybGQgc3BhY2UgcG9pbnRzXG4gICAgICAgIHZhciBpbml0aWFsUG9pbnRBID0gY29uc3RyYWludC5ib2R5QSA/IFZlY3Rvci5hZGQoY29uc3RyYWludC5ib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpIDogY29uc3RyYWludC5wb2ludEEsXG4gICAgICAgICAgICBpbml0aWFsUG9pbnRCID0gY29uc3RyYWludC5ib2R5QiA/IFZlY3Rvci5hZGQoY29uc3RyYWludC5ib2R5Qi5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEIpIDogY29uc3RyYWludC5wb2ludEIsXG4gICAgICAgICAgICBsZW5ndGggPSBWZWN0b3IubWFnbml0dWRlKFZlY3Rvci5zdWIoaW5pdGlhbFBvaW50QSwgaW5pdGlhbFBvaW50QikpO1xuICAgIFxuICAgICAgICBjb25zdHJhaW50Lmxlbmd0aCA9IHR5cGVvZiBjb25zdHJhaW50Lmxlbmd0aCAhPT0gJ3VuZGVmaW5lZCcgPyBjb25zdHJhaW50Lmxlbmd0aCA6IGxlbmd0aDtcblxuICAgICAgICAvLyBvcHRpb24gZGVmYXVsdHNcbiAgICAgICAgY29uc3RyYWludC5pZCA9IGNvbnN0cmFpbnQuaWQgfHwgQ29tbW9uLm5leHRJZCgpO1xuICAgICAgICBjb25zdHJhaW50LmxhYmVsID0gY29uc3RyYWludC5sYWJlbCB8fCAnQ29uc3RyYWludCc7XG4gICAgICAgIGNvbnN0cmFpbnQudHlwZSA9ICdjb25zdHJhaW50JztcbiAgICAgICAgY29uc3RyYWludC5zdGlmZm5lc3MgPSBjb25zdHJhaW50LnN0aWZmbmVzcyB8fCAoY29uc3RyYWludC5sZW5ndGggPiAwID8gMSA6IDAuNyk7XG4gICAgICAgIGNvbnN0cmFpbnQuZGFtcGluZyA9IGNvbnN0cmFpbnQuZGFtcGluZyB8fCAwO1xuICAgICAgICBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MgPSBjb25zdHJhaW50LmFuZ3VsYXJTdGlmZm5lc3MgfHwgMDtcbiAgICAgICAgY29uc3RyYWludC5hbmdsZUEgPSBjb25zdHJhaW50LmJvZHlBID8gY29uc3RyYWludC5ib2R5QS5hbmdsZSA6IGNvbnN0cmFpbnQuYW5nbGVBO1xuICAgICAgICBjb25zdHJhaW50LmFuZ2xlQiA9IGNvbnN0cmFpbnQuYm9keUIgPyBjb25zdHJhaW50LmJvZHlCLmFuZ2xlIDogY29uc3RyYWludC5hbmdsZUI7XG4gICAgICAgIGNvbnN0cmFpbnQucGx1Z2luID0ge307XG5cbiAgICAgICAgLy8gcmVuZGVyXG4gICAgICAgIHZhciByZW5kZXIgPSB7XG4gICAgICAgICAgICB2aXNpYmxlOiB0cnVlLFxuICAgICAgICAgICAgbGluZVdpZHRoOiAyLFxuICAgICAgICAgICAgc3Ryb2tlU3R5bGU6ICcjZmZmZmZmJyxcbiAgICAgICAgICAgIHR5cGU6ICdsaW5lJyxcbiAgICAgICAgICAgIGFuY2hvcnM6IHRydWVcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoY29uc3RyYWludC5sZW5ndGggPT09IDAgJiYgY29uc3RyYWludC5zdGlmZm5lc3MgPiAwLjEpIHtcbiAgICAgICAgICAgIHJlbmRlci50eXBlID0gJ3Bpbic7XG4gICAgICAgICAgICByZW5kZXIuYW5jaG9ycyA9IGZhbHNlO1xuICAgICAgICB9IGVsc2UgaWYgKGNvbnN0cmFpbnQuc3RpZmZuZXNzIDwgMC45KSB7XG4gICAgICAgICAgICByZW5kZXIudHlwZSA9ICdzcHJpbmcnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3RyYWludC5yZW5kZXIgPSBDb21tb24uZXh0ZW5kKHJlbmRlciwgY29uc3RyYWludC5yZW5kZXIpO1xuXG4gICAgICAgIHJldHVybiBjb25zdHJhaW50O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQcmVwYXJlcyBmb3Igc29sdmluZyBieSBjb25zdHJhaW50IHdhcm1pbmcuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHByZVNvbHZlQWxsXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIENvbnN0cmFpbnQucHJlU29sdmVBbGwgPSBmdW5jdGlvbihib2RpZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIGltcHVsc2UgPSBib2R5LmNvbnN0cmFpbnRJbXB1bHNlO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1N0YXRpYyB8fCAoaW1wdWxzZS54ID09PSAwICYmIGltcHVsc2UueSA9PT0gMCAmJiBpbXB1bHNlLmFuZ2xlID09PSAwKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uLnggKz0gaW1wdWxzZS54O1xuICAgICAgICAgICAgYm9keS5wb3NpdGlvbi55ICs9IGltcHVsc2UueTtcbiAgICAgICAgICAgIGJvZHkuYW5nbGUgKz0gaW1wdWxzZS5hbmdsZTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTb2x2ZXMgYWxsIGNvbnN0cmFpbnRzIGluIGEgbGlzdCBvZiBjb2xsaXNpb25zLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBzb2x2ZUFsbFxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludFtdfSBjb25zdHJhaW50c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGVcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnNvbHZlQWxsID0gZnVuY3Rpb24oY29uc3RyYWludHMsIHRpbWVTY2FsZSkge1xuICAgICAgICAvLyBTb2x2ZSBmaXhlZCBjb25zdHJhaW50cyBmaXJzdC5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBjb25zdHJhaW50cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1tpXSxcbiAgICAgICAgICAgICAgICBmaXhlZEEgPSAhY29uc3RyYWludC5ib2R5QSB8fCAoY29uc3RyYWludC5ib2R5QSAmJiBjb25zdHJhaW50LmJvZHlBLmlzU3RhdGljKSxcbiAgICAgICAgICAgICAgICBmaXhlZEIgPSAhY29uc3RyYWludC5ib2R5QiB8fCAoY29uc3RyYWludC5ib2R5QiAmJiBjb25zdHJhaW50LmJvZHlCLmlzU3RhdGljKTtcblxuICAgICAgICAgICAgaWYgKGZpeGVkQSB8fCBmaXhlZEIpIHtcbiAgICAgICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlKGNvbnN0cmFpbnRzW2ldLCB0aW1lU2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gU29sdmUgZnJlZSBjb25zdHJhaW50cyBsYXN0LlxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQgPSBjb25zdHJhaW50c1tpXTtcbiAgICAgICAgICAgIGZpeGVkQSA9ICFjb25zdHJhaW50LmJvZHlBIHx8IChjb25zdHJhaW50LmJvZHlBICYmIGNvbnN0cmFpbnQuYm9keUEuaXNTdGF0aWMpO1xuICAgICAgICAgICAgZml4ZWRCID0gIWNvbnN0cmFpbnQuYm9keUIgfHwgKGNvbnN0cmFpbnQuYm9keUIgJiYgY29uc3RyYWludC5ib2R5Qi5pc1N0YXRpYyk7XG5cbiAgICAgICAgICAgIGlmICghZml4ZWRBICYmICFmaXhlZEIpIHtcbiAgICAgICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlKGNvbnN0cmFpbnRzW2ldLCB0aW1lU2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNvbHZlcyBhIGRpc3RhbmNlIGNvbnN0cmFpbnQgd2l0aCBHYXVzcy1TaWVkZWwgbWV0aG9kLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBzb2x2ZVxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGVcbiAgICAgKi9cbiAgICBDb25zdHJhaW50LnNvbHZlID0gZnVuY3Rpb24oY29uc3RyYWludCwgdGltZVNjYWxlKSB7XG4gICAgICAgIHZhciBib2R5QSA9IGNvbnN0cmFpbnQuYm9keUEsXG4gICAgICAgICAgICBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUIsXG4gICAgICAgICAgICBwb2ludEEgPSBjb25zdHJhaW50LnBvaW50QSxcbiAgICAgICAgICAgIHBvaW50QiA9IGNvbnN0cmFpbnQucG9pbnRCO1xuXG4gICAgICAgIGlmICghYm9keUEgJiYgIWJvZHlCKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIC8vIHVwZGF0ZSByZWZlcmVuY2UgYW5nbGVcbiAgICAgICAgaWYgKGJvZHlBICYmICFib2R5QS5pc1N0YXRpYykge1xuICAgICAgICAgICAgVmVjdG9yLnJvdGF0ZShwb2ludEEsIGJvZHlBLmFuZ2xlIC0gY29uc3RyYWludC5hbmdsZUEsIHBvaW50QSk7XG4gICAgICAgICAgICBjb25zdHJhaW50LmFuZ2xlQSA9IGJvZHlBLmFuZ2xlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyB1cGRhdGUgcmVmZXJlbmNlIGFuZ2xlXG4gICAgICAgIGlmIChib2R5QiAmJiAhYm9keUIuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIFZlY3Rvci5yb3RhdGUocG9pbnRCLCBib2R5Qi5hbmdsZSAtIGNvbnN0cmFpbnQuYW5nbGVCLCBwb2ludEIpO1xuICAgICAgICAgICAgY29uc3RyYWludC5hbmdsZUIgPSBib2R5Qi5hbmdsZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2ludEFXb3JsZCA9IHBvaW50QSxcbiAgICAgICAgICAgIHBvaW50QldvcmxkID0gcG9pbnRCO1xuXG4gICAgICAgIGlmIChib2R5QSkgcG9pbnRBV29ybGQgPSBWZWN0b3IuYWRkKGJvZHlBLnBvc2l0aW9uLCBwb2ludEEpO1xuICAgICAgICBpZiAoYm9keUIpIHBvaW50QldvcmxkID0gVmVjdG9yLmFkZChib2R5Qi5wb3NpdGlvbiwgcG9pbnRCKTtcblxuICAgICAgICBpZiAoIXBvaW50QVdvcmxkIHx8ICFwb2ludEJXb3JsZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICB2YXIgZGVsdGEgPSBWZWN0b3Iuc3ViKHBvaW50QVdvcmxkLCBwb2ludEJXb3JsZCksXG4gICAgICAgICAgICBjdXJyZW50TGVuZ3RoID0gVmVjdG9yLm1hZ25pdHVkZShkZWx0YSk7XG5cbiAgICAgICAgLy8gcHJldmVudCBzaW5ndWxhcml0eVxuICAgICAgICBpZiAoY3VycmVudExlbmd0aCA8IENvbnN0cmFpbnQuX21pbkxlbmd0aCkge1xuICAgICAgICAgICAgY3VycmVudExlbmd0aCA9IENvbnN0cmFpbnQuX21pbkxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNvbHZlIGRpc3RhbmNlIGNvbnN0cmFpbnQgd2l0aCBHYXVzcy1TaWVkZWwgbWV0aG9kXG4gICAgICAgIHZhciBkaWZmZXJlbmNlID0gKGN1cnJlbnRMZW5ndGggLSBjb25zdHJhaW50Lmxlbmd0aCkgLyBjdXJyZW50TGVuZ3RoLFxuICAgICAgICAgICAgc3RpZmZuZXNzID0gY29uc3RyYWludC5zdGlmZm5lc3MgPCAxID8gY29uc3RyYWludC5zdGlmZm5lc3MgKiB0aW1lU2NhbGUgOiBjb25zdHJhaW50LnN0aWZmbmVzcyxcbiAgICAgICAgICAgIGZvcmNlID0gVmVjdG9yLm11bHQoZGVsdGEsIGRpZmZlcmVuY2UgKiBzdGlmZm5lc3MpLFxuICAgICAgICAgICAgbWFzc1RvdGFsID0gKGJvZHlBID8gYm9keUEuaW52ZXJzZU1hc3MgOiAwKSArIChib2R5QiA/IGJvZHlCLmludmVyc2VNYXNzIDogMCksXG4gICAgICAgICAgICBpbmVydGlhVG90YWwgPSAoYm9keUEgPyBib2R5QS5pbnZlcnNlSW5lcnRpYSA6IDApICsgKGJvZHlCID8gYm9keUIuaW52ZXJzZUluZXJ0aWEgOiAwKSxcbiAgICAgICAgICAgIHJlc2lzdGFuY2VUb3RhbCA9IG1hc3NUb3RhbCArIGluZXJ0aWFUb3RhbCxcbiAgICAgICAgICAgIHRvcnF1ZSxcbiAgICAgICAgICAgIHNoYXJlLFxuICAgICAgICAgICAgbm9ybWFsLFxuICAgICAgICAgICAgbm9ybWFsVmVsb2NpdHksXG4gICAgICAgICAgICByZWxhdGl2ZVZlbG9jaXR5O1xuXG4gICAgICAgIGlmIChjb25zdHJhaW50LmRhbXBpbmcpIHtcbiAgICAgICAgICAgIHZhciB6ZXJvID0gVmVjdG9yLmNyZWF0ZSgpO1xuICAgICAgICAgICAgbm9ybWFsID0gVmVjdG9yLmRpdihkZWx0YSwgY3VycmVudExlbmd0aCk7XG5cbiAgICAgICAgICAgIHJlbGF0aXZlVmVsb2NpdHkgPSBWZWN0b3Iuc3ViKFxuICAgICAgICAgICAgICAgIGJvZHlCICYmIFZlY3Rvci5zdWIoYm9keUIucG9zaXRpb24sIGJvZHlCLnBvc2l0aW9uUHJldikgfHwgemVybyxcbiAgICAgICAgICAgICAgICBib2R5QSAmJiBWZWN0b3Iuc3ViKGJvZHlBLnBvc2l0aW9uLCBib2R5QS5wb3NpdGlvblByZXYpIHx8IHplcm9cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgIG5vcm1hbFZlbG9jaXR5ID0gVmVjdG9yLmRvdChub3JtYWwsIHJlbGF0aXZlVmVsb2NpdHkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlBICYmICFib2R5QS5pc1N0YXRpYykge1xuICAgICAgICAgICAgc2hhcmUgPSBib2R5QS5pbnZlcnNlTWFzcyAvIG1hc3NUb3RhbDtcblxuICAgICAgICAgICAgLy8ga2VlcCB0cmFjayBvZiBhcHBsaWVkIGltcHVsc2VzIGZvciBwb3N0IHNvbHZpbmdcbiAgICAgICAgICAgIGJvZHlBLmNvbnN0cmFpbnRJbXB1bHNlLnggLT0gZm9yY2UueCAqIHNoYXJlO1xuICAgICAgICAgICAgYm9keUEuY29uc3RyYWludEltcHVsc2UueSAtPSBmb3JjZS55ICogc2hhcmU7XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IGZvcmNlc1xuICAgICAgICAgICAgYm9keUEucG9zaXRpb24ueCAtPSBmb3JjZS54ICogc2hhcmU7XG4gICAgICAgICAgICBib2R5QS5wb3NpdGlvbi55IC09IGZvcmNlLnkgKiBzaGFyZTtcblxuICAgICAgICAgICAgLy8gYXBwbHkgZGFtcGluZ1xuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnQuZGFtcGluZykge1xuICAgICAgICAgICAgICAgIGJvZHlBLnBvc2l0aW9uUHJldi54IC09IGNvbnN0cmFpbnQuZGFtcGluZyAqIG5vcm1hbC54ICogbm9ybWFsVmVsb2NpdHkgKiBzaGFyZTtcbiAgICAgICAgICAgICAgICBib2R5QS5wb3NpdGlvblByZXYueSAtPSBjb25zdHJhaW50LmRhbXBpbmcgKiBub3JtYWwueSAqIG5vcm1hbFZlbG9jaXR5ICogc2hhcmU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IHRvcnF1ZVxuICAgICAgICAgICAgdG9ycXVlID0gKFZlY3Rvci5jcm9zcyhwb2ludEEsIGZvcmNlKSAvIHJlc2lzdGFuY2VUb3RhbCkgKiBDb25zdHJhaW50Ll90b3JxdWVEYW1wZW4gKiBib2R5QS5pbnZlcnNlSW5lcnRpYSAqICgxIC0gY29uc3RyYWludC5hbmd1bGFyU3RpZmZuZXNzKTtcbiAgICAgICAgICAgIGJvZHlBLmNvbnN0cmFpbnRJbXB1bHNlLmFuZ2xlIC09IHRvcnF1ZTtcbiAgICAgICAgICAgIGJvZHlBLmFuZ2xlIC09IHRvcnF1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChib2R5QiAmJiAhYm9keUIuaXNTdGF0aWMpIHtcbiAgICAgICAgICAgIHNoYXJlID0gYm9keUIuaW52ZXJzZU1hc3MgLyBtYXNzVG90YWw7XG5cbiAgICAgICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgYXBwbGllZCBpbXB1bHNlcyBmb3IgcG9zdCBzb2x2aW5nXG4gICAgICAgICAgICBib2R5Qi5jb25zdHJhaW50SW1wdWxzZS54ICs9IGZvcmNlLnggKiBzaGFyZTtcbiAgICAgICAgICAgIGJvZHlCLmNvbnN0cmFpbnRJbXB1bHNlLnkgKz0gZm9yY2UueSAqIHNoYXJlO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBhcHBseSBmb3JjZXNcbiAgICAgICAgICAgIGJvZHlCLnBvc2l0aW9uLnggKz0gZm9yY2UueCAqIHNoYXJlO1xuICAgICAgICAgICAgYm9keUIucG9zaXRpb24ueSArPSBmb3JjZS55ICogc2hhcmU7XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IGRhbXBpbmdcbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50LmRhbXBpbmcpIHtcbiAgICAgICAgICAgICAgICBib2R5Qi5wb3NpdGlvblByZXYueCArPSBjb25zdHJhaW50LmRhbXBpbmcgKiBub3JtYWwueCAqIG5vcm1hbFZlbG9jaXR5ICogc2hhcmU7XG4gICAgICAgICAgICAgICAgYm9keUIucG9zaXRpb25QcmV2LnkgKz0gY29uc3RyYWludC5kYW1waW5nICogbm9ybWFsLnkgKiBub3JtYWxWZWxvY2l0eSAqIHNoYXJlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhcHBseSB0b3JxdWVcbiAgICAgICAgICAgIHRvcnF1ZSA9IChWZWN0b3IuY3Jvc3MocG9pbnRCLCBmb3JjZSkgLyByZXNpc3RhbmNlVG90YWwpICogQ29uc3RyYWludC5fdG9ycXVlRGFtcGVuICogYm9keUIuaW52ZXJzZUluZXJ0aWEgKiAoMSAtIGNvbnN0cmFpbnQuYW5ndWxhclN0aWZmbmVzcyk7XG4gICAgICAgICAgICBib2R5Qi5jb25zdHJhaW50SW1wdWxzZS5hbmdsZSArPSB0b3JxdWU7XG4gICAgICAgICAgICBib2R5Qi5hbmdsZSArPSB0b3JxdWU7XG4gICAgICAgIH1cblxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBib2R5IHVwZGF0ZXMgcmVxdWlyZWQgYWZ0ZXIgc29sdmluZyBjb25zdHJhaW50cy5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgcG9zdFNvbHZlQWxsXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqL1xuICAgIENvbnN0cmFpbnQucG9zdFNvbHZlQWxsID0gZnVuY3Rpb24oYm9kaWVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBpbXB1bHNlID0gYm9keS5jb25zdHJhaW50SW1wdWxzZTtcblxuICAgICAgICAgICAgaWYgKGJvZHkuaXNTdGF0aWMgfHwgKGltcHVsc2UueCA9PT0gMCAmJiBpbXB1bHNlLnkgPT09IDAgJiYgaW1wdWxzZS5hbmdsZSA9PT0gMCkpIHtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgU2xlZXBpbmcuc2V0KGJvZHksIGZhbHNlKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGdlb21ldHJ5IGFuZCByZXNldFxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBib2R5LnBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBib2R5LnBhcnRzW2pdO1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIFZlcnRpY2VzLnRyYW5zbGF0ZShwYXJ0LnZlcnRpY2VzLCBpbXB1bHNlKTtcblxuICAgICAgICAgICAgICAgIGlmIChqID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnggKz0gaW1wdWxzZS54O1xuICAgICAgICAgICAgICAgICAgICBwYXJ0LnBvc2l0aW9uLnkgKz0gaW1wdWxzZS55O1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpbXB1bHNlLmFuZ2xlICE9PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIFZlcnRpY2VzLnJvdGF0ZShwYXJ0LnZlcnRpY2VzLCBpbXB1bHNlLmFuZ2xlLCBib2R5LnBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgQXhlcy5yb3RhdGUocGFydC5heGVzLCBpbXB1bHNlLmFuZ2xlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGogPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBWZWN0b3Iucm90YXRlQWJvdXQocGFydC5wb3NpdGlvbiwgaW1wdWxzZS5hbmdsZSwgYm9keS5wb3NpdGlvbiwgcGFydC5wb3NpdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBCb3VuZHMudXBkYXRlKHBhcnQuYm91bmRzLCBwYXJ0LnZlcnRpY2VzLCBib2R5LnZlbG9jaXR5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZGFtcGVuIHRoZSBjYWNoZWQgaW1wdWxzZSBmb3Igd2FybWluZyBuZXh0IHN0ZXBcbiAgICAgICAgICAgIGltcHVsc2UuYW5nbGUgKj0gQ29uc3RyYWludC5fd2FybWluZztcbiAgICAgICAgICAgIGltcHVsc2UueCAqPSBDb25zdHJhaW50Ll93YXJtaW5nO1xuICAgICAgICAgICAgaW1wdWxzZS55ICo9IENvbnN0cmFpbnQuX3dhcm1pbmc7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgUHJvcGVydGllcyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnRlZ2VyIGBOdW1iZXJgIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIG51bWJlciBnZW5lcmF0ZWQgaW4gYENvbXBvc2l0ZS5jcmVhdGVgIGJ5IGBDb21tb24ubmV4dElkYC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpZFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgU3RyaW5nYCBkZW5vdGluZyB0aGUgdHlwZSBvZiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdHlwZVxuICAgICAqIEB0eXBlIHN0cmluZ1xuICAgICAqIEBkZWZhdWx0IFwiY29uc3RyYWludFwiXG4gICAgICogQHJlYWRPbmx5XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBhcmJpdHJhcnkgYFN0cmluZ2AgbmFtZSB0byBoZWxwIHRoZSB1c2VyIGlkZW50aWZ5IGFuZCBtYW5hZ2UgYm9kaWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGxhYmVsXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgXCJDb25zdHJhaW50XCJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgZGVmaW5lcyB0aGUgcmVuZGVyaW5nIHByb3BlcnRpZXMgdG8gYmUgY29uc3VtZWQgYnkgdGhlIG1vZHVsZSBgTWF0dGVyLlJlbmRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGNvbnN0cmFpbnQgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci52aXNpYmxlXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBkZWZpbmVzIHRoZSBsaW5lIHdpZHRoIHRvIHVzZSB3aGVuIHJlbmRlcmluZyB0aGUgY29uc3RyYWludCBvdXRsaW5lLlxuICAgICAqIEEgdmFsdWUgb2YgYDBgIG1lYW5zIG5vIG91dGxpbmUgd2lsbCBiZSByZW5kZXJlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXIubGluZVdpZHRoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMlxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgU3RyaW5nYCB0aGF0IGRlZmluZXMgdGhlIHN0cm9rZSBzdHlsZSB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGNvbnN0cmFpbnQgb3V0bGluZS5cbiAgICAgKiBJdCBpcyB0aGUgc2FtZSBhcyB3aGVuIHVzaW5nIGEgY2FudmFzLCBzbyBpdCBhY2NlcHRzIENTUyBzdHlsZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnN0cm9rZVN0eWxlXG4gICAgICogQHR5cGUgc3RyaW5nXG4gICAgICogQGRlZmF1bHQgYSByYW5kb20gY29sb3VyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBTdHJpbmdgIHRoYXQgZGVmaW5lcyB0aGUgY29uc3RyYWludCByZW5kZXJpbmcgdHlwZS4gXG4gICAgICogVGhlIHBvc3NpYmxlIHZhbHVlcyBhcmUgJ2xpbmUnLCAncGluJywgJ3NwcmluZycuXG4gICAgICogQW4gYXBwcm9wcmlhdGUgcmVuZGVyIHR5cGUgd2lsbCBiZSBhdXRvbWF0aWNhbGx5IGNob3NlbiB1bmxlc3Mgb25lIGlzIGdpdmVuIGluIG9wdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcmVuZGVyLnR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCAnbGluZSdcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvb2xlYW5gIHRoYXQgZGVmaW5lcyBpZiB0aGUgY29uc3RyYWludCdzIGFuY2hvciBwb2ludHMgc2hvdWxkIGJlIHJlbmRlcmVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHJlbmRlci5hbmNob3JzXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSBmaXJzdCBwb3NzaWJsZSBgQm9keWAgdGhhdCB0aGlzIGNvbnN0cmFpbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9keUFcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHNlY29uZCBwb3NzaWJsZSBgQm9keWAgdGhhdCB0aGlzIGNvbnN0cmFpbnQgaXMgYXR0YWNoZWQgdG8uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9keUJcbiAgICAgKiBAdHlwZSBib2R5XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgVmVjdG9yYCB0aGF0IHNwZWNpZmllcyB0aGUgb2Zmc2V0IG9mIHRoZSBjb25zdHJhaW50IGZyb20gY2VudGVyIG9mIHRoZSBgY29uc3RyYWludC5ib2R5QWAgaWYgZGVmaW5lZCwgb3RoZXJ3aXNlIGEgd29ybGQtc3BhY2UgcG9zaXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcG9pbnRBXG4gICAgICogQHR5cGUgdmVjdG9yXG4gICAgICogQGRlZmF1bHQgeyB4OiAwLCB5OiAwIH1cbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFZlY3RvcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG9mZnNldCBvZiB0aGUgY29uc3RyYWludCBmcm9tIGNlbnRlciBvZiB0aGUgYGNvbnN0cmFpbnQuYm9keUJgIGlmIGRlZmluZWQsIG90aGVyd2lzZSBhIHdvcmxkLXNwYWNlIHBvc2l0aW9uLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBvaW50QlxuICAgICAqIEB0eXBlIHZlY3RvclxuICAgICAqIEBkZWZhdWx0IHsgeDogMCwgeTogMCB9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBzdGlmZm5lc3Mgb2YgdGhlIGNvbnN0cmFpbnQsIGkuZS4gdGhlIHJhdGUgYXQgd2hpY2ggaXQgcmV0dXJucyB0byBpdHMgcmVzdGluZyBgY29uc3RyYWludC5sZW5ndGhgLlxuICAgICAqIEEgdmFsdWUgb2YgYDFgIG1lYW5zIHRoZSBjb25zdHJhaW50IHNob3VsZCBiZSB2ZXJ5IHN0aWZmLlxuICAgICAqIEEgdmFsdWUgb2YgYDAuMmAgbWVhbnMgdGhlIGNvbnN0cmFpbnQgYWN0cyBsaWtlIGEgc29mdCBzcHJpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgc3RpZmZuZXNzXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgZGFtcGluZyBvZiB0aGUgY29uc3RyYWludCwgXG4gICAgICogaS5lLiB0aGUgYW1vdW50IG9mIHJlc2lzdGFuY2UgYXBwbGllZCB0byBlYWNoIGJvZHkgYmFzZWQgb24gdGhlaXIgdmVsb2NpdGllcyB0byBsaW1pdCB0aGUgYW1vdW50IG9mIG9zY2lsbGF0aW9uLlxuICAgICAqIERhbXBpbmcgd2lsbCBvbmx5IGJlIGFwcGFyZW50IHdoZW4gdGhlIGNvbnN0cmFpbnQgYWxzbyBoYXMgYSB2ZXJ5IGxvdyBgc3RpZmZuZXNzYC5cbiAgICAgKiBBIHZhbHVlIG9mIGAwLjFgIG1lYW5zIHRoZSBjb25zdHJhaW50IHdpbGwgYXBwbHkgaGVhdnkgZGFtcGluZywgcmVzdWx0aW5nIGluIGxpdHRsZSB0byBubyBvc2NpbGxhdGlvbi5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBtZWFucyB0aGUgY29uc3RyYWludCB3aWxsIGFwcGx5IG5vIGRhbXBpbmcuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZGFtcGluZ1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDBcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIHRhcmdldCByZXN0aW5nIGxlbmd0aCBvZiB0aGUgY29uc3RyYWludC4gXG4gICAgICogSXQgaXMgY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGluIGBDb25zdHJhaW50LmNyZWF0ZWAgZnJvbSBpbml0aWFsIHBvc2l0aW9ucyBvZiB0aGUgYGNvbnN0cmFpbnQuYm9keUFgIGFuZCBgY29uc3RyYWludC5ib2R5QmAuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgbGVuZ3RoXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgcmVzZXJ2ZWQgZm9yIHN0b3JpbmcgcGx1Z2luLXNwZWNpZmljIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgcGx1Z2luXG4gICAgICogQHR5cGUge31cbiAgICAgKi9cblxufSkoKTtcblxufSx7XCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi4vY29yZS9TbGVlcGluZ1wiOjIyLFwiLi4vZ2VvbWV0cnkvQXhlc1wiOjI1LFwiLi4vZ2VvbWV0cnkvQm91bmRzXCI6MjYsXCIuLi9nZW9tZXRyeS9WZWN0b3JcIjoyOCxcIi4uL2dlb21ldHJ5L1ZlcnRpY2VzXCI6Mjl9XSwxMzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuTW91c2VDb25zdHJhaW50YCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgbW91c2UgY29uc3RyYWludHMuXG4qIE1vdXNlIGNvbnN0cmFpbnRzIGFyZSB1c2VkIGZvciBhbGxvd2luZyB1c2VyIGludGVyYWN0aW9uLCBwcm92aWRpbmcgdGhlIGFiaWxpdHkgdG8gbW92ZSBib2RpZXMgdmlhIHRoZSBtb3VzZSBvciB0b3VjaC5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIE1vdXNlQ29uc3RyYWludFxuKi9cblxudmFyIE1vdXNlQ29uc3RyYWludCA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1vdXNlQ29uc3RyYWludDtcblxudmFyIFZlcnRpY2VzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVydGljZXMnKTtcbnZhciBTbGVlcGluZyA9IF9kZXJlcV8oJy4uL2NvcmUvU2xlZXBpbmcnKTtcbnZhciBNb3VzZSA9IF9kZXJlcV8oJy4uL2NvcmUvTW91c2UnKTtcbnZhciBFdmVudHMgPSBfZGVyZXFfKCcuLi9jb3JlL0V2ZW50cycpO1xudmFyIERldGVjdG9yID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL0RldGVjdG9yJyk7XG52YXIgQ29uc3RyYWludCA9IF9kZXJlcV8oJy4vQ29uc3RyYWludCcpO1xudmFyIENvbXBvc2l0ZSA9IF9kZXJlcV8oJy4uL2JvZHkvQ29tcG9zaXRlJyk7XG52YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTtcbnZhciBCb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBtb3VzZSBjb25zdHJhaW50LlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge30gb3B0aW9uc1xuICAgICAqIEByZXR1cm4ge01vdXNlQ29uc3RyYWludH0gQSBuZXcgTW91c2VDb25zdHJhaW50XG4gICAgICovXG4gICAgTW91c2VDb25zdHJhaW50LmNyZWF0ZSA9IGZ1bmN0aW9uKGVuZ2luZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgbW91c2UgPSAoZW5naW5lID8gZW5naW5lLm1vdXNlIDogbnVsbCkgfHwgKG9wdGlvbnMgPyBvcHRpb25zLm1vdXNlIDogbnVsbCk7XG5cbiAgICAgICAgaWYgKCFtb3VzZSkge1xuICAgICAgICAgICAgaWYgKGVuZ2luZSAmJiBlbmdpbmUucmVuZGVyICYmIGVuZ2luZS5yZW5kZXIuY2FudmFzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UgPSBNb3VzZS5jcmVhdGUoZW5naW5lLnJlbmRlci5jYW52YXMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zICYmIG9wdGlvbnMuZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKG9wdGlvbnMuZWxlbWVudCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG1vdXNlID0gTW91c2UuY3JlYXRlKCk7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ01vdXNlQ29uc3RyYWludC5jcmVhdGU6IG9wdGlvbnMubW91c2Ugd2FzIHVuZGVmaW5lZCwgb3B0aW9ucy5lbGVtZW50IHdhcyB1bmRlZmluZWQsIG1heSBub3QgZnVuY3Rpb24gYXMgZXhwZWN0ZWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBjb25zdHJhaW50ID0gQ29uc3RyYWludC5jcmVhdGUoeyBcbiAgICAgICAgICAgIGxhYmVsOiAnTW91c2UgQ29uc3RyYWludCcsXG4gICAgICAgICAgICBwb2ludEE6IG1vdXNlLnBvc2l0aW9uLFxuICAgICAgICAgICAgcG9pbnRCOiB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGxlbmd0aDogMC4wMSwgXG4gICAgICAgICAgICBzdGlmZm5lc3M6IDAuMSxcbiAgICAgICAgICAgIGFuZ3VsYXJTdGlmZm5lc3M6IDEsXG4gICAgICAgICAgICByZW5kZXI6IHtcbiAgICAgICAgICAgICAgICBzdHJva2VTdHlsZTogJyM5MEVFOTAnLFxuICAgICAgICAgICAgICAgIGxpbmVXaWR0aDogM1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICB0eXBlOiAnbW91c2VDb25zdHJhaW50JyxcbiAgICAgICAgICAgIG1vdXNlOiBtb3VzZSxcbiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBib2R5OiBudWxsLFxuICAgICAgICAgICAgY29uc3RyYWludDogY29uc3RyYWludCxcbiAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5OiAweDAwMDEsXG4gICAgICAgICAgICAgICAgbWFzazogMHhGRkZGRkZGRixcbiAgICAgICAgICAgICAgICBncm91cDogMFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHZhciBtb3VzZUNvbnN0cmFpbnQgPSBDb21tb24uZXh0ZW5kKGRlZmF1bHRzLCBvcHRpb25zKTtcblxuICAgICAgICBFdmVudHMub24oZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICB2YXIgYWxsQm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyhlbmdpbmUud29ybGQpO1xuICAgICAgICAgICAgTW91c2VDb25zdHJhaW50LnVwZGF0ZShtb3VzZUNvbnN0cmFpbnQsIGFsbEJvZGllcyk7XG4gICAgICAgICAgICBNb3VzZUNvbnN0cmFpbnQuX3RyaWdnZXJFdmVudHMobW91c2VDb25zdHJhaW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIG1vdXNlQ29uc3RyYWludDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVXBkYXRlcyB0aGUgZ2l2ZW4gbW91c2UgY29uc3RyYWludC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtNb3VzZUNvbnN0cmFpbnR9IG1vdXNlQ29uc3RyYWludFxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBNb3VzZUNvbnN0cmFpbnQudXBkYXRlID0gZnVuY3Rpb24obW91c2VDb25zdHJhaW50LCBib2RpZXMpIHtcbiAgICAgICAgdmFyIG1vdXNlID0gbW91c2VDb25zdHJhaW50Lm1vdXNlLFxuICAgICAgICAgICAgY29uc3RyYWludCA9IG1vdXNlQ29uc3RyYWludC5jb25zdHJhaW50LFxuICAgICAgICAgICAgYm9keSA9IG1vdXNlQ29uc3RyYWludC5ib2R5O1xuXG4gICAgICAgIGlmIChtb3VzZS5idXR0b24gPT09IDApIHtcbiAgICAgICAgICAgIGlmICghY29uc3RyYWludC5ib2R5Qikge1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIGlmIChCb3VuZHMuY29udGFpbnMoYm9keS5ib3VuZHMsIG1vdXNlLnBvc2l0aW9uKSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAmJiBEZXRlY3Rvci5jYW5Db2xsaWRlKGJvZHkuY29sbGlzaW9uRmlsdGVyLCBtb3VzZUNvbnN0cmFpbnQuY29sbGlzaW9uRmlsdGVyKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IGJvZHkucGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgYm9keS5wYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gYm9keS5wYXJ0c1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoVmVydGljZXMuY29udGFpbnMocGFydC52ZXJ0aWNlcywgbW91c2UucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRBID0gbW91c2UucG9zaXRpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYm9keUIgPSBtb3VzZUNvbnN0cmFpbnQuYm9keSA9IGJvZHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQucG9pbnRCID0geyB4OiBtb3VzZS5wb3NpdGlvbi54IC0gYm9keS5wb3NpdGlvbi54LCB5OiBtb3VzZS5wb3NpdGlvbi55IC0gYm9keS5wb3NpdGlvbi55IH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQuYW5nbGVCID0gYm9keS5hbmdsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdzdGFydGRyYWcnLCB7IG1vdXNlOiBtb3VzZSwgYm9keTogYm9keSB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChjb25zdHJhaW50LmJvZHlCLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgY29uc3RyYWludC5wb2ludEEgPSBtb3VzZS5wb3NpdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0cmFpbnQuYm9keUIgPSBtb3VzZUNvbnN0cmFpbnQuYm9keSA9IG51bGw7XG4gICAgICAgICAgICBjb25zdHJhaW50LnBvaW50QiA9IG51bGw7XG5cbiAgICAgICAgICAgIGlmIChib2R5KVxuICAgICAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ2VuZGRyYWcnLCB7IG1vdXNlOiBtb3VzZSwgYm9keTogYm9keSB9KTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmlnZ2VycyBtb3VzZSBjb25zdHJhaW50IGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIF90cmlnZ2VyRXZlbnRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZUNvbnN0cmFpbnRcbiAgICAgKi9cbiAgICBNb3VzZUNvbnN0cmFpbnQuX3RyaWdnZXJFdmVudHMgPSBmdW5jdGlvbihtb3VzZUNvbnN0cmFpbnQpIHtcbiAgICAgICAgdmFyIG1vdXNlID0gbW91c2VDb25zdHJhaW50Lm1vdXNlLFxuICAgICAgICAgICAgbW91c2VFdmVudHMgPSBtb3VzZS5zb3VyY2VFdmVudHM7XG5cbiAgICAgICAgaWYgKG1vdXNlRXZlbnRzLm1vdXNlbW92ZSlcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ21vdXNlbW92ZScsIHsgbW91c2U6IG1vdXNlIH0pO1xuXG4gICAgICAgIGlmIChtb3VzZUV2ZW50cy5tb3VzZWRvd24pXG4gICAgICAgICAgICBFdmVudHMudHJpZ2dlcihtb3VzZUNvbnN0cmFpbnQsICdtb3VzZWRvd24nLCB7IG1vdXNlOiBtb3VzZSB9KTtcblxuICAgICAgICBpZiAobW91c2VFdmVudHMubW91c2V1cClcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKG1vdXNlQ29uc3RyYWludCwgJ21vdXNldXAnLCB7IG1vdXNlOiBtb3VzZSB9KTtcblxuICAgICAgICAvLyByZXNldCB0aGUgbW91c2Ugc3RhdGUgcmVhZHkgZm9yIHRoZSBuZXh0IHN0ZXBcbiAgICAgICAgTW91c2UuY2xlYXJTb3VyY2VFdmVudHMobW91c2UpO1xuICAgIH07XG5cbiAgICAvKlxuICAgICpcbiAgICAqICBFdmVudHMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBtb3VzZSBoYXMgbW92ZWQgKG9yIGEgdG91Y2ggbW92ZXMpIGR1cmluZyB0aGUgbGFzdCBzdGVwXG4gICAgKlxuICAgICogQGV2ZW50IG1vdXNlbW92ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHttb3VzZX0gZXZlbnQubW91c2UgVGhlIGVuZ2luZSdzIG1vdXNlIGluc3RhbmNlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgd2hlbiB0aGUgbW91c2UgaXMgZG93biAob3IgYSB0b3VjaCBoYXMgc3RhcnRlZCkgZHVyaW5nIHRoZSBsYXN0IHN0ZXBcbiAgICAqXG4gICAgKiBAZXZlbnQgbW91c2Vkb3duXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge21vdXNlfSBldmVudC5tb3VzZSBUaGUgZW5naW5lJ3MgbW91c2UgaW5zdGFuY2VcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSBtb3VzZSBpcyB1cCAob3IgYSB0b3VjaCBoYXMgZW5kZWQpIGR1cmluZyB0aGUgbGFzdCBzdGVwXG4gICAgKlxuICAgICogQGV2ZW50IG1vdXNldXBcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIHdoZW4gdGhlIHVzZXIgc3RhcnRzIGRyYWdnaW5nIGEgYm9keVxuICAgICpcbiAgICAqIEBldmVudCBzdGFydGRyYWdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHtib2R5fSBldmVudC5ib2R5IFRoZSBib2R5IGJlaW5nIGRyYWdnZWRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCB3aGVuIHRoZSB1c2VyIGVuZHMgZHJhZ2dpbmcgYSBib2R5XG4gICAgKlxuICAgICogQGV2ZW50IGVuZGRyYWdcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bW91c2V9IGV2ZW50Lm1vdXNlIFRoZSBlbmdpbmUncyBtb3VzZSBpbnN0YW5jZVxuICAgICogQHBhcmFtIHtib2R5fSBldmVudC5ib2R5IFRoZSBib2R5IHRoYXQgaGFzIHN0b3BwZWQgYmVpbmcgZHJhZ2dlZFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYFN0cmluZ2AgZGVub3RpbmcgdGhlIHR5cGUgb2Ygb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHR5cGVcbiAgICAgKiBAdHlwZSBzdHJpbmdcbiAgICAgKiBAZGVmYXVsdCBcImNvbnN0cmFpbnRcIlxuICAgICAqIEByZWFkT25seVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBNb3VzZWAgaW5zdGFuY2UgaW4gdXNlLiBJZiBub3Qgc3VwcGxpZWQgaW4gYE1vdXNlQ29uc3RyYWludC5jcmVhdGVgLCBvbmUgd2lsbCBiZSBjcmVhdGVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IG1vdXNlXG4gICAgICogQHR5cGUgbW91c2VcbiAgICAgKiBAZGVmYXVsdCBtb3VzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGBCb2R5YCB0aGF0IGlzIGN1cnJlbnRseSBiZWluZyBtb3ZlZCBieSB0aGUgdXNlciwgb3IgYG51bGxgIGlmIG5vIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgYm9keVxuICAgICAqIEB0eXBlIGJvZHlcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgYENvbnN0cmFpbnRgIG9iamVjdCB0aGF0IGlzIHVzZWQgdG8gbW92ZSB0aGUgYm9keSBkdXJpbmcgaW50ZXJhY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgY29uc3RyYWludFxuICAgICAqIEB0eXBlIGNvbnN0cmFpbnRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGBPYmplY3RgIHRoYXQgc3BlY2lmaWVzIHRoZSBjb2xsaXNpb24gZmlsdGVyIHByb3BlcnRpZXMuXG4gICAgICogVGhlIGNvbGxpc2lvbiBmaWx0ZXIgYWxsb3dzIHRoZSB1c2VyIHRvIGRlZmluZSB3aGljaCB0eXBlcyBvZiBib2R5IHRoaXMgbW91c2UgY29uc3RyYWludCBjYW4gaW50ZXJhY3Qgd2l0aC5cbiAgICAgKiBTZWUgYGJvZHkuY29sbGlzaW9uRmlsdGVyYCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb2xsaXNpb25GaWx0ZXJcbiAgICAgKiBAdHlwZSBvYmplY3RcbiAgICAgKi9cblxufSkoKTtcblxufSx7XCIuLi9ib2R5L0NvbXBvc2l0ZVwiOjIsXCIuLi9jb2xsaXNpb24vRGV0ZWN0b3JcIjo1LFwiLi4vY29yZS9Db21tb25cIjoxNCxcIi4uL2NvcmUvRXZlbnRzXCI6MTYsXCIuLi9jb3JlL01vdXNlXCI6MTksXCIuLi9jb3JlL1NsZWVwaW5nXCI6MjIsXCIuLi9nZW9tZXRyeS9Cb3VuZHNcIjoyNixcIi4uL2dlb21ldHJ5L1ZlcnRpY2VzXCI6MjksXCIuL0NvbnN0cmFpbnRcIjoxMn1dLDE0OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbihmdW5jdGlvbiAoZ2xvYmFsKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5Db21tb25gIG1vZHVsZSBjb250YWlucyB1dGlsaXR5IGZ1bmN0aW9ucyB0aGF0IGFyZSBjb21tb24gdG8gYWxsIG1vZHVsZXMuXG4qXG4qIEBjbGFzcyBDb21tb25cbiovXG5cbnZhciBDb21tb24gPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21tb247XG5cbihmdW5jdGlvbigpIHtcblxuICAgIENvbW1vbi5fbmV4dElkID0gMDtcbiAgICBDb21tb24uX3NlZWQgPSAwO1xuICAgIENvbW1vbi5fbm93U3RhcnRUaW1lID0gKyhuZXcgRGF0ZSgpKTtcblxuICAgIC8qKlxuICAgICAqIEV4dGVuZHMgdGhlIG9iamVjdCBpbiB0aGUgZmlyc3QgYXJndW1lbnQgdXNpbmcgdGhlIG9iamVjdCBpbiB0aGUgc2Vjb25kIGFyZ3VtZW50LlxuICAgICAqIEBtZXRob2QgZXh0ZW5kXG4gICAgICogQHBhcmFtIHt9IG9ialxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gZGVlcFxuICAgICAqIEByZXR1cm4ge30gb2JqIGV4dGVuZGVkXG4gICAgICovXG4gICAgQ29tbW9uLmV4dGVuZCA9IGZ1bmN0aW9uKG9iaiwgZGVlcCkge1xuICAgICAgICB2YXIgYXJnc1N0YXJ0LFxuICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgIGRlZXBDbG9uZTtcblxuICAgICAgICBpZiAodHlwZW9mIGRlZXAgPT09ICdib29sZWFuJykge1xuICAgICAgICAgICAgYXJnc1N0YXJ0ID0gMjtcbiAgICAgICAgICAgIGRlZXBDbG9uZSA9IGRlZXA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcmdzU3RhcnQgPSAxO1xuICAgICAgICAgICAgZGVlcENsb25lID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSBhcmdzU3RhcnQ7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV07XG5cbiAgICAgICAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBwcm9wIGluIHNvdXJjZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZGVlcENsb25lICYmIHNvdXJjZVtwcm9wXSAmJiBzb3VyY2VbcHJvcF0uY29uc3RydWN0b3IgPT09IE9iamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFvYmpbcHJvcF0gfHwgb2JqW3Byb3BdLmNvbnN0cnVjdG9yID09PSBPYmplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYmpbcHJvcF0gPSBvYmpbcHJvcF0gfHwge307XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgQ29tbW9uLmV4dGVuZChvYmpbcHJvcF0sIGRlZXBDbG9uZSwgc291cmNlW3Byb3BdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JqW3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gb2JqO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGNsb25lIG9mIHRoZSBvYmplY3QsIGlmIGRlZXAgaXMgdHJ1ZSByZWZlcmVuY2VzIHdpbGwgYWxzbyBiZSBjbG9uZWQuXG4gICAgICogQG1ldGhvZCBjbG9uZVxuICAgICAqIEBwYXJhbSB7fSBvYmpcbiAgICAgKiBAcGFyYW0ge2Jvb2x9IGRlZXBcbiAgICAgKiBAcmV0dXJuIHt9IG9iaiBjbG9uZWRcbiAgICAgKi9cbiAgICBDb21tb24uY2xvbmUgPSBmdW5jdGlvbihvYmosIGRlZXApIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5leHRlbmQoe30sIGRlZXAsIG9iaik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGxpc3Qgb2Yga2V5cyBmb3IgdGhlIGdpdmVuIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGtleXNcbiAgICAgKiBAcGFyYW0ge30gb2JqXG4gICAgICogQHJldHVybiB7c3RyaW5nW119IGtleXNcbiAgICAgKi9cbiAgICBDb21tb24ua2V5cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMpXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmtleXMob2JqKTtcblxuICAgICAgICAvLyBhdm9pZCBoYXNPd25Qcm9wZXJ0eSBmb3IgcGVyZm9ybWFuY2VcbiAgICAgICAgdmFyIGtleXMgPSBbXTtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iailcbiAgICAgICAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgICByZXR1cm4ga2V5cztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbGlzdCBvZiB2YWx1ZXMgZm9yIHRoZSBnaXZlbiBvYmplY3QuXG4gICAgICogQG1ldGhvZCB2YWx1ZXNcbiAgICAgKiBAcGFyYW0ge30gb2JqXG4gICAgICogQHJldHVybiB7YXJyYXl9IEFycmF5IG9mIHRoZSBvYmplY3RzIHByb3BlcnR5IHZhbHVlc1xuICAgICAqL1xuICAgIENvbW1vbi52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgdmFyIHZhbHVlcyA9IFtdO1xuICAgICAgICBcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YWx1ZXMucHVzaChvYmpba2V5c1tpXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gYXZvaWQgaGFzT3duUHJvcGVydHkgZm9yIHBlcmZvcm1hbmNlXG4gICAgICAgIGZvciAodmFyIGtleSBpbiBvYmopXG4gICAgICAgICAgICB2YWx1ZXMucHVzaChvYmpba2V5XSk7XG4gICAgICAgIHJldHVybiB2YWx1ZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB2YWx1ZSBmcm9tIGBiYXNlYCByZWxhdGl2ZSB0byB0aGUgYHBhdGhgIHN0cmluZy5cbiAgICAgKiBAbWV0aG9kIGdldFxuICAgICAqIEBwYXJhbSB7fSBvYmogVGhlIGJhc2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgLCBlLmcuICdGb28uQmFyLmJheidcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luXSBQYXRoIHNsaWNlIGJlZ2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdIFBhdGggc2xpY2UgZW5kXG4gICAgICogQHJldHVybiB7fSBUaGUgb2JqZWN0IGF0IHRoZSBnaXZlbiBwYXRoXG4gICAgICovXG4gICAgQ29tbW9uLmdldCA9IGZ1bmN0aW9uKG9iaiwgcGF0aCwgYmVnaW4sIGVuZCkge1xuICAgICAgICBwYXRoID0gcGF0aC5zcGxpdCgnLicpLnNsaWNlKGJlZ2luLCBlbmQpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgb2JqID0gb2JqW3BhdGhbaV1dO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHZhbHVlIG9uIGBiYXNlYCByZWxhdGl2ZSB0byB0aGUgZ2l2ZW4gYHBhdGhgIHN0cmluZy5cbiAgICAgKiBAbWV0aG9kIHNldFxuICAgICAqIEBwYXJhbSB7fSBvYmogVGhlIGJhc2Ugb2JqZWN0XG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYGJhc2VgLCBlLmcuICdGb28uQmFyLmJheidcbiAgICAgKiBAcGFyYW0ge30gdmFsIFRoZSB2YWx1ZSB0byBzZXRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2JlZ2luXSBQYXRoIHNsaWNlIGJlZ2luXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmRdIFBhdGggc2xpY2UgZW5kXG4gICAgICogQHJldHVybiB7fSBQYXNzIHRocm91Z2ggYHZhbGAgZm9yIGNoYWluaW5nXG4gICAgICovXG4gICAgQ29tbW9uLnNldCA9IGZ1bmN0aW9uKG9iaiwgcGF0aCwgdmFsLCBiZWdpbiwgZW5kKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHBhdGguc3BsaXQoJy4nKS5zbGljZShiZWdpbiwgZW5kKTtcbiAgICAgICAgQ29tbW9uLmdldChvYmosIHBhdGgsIDAsIC0xKVtwYXJ0c1twYXJ0cy5sZW5ndGggLSAxXV0gPSB2YWw7XG4gICAgICAgIHJldHVybiB2YWw7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNodWZmbGVzIHRoZSBnaXZlbiBhcnJheSBpbi1wbGFjZS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gdXNlcyBhIHNlZWRlZCByYW5kb20gZ2VuZXJhdG9yLlxuICAgICAqIEBtZXRob2Qgc2h1ZmZsZVxuICAgICAqIEBwYXJhbSB7YXJyYXl9IGFycmF5XG4gICAgICogQHJldHVybiB7YXJyYXl9IGFycmF5IHNodWZmbGVkIHJhbmRvbWx5XG4gICAgICovXG4gICAgQ29tbW9uLnNodWZmbGUgPSBmdW5jdGlvbihhcnJheSkge1xuICAgICAgICBmb3IgKHZhciBpID0gYXJyYXkubGVuZ3RoIC0gMTsgaSA+IDA7IGktLSkge1xuICAgICAgICAgICAgdmFyIGogPSBNYXRoLmZsb29yKENvbW1vbi5yYW5kb20oKSAqIChpICsgMSkpO1xuICAgICAgICAgICAgdmFyIHRlbXAgPSBhcnJheVtpXTtcbiAgICAgICAgICAgIGFycmF5W2ldID0gYXJyYXlbal07XG4gICAgICAgICAgICBhcnJheVtqXSA9IHRlbXA7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSYW5kb21seSBjaG9vc2VzIGEgdmFsdWUgZnJvbSBhIGxpc3Qgd2l0aCBlcXVhbCBwcm9iYWJpbGl0eS5cbiAgICAgKiBUaGUgZnVuY3Rpb24gdXNlcyBhIHNlZWRlZCByYW5kb20gZ2VuZXJhdG9yLlxuICAgICAqIEBtZXRob2QgY2hvb3NlXG4gICAgICogQHBhcmFtIHthcnJheX0gY2hvaWNlc1xuICAgICAqIEByZXR1cm4ge29iamVjdH0gQSByYW5kb20gY2hvaWNlIG9iamVjdCBmcm9tIHRoZSBhcnJheVxuICAgICAqL1xuICAgIENvbW1vbi5jaG9vc2UgPSBmdW5jdGlvbihjaG9pY2VzKSB7XG4gICAgICAgIHJldHVybiBjaG9pY2VzW01hdGguZmxvb3IoQ29tbW9uLnJhbmRvbSgpICogY2hvaWNlcy5sZW5ndGgpXTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBvYmplY3QgaXMgYSBIVE1MRWxlbWVudCwgb3RoZXJ3aXNlIGZhbHNlLlxuICAgICAqIEBtZXRob2QgaXNFbGVtZW50XG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9ialxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhIEhUTUxFbGVtZW50LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNFbGVtZW50ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICAgIGlmICh0eXBlb2YgSFRNTEVsZW1lbnQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXR1cm4gb2JqIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSAmJiBvYmoubm9kZU5hbWUpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhbiBhcnJheS5cbiAgICAgKiBAbWV0aG9kIGlzQXJyYXlcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGFuIGFycmF5LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNBcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IEFycmF5XSc7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgZnVuY3Rpb24uXG4gICAgICogQG1ldGhvZCBpc0Z1bmN0aW9uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9ialxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IFRydWUgaWYgdGhlIG9iamVjdCBpcyBhIGZ1bmN0aW9uLCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNGdW5jdGlvbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gXCJmdW5jdGlvblwiO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIG9iamVjdCBpcyBhIHBsYWluIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGlzUGxhaW5PYmplY3RcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgcGxhaW4gb2JqZWN0LCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNQbGFpbk9iamVjdCA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ29iamVjdCcgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBPYmplY3Q7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgc3RyaW5nLlxuICAgICAqIEBtZXRob2QgaXNTdHJpbmdcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gb2JqXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGUgb2JqZWN0IGlzIGEgc3RyaW5nLCBvdGhlcndpc2UgZmFsc2VcbiAgICAgKi9cbiAgICBDb21tb24uaXNTdHJpbmcgPSBmdW5jdGlvbihvYmopIHtcbiAgICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PT0gJ1tvYmplY3QgU3RyaW5nXSc7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBnaXZlbiB2YWx1ZSBjbGFtcGVkIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBtYXhpbXVtIHZhbHVlLlxuICAgICAqIEBtZXRob2QgY2xhbXBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdmFsdWVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIHZhbHVlIGNsYW1wZWQgYmV0d2VlbiBtaW4gYW5kIG1heCBpbmNsdXNpdmVcbiAgICAgKi9cbiAgICBDb21tb24uY2xhbXAgPSBmdW5jdGlvbih2YWx1ZSwgbWluLCBtYXgpIHtcbiAgICAgICAgaWYgKHZhbHVlIDwgbWluKVxuICAgICAgICAgICAgcmV0dXJuIG1pbjtcbiAgICAgICAgaWYgKHZhbHVlID4gbWF4KVxuICAgICAgICAgICAgcmV0dXJuIG1heDtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgc2lnbiBvZiB0aGUgZ2l2ZW4gdmFsdWUuXG4gICAgICogQG1ldGhvZCBzaWduXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHZhbHVlXG4gICAgICogQHJldHVybiB7bnVtYmVyfSAtMSBpZiBuZWdhdGl2ZSwgKzEgaWYgMCBvciBwb3NpdGl2ZVxuICAgICAqL1xuICAgIENvbW1vbi5zaWduID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlIDwgMCA/IC0xIDogMTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZXN0YW1wIHNpbmNlIHRoZSB0aW1lIG9yaWdpbiAoZS5nLiBmcm9tIHBhZ2UgbG9hZCkuXG4gICAgICogVGhlIHJlc3VsdCB3aWxsIGJlIGhpZ2gtcmVzb2x1dGlvbiBpbmNsdWRpbmcgZGVjaW1hbCBwbGFjZXMgaWYgYXZhaWxhYmxlLlxuICAgICAqIEBtZXRob2Qgbm93XG4gICAgICogQHJldHVybiB7bnVtYmVyfSB0aGUgY3VycmVudCB0aW1lc3RhbXBcbiAgICAgKi9cbiAgICBDb21tb24ubm93ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICh3aW5kb3cucGVyZm9ybWFuY2UpIHtcbiAgICAgICAgICAgIGlmICh3aW5kb3cucGVyZm9ybWFuY2Uubm93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAod2luZG93LnBlcmZvcm1hbmNlLndlYmtpdE5vdykge1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cucGVyZm9ybWFuY2Uud2Via2l0Tm93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gKG5ldyBEYXRlKCkpIC0gQ29tbW9uLl9ub3dTdGFydFRpbWU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcmFuZG9tIHZhbHVlIGJldHdlZW4gYSBtaW5pbXVtIGFuZCBhIG1heGltdW0gdmFsdWUgaW5jbHVzaXZlLlxuICAgICAqIFRoZSBmdW5jdGlvbiB1c2VzIGEgc2VlZGVkIHJhbmRvbSBnZW5lcmF0b3IuXG4gICAgICogQG1ldGhvZCByYW5kb21cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWluXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG1heFxuICAgICAqIEByZXR1cm4ge251bWJlcn0gQSByYW5kb20gbnVtYmVyIGJldHdlZW4gbWluIGFuZCBtYXggaW5jbHVzaXZlXG4gICAgICovXG4gICAgQ29tbW9uLnJhbmRvbSA9IGZ1bmN0aW9uKG1pbiwgbWF4KSB7XG4gICAgICAgIG1pbiA9ICh0eXBlb2YgbWluICE9PSBcInVuZGVmaW5lZFwiKSA/IG1pbiA6IDA7XG4gICAgICAgIG1heCA9ICh0eXBlb2YgbWF4ICE9PSBcInVuZGVmaW5lZFwiKSA/IG1heCA6IDE7XG4gICAgICAgIHJldHVybiBtaW4gKyBfc2VlZGVkUmFuZG9tKCkgKiAobWF4IC0gbWluKTtcbiAgICB9O1xuXG4gICAgdmFyIF9zZWVkZWRSYW5kb20gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGluZWFyX2NvbmdydWVudGlhbF9nZW5lcmF0b3JcbiAgICAgICAgQ29tbW9uLl9zZWVkID0gKENvbW1vbi5fc2VlZCAqIDkzMDEgKyA0OTI5NykgJSAyMzMyODA7XG4gICAgICAgIHJldHVybiBDb21tb24uX3NlZWQgLyAyMzMyODA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgQ1NTIGhleCBjb2xvdXIgc3RyaW5nIGludG8gYW4gaW50ZWdlci5cbiAgICAgKiBAbWV0aG9kIGNvbG9yVG9OdW1iZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gY29sb3JTdHJpbmdcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IEFuIGludGVnZXIgcmVwcmVzZW50aW5nIHRoZSBDU1MgaGV4IHN0cmluZ1xuICAgICAqL1xuICAgIENvbW1vbi5jb2xvclRvTnVtYmVyID0gZnVuY3Rpb24oY29sb3JTdHJpbmcpIHtcbiAgICAgICAgY29sb3JTdHJpbmcgPSBjb2xvclN0cmluZy5yZXBsYWNlKCcjJywnJyk7XG5cbiAgICAgICAgaWYgKGNvbG9yU3RyaW5nLmxlbmd0aCA9PSAzKSB7XG4gICAgICAgICAgICBjb2xvclN0cmluZyA9IGNvbG9yU3RyaW5nLmNoYXJBdCgwKSArIGNvbG9yU3RyaW5nLmNoYXJBdCgwKVxuICAgICAgICAgICAgICAgICAgICAgICAgKyBjb2xvclN0cmluZy5jaGFyQXQoMSkgKyBjb2xvclN0cmluZy5jaGFyQXQoMSlcbiAgICAgICAgICAgICAgICAgICAgICAgICsgY29sb3JTdHJpbmcuY2hhckF0KDIpICsgY29sb3JTdHJpbmcuY2hhckF0KDIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhcnNlSW50KGNvbG9yU3RyaW5nLCAxNik7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBjb25zb2xlIGxvZ2dpbmcgbGV2ZWwgdG8gdXNlLCB3aGVyZSBlYWNoIGxldmVsIGluY2x1ZGVzIGFsbCBsZXZlbHMgYWJvdmUgYW5kIGV4Y2x1ZGVzIHRoZSBsZXZlbHMgYmVsb3cuXG4gICAgICogVGhlIGRlZmF1bHQgbGV2ZWwgaXMgJ2RlYnVnJyB3aGljaCBzaG93cyBhbGwgY29uc29sZSBtZXNzYWdlcy4gIFxuICAgICAqXG4gICAgICogUG9zc2libGUgbGV2ZWwgdmFsdWVzIGFyZTpcbiAgICAgKiAtIDAgPSBOb25lXG4gICAgICogLSAxID0gRGVidWdcbiAgICAgKiAtIDIgPSBJbmZvXG4gICAgICogLSAzID0gV2FyblxuICAgICAqIC0gNCA9IEVycm9yXG4gICAgICogQHByb3BlcnR5IENvbW1vbi5sb2dMZXZlbFxuICAgICAqIEB0eXBlIHtOdW1iZXJ9XG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuICAgIENvbW1vbi5sb2dMZXZlbCA9IDE7XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhIGBjb25zb2xlLmxvZ2AgbWVzc2FnZSBvbmx5IGlmIHRoZSBjdXJyZW50IGBDb21tb24ubG9nTGV2ZWxgIGFsbG93cyBpdC5cbiAgICAgKiBUaGUgbWVzc2FnZSB3aWxsIGJlIHByZWZpeGVkIHdpdGggJ21hdHRlci1qcycgdG8gbWFrZSBpdCBlYXNpbHkgaWRlbnRpZmlhYmxlLlxuICAgICAqIEBtZXRob2QgbG9nXG4gICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLlxuICAgICAqL1xuICAgIENvbW1vbi5sb2cgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgQ29tbW9uLmxvZ0xldmVsID4gMCAmJiBDb21tb24ubG9nTGV2ZWwgPD0gMykge1xuICAgICAgICAgICAgY29uc29sZS5sb2cuYXBwbHkoY29uc29sZSwgWydtYXR0ZXItanM6J10uY29uY2F0KEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTaG93cyBhIGBjb25zb2xlLmluZm9gIG1lc3NhZ2Ugb25seSBpZiB0aGUgY3VycmVudCBgQ29tbW9uLmxvZ0xldmVsYCBhbGxvd3MgaXQuXG4gICAgICogVGhlIG1lc3NhZ2Ugd2lsbCBiZSBwcmVmaXhlZCB3aXRoICdtYXR0ZXItanMnIHRvIG1ha2UgaXQgZWFzaWx5IGlkZW50aWZpYWJsZS5cbiAgICAgKiBAbWV0aG9kIGluZm9cbiAgICAgKiBAcGFyYW0gLi4ub2JqcyB7fSBUaGUgb2JqZWN0cyB0byBsb2cuXG4gICAgICovXG4gICAgQ29tbW9uLmluZm8gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKGNvbnNvbGUgJiYgQ29tbW9uLmxvZ0xldmVsID4gMCAmJiBDb21tb24ubG9nTGV2ZWwgPD0gMikge1xuICAgICAgICAgICAgY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsIFsnbWF0dGVyLWpzOiddLmNvbmNhdChBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2hvd3MgYSBgY29uc29sZS53YXJuYCBtZXNzYWdlIG9ubHkgaWYgdGhlIGN1cnJlbnQgYENvbW1vbi5sb2dMZXZlbGAgYWxsb3dzIGl0LlxuICAgICAqIFRoZSBtZXNzYWdlIHdpbGwgYmUgcHJlZml4ZWQgd2l0aCAnbWF0dGVyLWpzJyB0byBtYWtlIGl0IGVhc2lseSBpZGVudGlmaWFibGUuXG4gICAgICogQG1ldGhvZCB3YXJuXG4gICAgICogQHBhcmFtIC4uLm9ianMge30gVGhlIG9iamVjdHMgdG8gbG9nLlxuICAgICAqL1xuICAgIENvbW1vbi53YXJuID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmIChjb25zb2xlICYmIENvbW1vbi5sb2dMZXZlbCA+IDAgJiYgQ29tbW9uLmxvZ0xldmVsIDw9IDMpIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2Fybi5hcHBseShjb25zb2xlLCBbJ21hdHRlci1qczonXS5jb25jYXQoQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG5leHQgdW5pcXVlIHNlcXVlbnRpYWwgSUQuXG4gICAgICogQG1ldGhvZCBuZXh0SWRcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IFVuaXF1ZSBzZXF1ZW50aWFsIElEXG4gICAgICovXG4gICAgQ29tbW9uLm5leHRJZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gQ29tbW9uLl9uZXh0SWQrKztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQSBjcm9zcyBicm93c2VyIGNvbXBhdGlibGUgaW5kZXhPZiBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAbWV0aG9kIGluZGV4T2ZcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBoYXlzdGFja1xuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBuZWVkbGVcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBwb3NpdGlvbiBvZiBuZWVkbGUgaW4gaGF5c3RhY2ssIG90aGVyd2lzZSAtMS5cbiAgICAgKi9cbiAgICBDb21tb24uaW5kZXhPZiA9IGZ1bmN0aW9uKGhheXN0YWNrLCBuZWVkbGUpIHtcbiAgICAgICAgaWYgKGhheXN0YWNrLmluZGV4T2YpXG4gICAgICAgICAgICByZXR1cm4gaGF5c3RhY2suaW5kZXhPZihuZWVkbGUpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaGF5c3RhY2subGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChoYXlzdGFja1tpXSA9PT0gbmVlZGxlKVxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBIGNyb3NzIGJyb3dzZXIgY29tcGF0aWJsZSBhcnJheSBtYXAgaW1wbGVtZW50YXRpb24uXG4gICAgICogQG1ldGhvZCBtYXBcbiAgICAgKiBAcGFyYW0ge2FycmF5fSBsaXN0XG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gZnVuY1xuICAgICAqIEByZXR1cm4ge2FycmF5fSBWYWx1ZXMgZnJvbSBsaXN0IHRyYW5zZm9ybWVkIGJ5IGZ1bmMuXG4gICAgICovXG4gICAgQ29tbW9uLm1hcCA9IGZ1bmN0aW9uKGxpc3QsIGZ1bmMpIHtcbiAgICAgICAgaWYgKGxpc3QubWFwKSB7XG4gICAgICAgICAgICByZXR1cm4gbGlzdC5tYXAoZnVuYyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbWFwcGVkID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBtYXBwZWQucHVzaChmdW5jKGxpc3RbaV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFRha2VzIGEgZGlyZWN0ZWQgZ3JhcGggYW5kIHJldHVybnMgdGhlIHBhcnRpYWxseSBvcmRlcmVkIHNldCBvZiB2ZXJ0aWNlcyBpbiB0b3BvbG9naWNhbCBvcmRlci5cbiAgICAgKiBDaXJjdWxhciBkZXBlbmRlbmNpZXMgYXJlIGFsbG93ZWQuXG4gICAgICogQG1ldGhvZCB0b3BvbG9naWNhbFNvcnRcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gZ3JhcGhcbiAgICAgKiBAcmV0dXJuIHthcnJheX0gUGFydGlhbGx5IG9yZGVyZWQgc2V0IG9mIHZlcnRpY2VzIGluIHRvcG9sb2dpY2FsIG9yZGVyLlxuICAgICAqL1xuICAgIENvbW1vbi50b3BvbG9naWNhbFNvcnQgPSBmdW5jdGlvbihncmFwaCkge1xuICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vbWdlY2hldi9qYXZhc2NyaXB0LWFsZ29yaXRobXNcbiAgICAgICAgLy8gQ29weXJpZ2h0IChjKSBNaW5rbyBHZWNoZXYgKE1JVCBsaWNlbnNlKVxuICAgICAgICAvLyBNb2RpZmljYXRpb25zOiB0aWR5IGZvcm1hdHRpbmcgYW5kIG5hbWluZ1xuICAgICAgICB2YXIgcmVzdWx0ID0gW10sXG4gICAgICAgICAgICB2aXNpdGVkID0gW10sXG4gICAgICAgICAgICB0ZW1wID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgbm9kZSBpbiBncmFwaCkge1xuICAgICAgICAgICAgaWYgKCF2aXNpdGVkW25vZGVdICYmICF0ZW1wW25vZGVdKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLl90b3BvbG9naWNhbFNvcnQobm9kZSwgdmlzaXRlZCwgdGVtcCwgZ3JhcGgsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBDb21tb24uX3RvcG9sb2dpY2FsU29ydCA9IGZ1bmN0aW9uKG5vZGUsIHZpc2l0ZWQsIHRlbXAsIGdyYXBoLCByZXN1bHQpIHtcbiAgICAgICAgdmFyIG5laWdoYm9ycyA9IGdyYXBoW25vZGVdIHx8IFtdO1xuICAgICAgICB0ZW1wW25vZGVdID0gdHJ1ZTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5laWdoYm9ycy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmFyIG5laWdoYm9yID0gbmVpZ2hib3JzW2ldO1xuXG4gICAgICAgICAgICBpZiAodGVtcFtuZWlnaGJvcl0pIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIGNpcmN1bGFyIGRlcGVuZGVuY2llc1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIXZpc2l0ZWRbbmVpZ2hib3JdKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLl90b3BvbG9naWNhbFNvcnQobmVpZ2hib3IsIHZpc2l0ZWQsIHRlbXAsIGdyYXBoLCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGVtcFtub2RlXSA9IGZhbHNlO1xuICAgICAgICB2aXNpdGVkW25vZGVdID0gdHJ1ZTtcblxuICAgICAgICByZXN1bHQucHVzaChub2RlKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGFrZXMgX25fIGZ1bmN0aW9ucyBhcyBhcmd1bWVudHMgYW5kIHJldHVybnMgYSBuZXcgZnVuY3Rpb24gdGhhdCBjYWxscyB0aGVtIGluIG9yZGVyLlxuICAgICAqIFRoZSBhcmd1bWVudHMgYXBwbGllZCB3aGVuIGNhbGxpbmcgdGhlIG5ldyBmdW5jdGlvbiB3aWxsIGFsc28gYmUgYXBwbGllZCB0byBldmVyeSBmdW5jdGlvbiBwYXNzZWQuXG4gICAgICogVGhlIHZhbHVlIG9mIGB0aGlzYCByZWZlcnMgdG8gdGhlIGxhc3QgdmFsdWUgcmV0dXJuZWQgaW4gdGhlIGNoYWluIHRoYXQgd2FzIG5vdCBgdW5kZWZpbmVkYC5cbiAgICAgKiBUaGVyZWZvcmUgaWYgYSBwYXNzZWQgZnVuY3Rpb24gZG9lcyBub3QgcmV0dXJuIGEgdmFsdWUsIHRoZSBwcmV2aW91c2x5IHJldHVybmVkIHZhbHVlIGlzIG1haW50YWluZWQuXG4gICAgICogQWZ0ZXIgYWxsIHBhc3NlZCBmdW5jdGlvbnMgaGF2ZSBiZWVuIGNhbGxlZCB0aGUgbmV3IGZ1bmN0aW9uIHJldHVybnMgdGhlIGxhc3QgcmV0dXJuZWQgdmFsdWUgKGlmIGFueSkuXG4gICAgICogSWYgYW55IG9mIHRoZSBwYXNzZWQgZnVuY3Rpb25zIGFyZSBhIGNoYWluLCB0aGVuIHRoZSBjaGFpbiB3aWxsIGJlIGZsYXR0ZW5lZC5cbiAgICAgKiBAbWV0aG9kIGNoYWluXG4gICAgICogQHBhcmFtIC4uLmZ1bmNzIHtmdW5jdGlvbn0gVGhlIGZ1bmN0aW9ucyB0byBjaGFpbi5cbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gQSBuZXcgZnVuY3Rpb24gdGhhdCBjYWxscyB0aGUgcGFzc2VkIGZ1bmN0aW9ucyBpbiBvcmRlci5cbiAgICAgKi9cbiAgICBDb21tb24uY2hhaW4gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGZ1bmNzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBmdW5jID0gYXJndW1lbnRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoZnVuYy5fY2hhaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIGZsYXR0ZW4gYWxyZWFkeSBjaGFpbmVkIGZ1bmN0aW9uc1xuICAgICAgICAgICAgICAgIGZ1bmNzLnB1c2guYXBwbHkoZnVuY3MsIGZ1bmMuX2NoYWluZWQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmdW5jcy5wdXNoKGZ1bmMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGNoYWluID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAvLyBodHRwczovL2dpdGh1Yi5jb20vR29vZ2xlQ2hyb21lL2RldnRvb2xzLWRvY3MvaXNzdWVzLzUzI2lzc3VlY29tbWVudC01MTk0MTM1OFxuICAgICAgICAgICAgdmFyIGxhc3RSZXN1bHQsXG4gICAgICAgICAgICAgICAgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGZ1bmNzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmNzW2ldLmFwcGx5KGxhc3RSZXN1bHQsIGFyZ3MpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiByZXN1bHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RSZXN1bHQgPSByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4gbGFzdFJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBjaGFpbi5fY2hhaW5lZCA9IGZ1bmNzO1xuXG4gICAgICAgIHJldHVybiBjaGFpbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hhaW5zIGEgZnVuY3Rpb24gdG8gZXhjdXRlIGJlZm9yZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgYmFzZWAuXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXG4gICAgICogQG1ldGhvZCBjaGFpblBhdGhCZWZvcmVcbiAgICAgKiBAcGFyYW0ge30gYmFzZSBUaGUgYmFzZSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCBUaGUgcGF0aCByZWxhdGl2ZSB0byBgYmFzZWBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBiZWZvcmUgdGhlIG9yaWdpbmFsXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjaGFpbmVkIGZ1bmN0aW9uIHRoYXQgcmVwbGFjZWQgdGhlIG9yaWdpbmFsXG4gICAgICovXG4gICAgQ29tbW9uLmNoYWluUGF0aEJlZm9yZSA9IGZ1bmN0aW9uKGJhc2UsIHBhdGgsIGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5zZXQoYmFzZSwgcGF0aCwgQ29tbW9uLmNoYWluKFxuICAgICAgICAgICAgZnVuYyxcbiAgICAgICAgICAgIENvbW1vbi5nZXQoYmFzZSwgcGF0aClcbiAgICAgICAgKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBhZnRlciB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgYmFzZWAuXG4gICAgICogU2VlIGFsc28gZG9jcyBmb3IgYENvbW1vbi5jaGFpbmAuXG4gICAgICogQG1ldGhvZCBjaGFpblBhdGhBZnRlclxuICAgICAqIEBwYXJhbSB7fSBiYXNlIFRoZSBiYXNlIG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHJlbGF0aXZlIHRvIGBiYXNlYFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoYWluIGFmdGVyIHRoZSBvcmlnaW5hbFxuICAgICAqIEByZXR1cm4ge2Z1bmN0aW9ufSBUaGUgY2hhaW5lZCBmdW5jdGlvbiB0aGF0IHJlcGxhY2VkIHRoZSBvcmlnaW5hbFxuICAgICAqL1xuICAgIENvbW1vbi5jaGFpblBhdGhBZnRlciA9IGZ1bmN0aW9uKGJhc2UsIHBhdGgsIGZ1bmMpIHtcbiAgICAgICAgcmV0dXJuIENvbW1vbi5zZXQoYmFzZSwgcGF0aCwgQ29tbW9uLmNoYWluKFxuICAgICAgICAgICAgQ29tbW9uLmdldChiYXNlLCBwYXRoKSxcbiAgICAgICAgICAgIGZ1bmNcbiAgICAgICAgKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFVzZWQgdG8gcmVxdWlyZSBleHRlcm5hbCBsaWJyYXJpZXMgb3V0c2lkZSBvZiB0aGUgYnVuZGxlLlxuICAgICAqIEl0IGZpcnN0IGxvb2tzIGZvciB0aGUgYGdsb2JhbE5hbWVgIG9uIHRoZSBlbnZpcm9ubWVudCdzIGdsb2JhbCBuYW1lc3BhY2UuXG4gICAgICogSWYgdGhlIGdsb2JhbCBpcyBub3QgZm91bmQsIGl0IHdpbGwgZmFsbCBiYWNrIHRvIHVzaW5nIHRoZSBzdGFuZGFyZCBgcmVxdWlyZWAgdXNpbmcgdGhlIGBtb2R1bGVOYW1lYC5cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgX3JlcXVpcmVHbG9iYWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZ2xvYmFsTmFtZSBUaGUgZ2xvYmFsIG1vZHVsZSBuYW1lXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IG1vZHVsZU5hbWUgVGhlIGZhbGxiYWNrIENvbW1vbkpTIG1vZHVsZSBuYW1lXG4gICAgICogQHJldHVybiB7fSBUaGUgbG9hZGVkIG1vZHVsZVxuICAgICAqL1xuICAgIENvbW1vbi5fcmVxdWlyZUdsb2JhbCA9IGZ1bmN0aW9uKGdsb2JhbE5hbWUsIG1vZHVsZU5hbWUpIHtcbiAgICAgICAgdmFyIG9iaiA9ICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvd1tnbG9iYWxOYW1lXSA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsW2dsb2JhbE5hbWVdIDogbnVsbCk7XG4gICAgICAgIHJldHVybiBvYmogfHwgX2RlcmVxXyhtb2R1bGVOYW1lKTtcbiAgICB9O1xufSkoKTtcblxufSkuY2FsbCh0aGlzLHR5cGVvZiBnbG9iYWwgIT09IFwidW5kZWZpbmVkXCIgPyBnbG9iYWwgOiB0eXBlb2Ygc2VsZiAhPT0gXCJ1bmRlZmluZWRcIiA/IHNlbGYgOiB0eXBlb2Ygd2luZG93ICE9PSBcInVuZGVmaW5lZFwiID8gd2luZG93IDoge30pXG59LHt9XSwxNTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuRW5naW5lYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBlbmdpbmVzLlxuKiBBbiBlbmdpbmUgaXMgYSBjb250cm9sbGVyIHRoYXQgbWFuYWdlcyB1cGRhdGluZyB0aGUgc2ltdWxhdGlvbiBvZiB0aGUgd29ybGQuXG4qIFNlZSBgTWF0dGVyLlJ1bm5lcmAgZm9yIGFuIG9wdGlvbmFsIGdhbWUgbG9vcCB1dGlsaXR5LlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgRW5naW5lXG4qL1xuXG52YXIgRW5naW5lID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gRW5naW5lO1xuXG52YXIgV29ybGQgPSBfZGVyZXFfKCcuLi9ib2R5L1dvcmxkJyk7XG52YXIgU2xlZXBpbmcgPSBfZGVyZXFfKCcuL1NsZWVwaW5nJyk7XG52YXIgUmVzb2x2ZXIgPSBfZGVyZXFfKCcuLi9jb2xsaXNpb24vUmVzb2x2ZXInKTtcbnZhciBSZW5kZXIgPSBfZGVyZXFfKCcuLi9yZW5kZXIvUmVuZGVyJyk7XG52YXIgUGFpcnMgPSBfZGVyZXFfKCcuLi9jb2xsaXNpb24vUGFpcnMnKTtcbnZhciBNZXRyaWNzID0gX2RlcmVxXygnLi9NZXRyaWNzJyk7XG52YXIgR3JpZCA9IF9kZXJlcV8oJy4uL2NvbGxpc2lvbi9HcmlkJyk7XG52YXIgRXZlbnRzID0gX2RlcmVxXygnLi9FdmVudHMnKTtcbnZhciBDb21wb3NpdGUgPSBfZGVyZXFfKCcuLi9ib2R5L0NvbXBvc2l0ZScpO1xudmFyIENvbnN0cmFpbnQgPSBfZGVyZXFfKCcuLi9jb25zdHJhaW50L0NvbnN0cmFpbnQnKTtcbnZhciBDb21tb24gPSBfZGVyZXFfKCcuL0NvbW1vbicpO1xudmFyIEJvZHkgPSBfZGVyZXFfKCcuLi9ib2R5L0JvZHknKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBlbmdpbmUuIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIEFsbCBwcm9wZXJ0aWVzIGhhdmUgZGVmYXVsdCB2YWx1ZXMsIGFuZCBtYW55IGFyZSBwcmUtY2FsY3VsYXRlZCBhdXRvbWF0aWNhbGx5IGJhc2VkIG9uIG90aGVyIHByb3BlcnRpZXMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gYmVsb3cgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqL1xuICAgIEVuZ2luZS5jcmVhdGUgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIC8vIG9wdGlvbnMgbWF5IGJlIHBhc3NlZCBhcyB0aGUgZmlyc3QgKGFuZCBvbmx5KSBhcmd1bWVudFxuICAgICAgICBvcHRpb25zID0gQ29tbW9uLmlzRWxlbWVudChlbGVtZW50KSA/IG9wdGlvbnMgOiBlbGVtZW50O1xuICAgICAgICBlbGVtZW50ID0gQ29tbW9uLmlzRWxlbWVudChlbGVtZW50KSA/IGVsZW1lbnQgOiBudWxsO1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcblxuICAgICAgICBpZiAoZWxlbWVudCB8fCBvcHRpb25zLnJlbmRlcikge1xuICAgICAgICAgICAgQ29tbW9uLndhcm4oJ0VuZ2luZS5jcmVhdGU6IGVuZ2luZS5yZW5kZXIgaXMgZGVwcmVjYXRlZCAoc2VlIGRvY3MpJyk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBwb3NpdGlvbkl0ZXJhdGlvbnM6IDYsXG4gICAgICAgICAgICB2ZWxvY2l0eUl0ZXJhdGlvbnM6IDQsXG4gICAgICAgICAgICBjb25zdHJhaW50SXRlcmF0aW9uczogMixcbiAgICAgICAgICAgIGVuYWJsZVNsZWVwaW5nOiBmYWxzZSxcbiAgICAgICAgICAgIGV2ZW50czogW10sXG4gICAgICAgICAgICBwbHVnaW46IHt9LFxuICAgICAgICAgICAgdGltaW5nOiB7XG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiAwLFxuICAgICAgICAgICAgICAgIHRpbWVTY2FsZTogMVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJyb2FkcGhhc2U6IHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyOiBHcmlkXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIGVuZ2luZSA9IENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIC8vIEBkZXByZWNhdGVkXG4gICAgICAgIGlmIChlbGVtZW50IHx8IGVuZ2luZS5yZW5kZXIpIHtcbiAgICAgICAgICAgIHZhciByZW5kZXJEZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBlbGVtZW50OiBlbGVtZW50LFxuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXI6IFJlbmRlclxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgZW5naW5lLnJlbmRlciA9IENvbW1vbi5leHRlbmQocmVuZGVyRGVmYXVsdHMsIGVuZ2luZS5yZW5kZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQGRlcHJlY2F0ZWRcbiAgICAgICAgaWYgKGVuZ2luZS5yZW5kZXIgJiYgZW5naW5lLnJlbmRlci5jb250cm9sbGVyKSB7XG4gICAgICAgICAgICBlbmdpbmUucmVuZGVyID0gZW5naW5lLnJlbmRlci5jb250cm9sbGVyLmNyZWF0ZShlbmdpbmUucmVuZGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEBkZXByZWNhdGVkXG4gICAgICAgIGlmIChlbmdpbmUucmVuZGVyKSB7XG4gICAgICAgICAgICBlbmdpbmUucmVuZGVyLmVuZ2luZSA9IGVuZ2luZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVuZ2luZS53b3JsZCA9IG9wdGlvbnMud29ybGQgfHwgV29ybGQuY3JlYXRlKGVuZ2luZS53b3JsZCk7XG4gICAgICAgIGVuZ2luZS5wYWlycyA9IFBhaXJzLmNyZWF0ZSgpO1xuICAgICAgICBlbmdpbmUuYnJvYWRwaGFzZSA9IGVuZ2luZS5icm9hZHBoYXNlLmNvbnRyb2xsZXIuY3JlYXRlKGVuZ2luZS5icm9hZHBoYXNlKTtcbiAgICAgICAgZW5naW5lLm1ldHJpY3MgPSBlbmdpbmUubWV0cmljcyB8fCB7IGV4dGVuZGVkOiBmYWxzZSB9O1xuXG5cbiAgICAgICAgcmV0dXJuIGVuZ2luZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogTW92ZXMgdGhlIHNpbXVsYXRpb24gZm9yd2FyZCBpbiB0aW1lIGJ5IGBkZWx0YWAgbXMuXG4gICAgICogVGhlIGBjb3JyZWN0aW9uYCBhcmd1bWVudCBpcyBhbiBvcHRpb25hbCBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgdGltZSBjb3JyZWN0aW9uIGZhY3RvciB0byBhcHBseSB0byB0aGUgdXBkYXRlLlxuICAgICAqIFRoaXMgY2FuIGhlbHAgaW1wcm92ZSB0aGUgYWNjdXJhY3kgb2YgdGhlIHNpbXVsYXRpb24gaW4gY2FzZXMgd2hlcmUgYGRlbHRhYCBpcyBjaGFuZ2luZyBiZXR3ZWVuIHVwZGF0ZXMuXG4gICAgICogVGhlIHZhbHVlIG9mIGBjb3JyZWN0aW9uYCBpcyBkZWZpbmVkIGFzIGBkZWx0YSAvIGxhc3REZWx0YWAsIGkuZS4gdGhlIHBlcmNlbnRhZ2UgY2hhbmdlIG9mIGBkZWx0YWAgb3ZlciB0aGUgbGFzdCBzdGVwLlxuICAgICAqIFRoZXJlZm9yZSB0aGUgdmFsdWUgaXMgYWx3YXlzIGAxYCAobm8gY29ycmVjdGlvbikgd2hlbiBgZGVsdGFgIGNvbnN0YW50IChvciB3aGVuIG5vIGNvcnJlY3Rpb24gaXMgZGVzaXJlZCwgd2hpY2ggaXMgdGhlIGRlZmF1bHQpLlxuICAgICAqIFNlZSB0aGUgcGFwZXIgb24gPGEgaHJlZj1cImh0dHA6Ly9sb25lc29jay5uZXQvYXJ0aWNsZS92ZXJsZXQuaHRtbFwiPlRpbWUgQ29ycmVjdGVkIFZlcmxldDwvYT4gZm9yIG1vcmUgaW5mb3JtYXRpb24uXG4gICAgICpcbiAgICAgKiBUcmlnZ2VycyBgYmVmb3JlVXBkYXRlYCBhbmQgYGFmdGVyVXBkYXRlYCBldmVudHMuXG4gICAgICogVHJpZ2dlcnMgYGNvbGxpc2lvblN0YXJ0YCwgYGNvbGxpc2lvbkFjdGl2ZWAgYW5kIGBjb2xsaXNpb25FbmRgIGV2ZW50cy5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlbHRhPTE2LjY2Nl1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2NvcnJlY3Rpb249MV1cbiAgICAgKi9cbiAgICBFbmdpbmUudXBkYXRlID0gZnVuY3Rpb24oZW5naW5lLCBkZWx0YSwgY29ycmVjdGlvbikge1xuICAgICAgICBkZWx0YSA9IGRlbHRhIHx8IDEwMDAgLyA2MDtcbiAgICAgICAgY29ycmVjdGlvbiA9IGNvcnJlY3Rpb24gfHwgMTtcblxuICAgICAgICB2YXIgd29ybGQgPSBlbmdpbmUud29ybGQsXG4gICAgICAgICAgICB0aW1pbmcgPSBlbmdpbmUudGltaW5nLFxuICAgICAgICAgICAgYnJvYWRwaGFzZSA9IGVuZ2luZS5icm9hZHBoYXNlLFxuICAgICAgICAgICAgYnJvYWRwaGFzZVBhaXJzID0gW10sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIC8vIGluY3JlbWVudCB0aW1lc3RhbXBcbiAgICAgICAgdGltaW5nLnRpbWVzdGFtcCArPSBkZWx0YSAqIHRpbWluZy50aW1lU2NhbGU7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuIGV2ZW50IG9iamVjdFxuICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWluZy50aW1lc3RhbXBcbiAgICAgICAgfTtcblxuICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdiZWZvcmVVcGRhdGUnLCBldmVudCk7XG5cbiAgICAgICAgLy8gZ2V0IGxpc3RzIG9mIGFsbCBib2RpZXMgYW5kIGNvbnN0cmFpbnRzLCBubyBtYXR0ZXIgd2hhdCBjb21wb3NpdGVzIHRoZXkgYXJlIGluXG4gICAgICAgIHZhciBhbGxCb2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSxcbiAgICAgICAgICAgIGFsbENvbnN0cmFpbnRzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKHdvcmxkKTtcblxuXG4gICAgICAgIC8vIGlmIHNsZWVwaW5nIGVuYWJsZWQsIGNhbGwgdGhlIHNsZWVwaW5nIGNvbnRyb2xsZXJcbiAgICAgICAgaWYgKGVuZ2luZS5lbmFibGVTbGVlcGluZylcbiAgICAgICAgICAgIFNsZWVwaW5nLnVwZGF0ZShhbGxCb2RpZXMsIHRpbWluZy50aW1lU2NhbGUpO1xuXG4gICAgICAgIC8vIGFwcGxpZXMgZ3Jhdml0eSB0byBhbGwgYm9kaWVzXG4gICAgICAgIEVuZ2luZS5fYm9kaWVzQXBwbHlHcmF2aXR5KGFsbEJvZGllcywgd29ybGQuZ3Jhdml0eSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGFsbCBib2R5IHBvc2l0aW9uIGFuZCByb3RhdGlvbiBieSBpbnRlZ3JhdGlvblxuICAgICAgICBFbmdpbmUuX2JvZGllc1VwZGF0ZShhbGxCb2RpZXMsIGRlbHRhLCB0aW1pbmcudGltZVNjYWxlLCBjb3JyZWN0aW9uLCB3b3JsZC5ib3VuZHMpO1xuXG4gICAgICAgIC8vIHVwZGF0ZSBhbGwgY29uc3RyYWludHMgKGZpcnN0IHBhc3MpXG4gICAgICAgIENvbnN0cmFpbnQucHJlU29sdmVBbGwoYWxsQm9kaWVzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZ2luZS5jb25zdHJhaW50SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlQWxsKGFsbENvbnN0cmFpbnRzLCB0aW1pbmcudGltZVNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJhaW50LnBvc3RTb2x2ZUFsbChhbGxCb2RpZXMpO1xuXG4gICAgICAgIC8vIGJyb2FkcGhhc2UgcGFzczogZmluZCBwb3RlbnRpYWwgY29sbGlzaW9uIHBhaXJzXG4gICAgICAgIGlmIChicm9hZHBoYXNlLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIC8vIGlmIHdvcmxkIGlzIGRpcnR5LCB3ZSBtdXN0IGZsdXNoIHRoZSB3aG9sZSBncmlkXG4gICAgICAgICAgICBpZiAod29ybGQuaXNNb2RpZmllZClcbiAgICAgICAgICAgICAgICBicm9hZHBoYXNlLmNvbnRyb2xsZXIuY2xlYXIoYnJvYWRwaGFzZSk7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgZ3JpZCBidWNrZXRzIGJhc2VkIG9uIGN1cnJlbnQgYm9kaWVzXG4gICAgICAgICAgICBicm9hZHBoYXNlLmNvbnRyb2xsZXIudXBkYXRlKGJyb2FkcGhhc2UsIGFsbEJvZGllcywgZW5naW5lLCB3b3JsZC5pc01vZGlmaWVkKTtcbiAgICAgICAgICAgIGJyb2FkcGhhc2VQYWlycyA9IGJyb2FkcGhhc2UucGFpcnNMaXN0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gaWYgbm8gYnJvYWRwaGFzZSBzZXQsIHdlIGp1c3QgcGFzcyBhbGwgYm9kaWVzXG4gICAgICAgICAgICBicm9hZHBoYXNlUGFpcnMgPSBhbGxCb2RpZXM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBhbGwgY29tcG9zaXRlIG1vZGlmaWVkIGZsYWdzXG4gICAgICAgIGlmICh3b3JsZC5pc01vZGlmaWVkKSB7XG4gICAgICAgICAgICBDb21wb3NpdGUuc2V0TW9kaWZpZWQod29ybGQsIGZhbHNlLCBmYWxzZSwgdHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBuYXJyb3dwaGFzZSBwYXNzOiBmaW5kIGFjdHVhbCBjb2xsaXNpb25zLCB0aGVuIGNyZWF0ZSBvciB1cGRhdGUgY29sbGlzaW9uIHBhaXJzXG4gICAgICAgIHZhciBjb2xsaXNpb25zID0gYnJvYWRwaGFzZS5kZXRlY3Rvcihicm9hZHBoYXNlUGFpcnMsIGVuZ2luZSk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGNvbGxpc2lvbiBwYWlyc1xuICAgICAgICB2YXIgcGFpcnMgPSBlbmdpbmUucGFpcnMsXG4gICAgICAgICAgICB0aW1lc3RhbXAgPSB0aW1pbmcudGltZXN0YW1wO1xuICAgICAgICBQYWlycy51cGRhdGUocGFpcnMsIGNvbGxpc2lvbnMsIHRpbWVzdGFtcCk7XG4gICAgICAgIFBhaXJzLnJlbW92ZU9sZChwYWlycywgdGltZXN0YW1wKTtcblxuICAgICAgICAvLyB3YWtlIHVwIGJvZGllcyBpbnZvbHZlZCBpbiBjb2xsaXNpb25zXG4gICAgICAgIGlmIChlbmdpbmUuZW5hYmxlU2xlZXBpbmcpXG4gICAgICAgICAgICBTbGVlcGluZy5hZnRlckNvbGxpc2lvbnMocGFpcnMubGlzdCwgdGltaW5nLnRpbWVTY2FsZSk7XG5cbiAgICAgICAgLy8gdHJpZ2dlciBjb2xsaXNpb24gZXZlbnRzXG4gICAgICAgIGlmIChwYWlycy5jb2xsaXNpb25TdGFydC5sZW5ndGggPiAwKVxuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnY29sbGlzaW9uU3RhcnQnLCB7IHBhaXJzOiBwYWlycy5jb2xsaXNpb25TdGFydCB9KTtcblxuICAgICAgICAvLyBpdGVyYXRpdmVseSByZXNvbHZlIHBvc2l0aW9uIGJldHdlZW4gY29sbGlzaW9uc1xuICAgICAgICBSZXNvbHZlci5wcmVTb2x2ZVBvc2l0aW9uKHBhaXJzLmxpc3QpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZW5naW5lLnBvc2l0aW9uSXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBSZXNvbHZlci5zb2x2ZVBvc2l0aW9uKHBhaXJzLmxpc3QsIHRpbWluZy50aW1lU2NhbGUpO1xuICAgICAgICB9XG4gICAgICAgIFJlc29sdmVyLnBvc3RTb2x2ZVBvc2l0aW9uKGFsbEJvZGllcyk7XG5cbiAgICAgICAgLy8gdXBkYXRlIGFsbCBjb25zdHJhaW50cyAoc2Vjb25kIHBhc3MpXG4gICAgICAgIENvbnN0cmFpbnQucHJlU29sdmVBbGwoYWxsQm9kaWVzKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGVuZ2luZS5jb25zdHJhaW50SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICBDb25zdHJhaW50LnNvbHZlQWxsKGFsbENvbnN0cmFpbnRzLCB0aW1pbmcudGltZVNjYWxlKTtcbiAgICAgICAgfVxuICAgICAgICBDb25zdHJhaW50LnBvc3RTb2x2ZUFsbChhbGxCb2RpZXMpO1xuXG4gICAgICAgIC8vIGl0ZXJhdGl2ZWx5IHJlc29sdmUgdmVsb2NpdHkgYmV0d2VlbiBjb2xsaXNpb25zXG4gICAgICAgIFJlc29sdmVyLnByZVNvbHZlVmVsb2NpdHkocGFpcnMubGlzdCk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBlbmdpbmUudmVsb2NpdHlJdGVyYXRpb25zOyBpKyspIHtcbiAgICAgICAgICAgIFJlc29sdmVyLnNvbHZlVmVsb2NpdHkocGFpcnMubGlzdCwgdGltaW5nLnRpbWVTY2FsZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0cmlnZ2VyIGNvbGxpc2lvbiBldmVudHNcbiAgICAgICAgaWYgKHBhaXJzLmNvbGxpc2lvbkFjdGl2ZS5sZW5ndGggPiAwKVxuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnY29sbGlzaW9uQWN0aXZlJywgeyBwYWlyczogcGFpcnMuY29sbGlzaW9uQWN0aXZlIH0pO1xuXG4gICAgICAgIGlmIChwYWlycy5jb2xsaXNpb25FbmQubGVuZ3RoID4gMClcbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2NvbGxpc2lvbkVuZCcsIHsgcGFpcnM6IHBhaXJzLmNvbGxpc2lvbkVuZCB9KTtcblxuXG4gICAgICAgIC8vIGNsZWFyIGZvcmNlIGJ1ZmZlcnNcbiAgICAgICAgRW5naW5lLl9ib2RpZXNDbGVhckZvcmNlcyhhbGxCb2RpZXMpO1xuXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2FmdGVyVXBkYXRlJywgZXZlbnQpO1xuXG4gICAgICAgIHJldHVybiBlbmdpbmU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdHdvIGVuZ2luZXMgYnkga2VlcGluZyB0aGUgY29uZmlndXJhdGlvbiBvZiBgZW5naW5lQWAgYnV0IHJlcGxhY2luZyB0aGUgd29ybGQgd2l0aCB0aGUgb25lIGZyb20gYGVuZ2luZUJgLlxuICAgICAqIEBtZXRob2QgbWVyZ2VcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lQVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVCXG4gICAgICovXG4gICAgRW5naW5lLm1lcmdlID0gZnVuY3Rpb24oZW5naW5lQSwgZW5naW5lQikge1xuICAgICAgICBDb21tb24uZXh0ZW5kKGVuZ2luZUEsIGVuZ2luZUIpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVuZ2luZUIud29ybGQpIHtcbiAgICAgICAgICAgIGVuZ2luZUEud29ybGQgPSBlbmdpbmVCLndvcmxkO1xuXG4gICAgICAgICAgICBFbmdpbmUuY2xlYXIoZW5naW5lQSk7XG5cbiAgICAgICAgICAgIHZhciBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKGVuZ2luZUEud29ybGQpO1xuXG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYm9keS5pZCA9IENvbW1vbi5uZXh0SWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgdGhlIGVuZ2luZSBpbmNsdWRpbmcgdGhlIHdvcmxkLCBwYWlycyBhbmQgYnJvYWRwaGFzZS5cbiAgICAgKiBAbWV0aG9kIGNsZWFyXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqL1xuICAgIEVuZ2luZS5jbGVhciA9IGZ1bmN0aW9uKGVuZ2luZSkge1xuICAgICAgICB2YXIgd29ybGQgPSBlbmdpbmUud29ybGQ7XG4gICAgICAgIFxuICAgICAgICBQYWlycy5jbGVhcihlbmdpbmUucGFpcnMpO1xuXG4gICAgICAgIHZhciBicm9hZHBoYXNlID0gZW5naW5lLmJyb2FkcGhhc2U7XG4gICAgICAgIGlmIChicm9hZHBoYXNlLmNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHZhciBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKTtcbiAgICAgICAgICAgIGJyb2FkcGhhc2UuY29udHJvbGxlci5jbGVhcihicm9hZHBoYXNlKTtcbiAgICAgICAgICAgIGJyb2FkcGhhc2UuY29udHJvbGxlci51cGRhdGUoYnJvYWRwaGFzZSwgYm9kaWVzLCBlbmdpbmUsIHRydWUpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFplcm9lcyB0aGUgYGJvZHkuZm9yY2VgIGFuZCBgYm9keS50b3JxdWVgIGZvcmNlIGJ1ZmZlcnMuXG4gICAgICogQG1ldGhvZCBfYm9kaWVzQ2xlYXJGb3JjZXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKi9cbiAgICBFbmdpbmUuX2JvZGllc0NsZWFyRm9yY2VzID0gZnVuY3Rpb24oYm9kaWVzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgLy8gcmVzZXQgZm9yY2UgYnVmZmVyc1xuICAgICAgICAgICAgYm9keS5mb3JjZS54ID0gMDtcbiAgICAgICAgICAgIGJvZHkuZm9yY2UueSA9IDA7XG4gICAgICAgICAgICBib2R5LnRvcnF1ZSA9IDA7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbHlzIGEgbWFzcyBkZXBlbmRhbnQgZm9yY2UgdG8gYWxsIGdpdmVuIGJvZGllcy5cbiAgICAgKiBAbWV0aG9kIF9ib2RpZXNBcHBseUdyYXZpdHlcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gZ3Jhdml0eVxuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzQXBwbHlHcmF2aXR5ID0gZnVuY3Rpb24oYm9kaWVzLCBncmF2aXR5KSB7XG4gICAgICAgIHZhciBncmF2aXR5U2NhbGUgPSB0eXBlb2YgZ3Jhdml0eS5zY2FsZSAhPT0gJ3VuZGVmaW5lZCcgPyBncmF2aXR5LnNjYWxlIDogMC4wMDE7XG5cbiAgICAgICAgaWYgKChncmF2aXR5LnggPT09IDAgJiYgZ3Jhdml0eS55ID09PSAwKSB8fCBncmF2aXR5U2NhbGUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1N0YXRpYyB8fCBib2R5LmlzU2xlZXBpbmcpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGFwcGx5IGdyYXZpdHlcbiAgICAgICAgICAgIGJvZHkuZm9yY2UueSArPSBib2R5Lm1hc3MgKiBncmF2aXR5LnkgKiBncmF2aXR5U2NhbGU7XG4gICAgICAgICAgICBib2R5LmZvcmNlLnggKz0gYm9keS5tYXNzICogZ3Jhdml0eS54ICogZ3Jhdml0eVNjYWxlO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGx5cyBgQm9keS51cGRhdGVgIHRvIGFsbCBnaXZlbiBgYm9kaWVzYC5cbiAgICAgKiBAbWV0aG9kIF9ib2RpZXNVcGRhdGVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZGVsdGFUaW1lIFxuICAgICAqIFRoZSBhbW91bnQgb2YgdGltZSBlbGFwc2VkIGJldHdlZW4gdXBkYXRlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lU2NhbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29ycmVjdGlvbiBcbiAgICAgKiBUaGUgVmVybGV0IGNvcnJlY3Rpb24gZmFjdG9yIChkZWx0YVRpbWUgLyBsYXN0RGVsdGFUaW1lKVxuICAgICAqIEBwYXJhbSB7Ym91bmRzfSB3b3JsZEJvdW5kc1xuICAgICAqL1xuICAgIEVuZ2luZS5fYm9kaWVzVXBkYXRlID0gZnVuY3Rpb24oYm9kaWVzLCBkZWx0YVRpbWUsIHRpbWVTY2FsZSwgY29ycmVjdGlvbiwgd29ybGRCb3VuZHMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoYm9keS5pc1N0YXRpYyB8fCBib2R5LmlzU2xlZXBpbmcpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIEJvZHkudXBkYXRlKGJvZHksIGRlbHRhVGltZSwgdGltZVNjYWxlLCBjb3JyZWN0aW9uKTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBbiBhbGlhcyBmb3IgYFJ1bm5lci5ydW5gLCBzZWUgYE1hdHRlci5SdW5uZXJgIGZvciBtb3JlIGluZm9ybWF0aW9uLlxuICAgICAqIEBtZXRob2QgcnVuXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBqdXN0IGJlZm9yZSBhbiB1cGRhdGVcbiAgICAqXG4gICAgKiBAZXZlbnQgYmVmb3JlVXBkYXRlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhZnRlciBlbmdpbmUgdXBkYXRlIGFuZCBhbGwgY29sbGlzaW9uIGV2ZW50c1xuICAgICpcbiAgICAqIEBldmVudCBhZnRlclVwZGF0ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgZW5naW5lIHVwZGF0ZSwgcHJvdmlkZXMgYSBsaXN0IG9mIGFsbCBwYWlycyB0aGF0IGhhdmUgc3RhcnRlZCB0byBjb2xsaWRlIGluIHRoZSBjdXJyZW50IHRpY2sgKGlmIGFueSlcbiAgICAqXG4gICAgKiBAZXZlbnQgY29sbGlzaW9uU3RhcnRcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7fSBldmVudC5wYWlycyBMaXN0IG9mIGFmZmVjdGVkIHBhaXJzXG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhZnRlciBlbmdpbmUgdXBkYXRlLCBwcm92aWRlcyBhIGxpc3Qgb2YgYWxsIHBhaXJzIHRoYXQgYXJlIGNvbGxpZGluZyBpbiB0aGUgY3VycmVudCB0aWNrIChpZiBhbnkpXG4gICAgKlxuICAgICogQGV2ZW50IGNvbGxpc2lvbkFjdGl2ZVxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnBhaXJzIExpc3Qgb2YgYWZmZWN0ZWQgcGFpcnNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIGVuZ2luZSB1cGRhdGUsIHByb3ZpZGVzIGEgbGlzdCBvZiBhbGwgcGFpcnMgdGhhdCBoYXZlIGVuZGVkIGNvbGxpc2lvbiBpbiB0aGUgY3VycmVudCB0aWNrIChpZiBhbnkpXG4gICAgKlxuICAgICogQGV2ZW50IGNvbGxpc2lvbkVuZFxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnBhaXJzIExpc3Qgb2YgYWZmZWN0ZWQgcGFpcnNcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKlxuICAgICpcbiAgICAqICBQcm9wZXJ0aWVzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiBwb3NpdGlvbiBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBvc2l0aW9uSXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDZcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiB2ZWxvY2l0eSBpdGVyYXRpb25zIHRvIHBlcmZvcm0gZWFjaCB1cGRhdGUuXG4gICAgICogVGhlIGhpZ2hlciB0aGUgdmFsdWUsIHRoZSBoaWdoZXIgcXVhbGl0eSB0aGUgc2ltdWxhdGlvbiB3aWxsIGJlIGF0IHRoZSBleHBlbnNlIG9mIHBlcmZvcm1hbmNlLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHZlbG9jaXR5SXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDRcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEFuIGludGVnZXIgYE51bWJlcmAgdGhhdCBzcGVjaWZpZXMgdGhlIG51bWJlciBvZiBjb25zdHJhaW50IGl0ZXJhdGlvbnMgdG8gcGVyZm9ybSBlYWNoIHVwZGF0ZS5cbiAgICAgKiBUaGUgaGlnaGVyIHRoZSB2YWx1ZSwgdGhlIGhpZ2hlciBxdWFsaXR5IHRoZSBzaW11bGF0aW9uIHdpbGwgYmUgYXQgdGhlIGV4cGVuc2Ugb2YgcGVyZm9ybWFuY2UuXG4gICAgICogVGhlIGRlZmF1bHQgdmFsdWUgb2YgYDJgIGlzIHVzdWFsbHkgdmVyeSBhZGVxdWF0ZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb25zdHJhaW50SXRlcmF0aW9uc1xuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDJcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgZmxhZyB0aGF0IHNwZWNpZmllcyB3aGV0aGVyIHRoZSBlbmdpbmUgc2hvdWxkIGFsbG93IHNsZWVwaW5nIHZpYSB0aGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlLlxuICAgICAqIFNsZWVwaW5nIGNhbiBpbXByb3ZlIHN0YWJpbGl0eSBhbmQgcGVyZm9ybWFuY2UsIGJ1dCBvZnRlbiBhdCB0aGUgZXhwZW5zZSBvZiBhY2N1cmFjeS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmFibGVTbGVlcGluZ1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gYE9iamVjdGAgY29udGFpbmluZyBwcm9wZXJ0aWVzIHJlZ2FyZGluZyB0aGUgdGltaW5nIHN5c3RlbXMgb2YgdGhlIGVuZ2luZS4gXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGltaW5nXG4gICAgICogQHR5cGUgb2JqZWN0XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSBnbG9iYWwgc2NhbGluZyBmYWN0b3Igb2YgdGltZSBmb3IgYWxsIGJvZGllcy5cbiAgICAgKiBBIHZhbHVlIG9mIGAwYCBmcmVlemVzIHRoZSBzaW11bGF0aW9uLlxuICAgICAqIEEgdmFsdWUgb2YgYDAuMWAgZ2l2ZXMgYSBzbG93LW1vdGlvbiBlZmZlY3QuXG4gICAgICogQSB2YWx1ZSBvZiBgMS4yYCBnaXZlcyBhIHNwZWVkLXVwIGVmZmVjdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSB0aW1pbmcudGltZVNjYWxlXG4gICAgICogQHR5cGUgbnVtYmVyXG4gICAgICogQGRlZmF1bHQgMVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgTnVtYmVyYCB0aGF0IHNwZWNpZmllcyB0aGUgY3VycmVudCBzaW11bGF0aW9uLXRpbWUgaW4gbWlsbGlzZWNvbmRzIHN0YXJ0aW5nIGZyb20gYDBgLiBcbiAgICAgKiBJdCBpcyBpbmNyZW1lbnRlZCBvbiBldmVyeSBgRW5naW5lLnVwZGF0ZWAgYnkgdGhlIGdpdmVuIGBkZWx0YWAgYXJndW1lbnQuIFxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHRpbWluZy50aW1lc3RhbXBcbiAgICAgKiBAdHlwZSBudW1iZXJcbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnN0YW5jZSBvZiBhIGBSZW5kZXJgIGNvbnRyb2xsZXIuIFRoZSBkZWZhdWx0IHZhbHVlIGlzIGEgYE1hdHRlci5SZW5kZXJgIGluc3RhbmNlIGNyZWF0ZWQgYnkgYEVuZ2luZS5jcmVhdGVgLlxuICAgICAqIE9uZSBtYXkgYWxzbyBkZXZlbG9wIGEgY3VzdG9tIHJlbmRlcmVyIG1vZHVsZSBiYXNlZCBvbiBgTWF0dGVyLlJlbmRlcmAgYW5kIHBhc3MgYW4gaW5zdGFuY2Ugb2YgaXQgdG8gYEVuZ2luZS5jcmVhdGVgIHZpYSBgb3B0aW9ucy5yZW5kZXJgLlxuICAgICAqXG4gICAgICogQSBtaW5pbWFsIGN1c3RvbSByZW5kZXJlciBvYmplY3QgbXVzdCBkZWZpbmUgYXQgbGVhc3QgdGhyZWUgZnVuY3Rpb25zOiBgY3JlYXRlYCwgYGNsZWFyYCBhbmQgYHdvcmxkYCAoc2VlIGBNYXR0ZXIuUmVuZGVyYCkuXG4gICAgICogSXQgaXMgYWxzbyBwb3NzaWJsZSB0byBpbnN0ZWFkIHBhc3MgdGhlIF9tb2R1bGVfIHJlZmVyZW5jZSB2aWEgYG9wdGlvbnMucmVuZGVyLmNvbnRyb2xsZXJgIGFuZCBgRW5naW5lLmNyZWF0ZWAgd2lsbCBpbnN0YW50aWF0ZSBvbmUgZm9yIHlvdS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSByZW5kZXJcbiAgICAgKiBAdHlwZSByZW5kZXJcbiAgICAgKiBAZGVwcmVjYXRlZCBzZWUgRGVtby5qcyBmb3IgYW4gZXhhbXBsZSBvZiBjcmVhdGluZyBhIHJlbmRlcmVyXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuUmVuZGVyIGluc3RhbmNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBbiBpbnN0YW5jZSBvZiBhIGJyb2FkcGhhc2UgY29udHJvbGxlci4gVGhlIGRlZmF1bHQgdmFsdWUgaXMgYSBgTWF0dGVyLkdyaWRgIGluc3RhbmNlIGNyZWF0ZWQgYnkgYEVuZ2luZS5jcmVhdGVgLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGJyb2FkcGhhc2VcbiAgICAgKiBAdHlwZSBncmlkXG4gICAgICogQGRlZmF1bHQgYSBNYXR0ZXIuR3JpZCBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgV29ybGRgIGNvbXBvc2l0ZSBvYmplY3QgdGhhdCB3aWxsIGNvbnRhaW4gYWxsIHNpbXVsYXRlZCBib2RpZXMgYW5kIGNvbnN0cmFpbnRzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHdvcmxkXG4gICAgICogQHR5cGUgd29ybGRcbiAgICAgKiBAZGVmYXVsdCBhIE1hdHRlci5Xb3JsZCBpbnN0YW5jZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQW4gb2JqZWN0IHJlc2VydmVkIGZvciBzdG9yaW5nIHBsdWdpbi1zcGVjaWZpYyBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IHBsdWdpblxuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbn0pKCk7XG5cbn0se1wiLi4vYm9keS9Cb2R5XCI6MSxcIi4uL2JvZHkvQ29tcG9zaXRlXCI6MixcIi4uL2JvZHkvV29ybGRcIjozLFwiLi4vY29sbGlzaW9uL0dyaWRcIjo2LFwiLi4vY29sbGlzaW9uL1BhaXJzXCI6OCxcIi4uL2NvbGxpc2lvbi9SZXNvbHZlclwiOjEwLFwiLi4vY29uc3RyYWludC9Db25zdHJhaW50XCI6MTIsXCIuLi9yZW5kZXIvUmVuZGVyXCI6MzEsXCIuL0NvbW1vblwiOjE0LFwiLi9FdmVudHNcIjoxNixcIi4vTWV0cmljc1wiOjE4LFwiLi9TbGVlcGluZ1wiOjIyfV0sMTY6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4qIFRoZSBgTWF0dGVyLkV2ZW50c2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgdG8gZmlyZSBhbmQgbGlzdGVuIHRvIGV2ZW50cyBvbiBvdGhlciBvYmplY3RzLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgRXZlbnRzXG4qL1xuXG52YXIgRXZlbnRzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRzO1xuXG52YXIgQ29tbW9uID0gX2RlcmVxXygnLi9Db21tb24nKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyBhIGNhbGxiYWNrIGZ1bmN0aW9uIHRvIHRoZSBnaXZlbiBvYmplY3QncyBgZXZlbnROYW1lYC5cbiAgICAgKiBAbWV0aG9kIG9uXG4gICAgICogQHBhcmFtIHt9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBFdmVudHMub24gPSBmdW5jdGlvbihvYmplY3QsIGV2ZW50TmFtZXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBuYW1lcyA9IGV2ZW50TmFtZXMuc3BsaXQoJyAnKSxcbiAgICAgICAgICAgIG5hbWU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgbmFtZSA9IG5hbWVzW2ldO1xuICAgICAgICAgICAgb2JqZWN0LmV2ZW50cyA9IG9iamVjdC5ldmVudHMgfHwge307XG4gICAgICAgICAgICBvYmplY3QuZXZlbnRzW25hbWVdID0gb2JqZWN0LmV2ZW50c1tuYW1lXSB8fCBbXTtcbiAgICAgICAgICAgIG9iamVjdC5ldmVudHNbbmFtZV0ucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY2FsbGJhY2s7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIGV2ZW50IGNhbGxiYWNrLiBJZiBubyBjYWxsYmFjaywgY2xlYXJzIGFsbCBjYWxsYmFja3MgaW4gYGV2ZW50TmFtZXNgLiBJZiBubyBgZXZlbnROYW1lc2AsIGNsZWFycyBhbGwgZXZlbnRzLlxuICAgICAqIEBtZXRob2Qgb2ZmXG4gICAgICogQHBhcmFtIHt9IG9iamVjdFxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBldmVudE5hbWVzXG4gICAgICogQHBhcmFtIHtmdW5jdGlvbn0gY2FsbGJhY2tcbiAgICAgKi9cbiAgICBFdmVudHMub2ZmID0gZnVuY3Rpb24ob2JqZWN0LCBldmVudE5hbWVzLCBjYWxsYmFjaykge1xuICAgICAgICBpZiAoIWV2ZW50TmFtZXMpIHtcbiAgICAgICAgICAgIG9iamVjdC5ldmVudHMgPSB7fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBFdmVudHMub2ZmKG9iamVjdCwgY2FsbGJhY2spXG4gICAgICAgIGlmICh0eXBlb2YgZXZlbnROYW1lcyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBldmVudE5hbWVzO1xuICAgICAgICAgICAgZXZlbnROYW1lcyA9IENvbW1vbi5rZXlzKG9iamVjdC5ldmVudHMpLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBuYW1lcyA9IGV2ZW50TmFtZXMuc3BsaXQoJyAnKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5hbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgY2FsbGJhY2tzID0gb2JqZWN0LmV2ZW50c1tuYW1lc1tpXV0sXG4gICAgICAgICAgICAgICAgbmV3Q2FsbGJhY2tzID0gW107XG5cbiAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBjYWxsYmFja3MpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNhbGxiYWNrcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2tzW2pdICE9PSBjYWxsYmFjaylcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ld0NhbGxiYWNrcy5wdXNoKGNhbGxiYWNrc1tqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBvYmplY3QuZXZlbnRzW25hbWVzW2ldXSA9IG5ld0NhbGxiYWNrcztcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaXJlcyBhbGwgdGhlIGNhbGxiYWNrcyBzdWJzY3JpYmVkIHRvIHRoZSBnaXZlbiBvYmplY3QncyBgZXZlbnROYW1lYCwgaW4gdGhlIG9yZGVyIHRoZXkgc3Vic2NyaWJlZCwgaWYgYW55LlxuICAgICAqIEBtZXRob2QgdHJpZ2dlclxuICAgICAqIEBwYXJhbSB7fSBvYmplY3RcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gZXZlbnROYW1lc1xuICAgICAqIEBwYXJhbSB7fSBldmVudFxuICAgICAqL1xuICAgIEV2ZW50cy50cmlnZ2VyID0gZnVuY3Rpb24ob2JqZWN0LCBldmVudE5hbWVzLCBldmVudCkge1xuICAgICAgICB2YXIgbmFtZXMsXG4gICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgY2FsbGJhY2tzLFxuICAgICAgICAgICAgZXZlbnRDbG9uZTtcblxuICAgICAgICBpZiAob2JqZWN0LmV2ZW50cykge1xuICAgICAgICAgICAgaWYgKCFldmVudClcbiAgICAgICAgICAgICAgICBldmVudCA9IHt9O1xuXG4gICAgICAgICAgICBuYW1lcyA9IGV2ZW50TmFtZXMuc3BsaXQoJyAnKTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuYW1lcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBjYWxsYmFja3MgPSBvYmplY3QuZXZlbnRzW25hbWVdO1xuXG4gICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrcykge1xuICAgICAgICAgICAgICAgICAgICBldmVudENsb25lID0gQ29tbW9uLmNsb25lKGV2ZW50LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2xvbmUubmFtZSA9IG5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50Q2xvbmUuc291cmNlID0gb2JqZWN0O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgY2FsbGJhY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFja3Nbal0uYXBwbHkob2JqZWN0LCBbZXZlbnRDbG9uZV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxufSx7XCIuL0NvbW1vblwiOjE0fV0sMTc6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4qIFRoZSBgTWF0dGVyYCBtb2R1bGUgaXMgdGhlIHRvcCBsZXZlbCBuYW1lc3BhY2UuIEl0IGFsc28gaW5jbHVkZXMgYSBmdW5jdGlvbiBmb3IgaW5zdGFsbGluZyBwbHVnaW5zIG9uIHRvcCBvZiB0aGUgbGlicmFyeS5cbipcbiogQGNsYXNzIE1hdHRlclxuKi9cblxudmFyIE1hdHRlciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hdHRlcjtcblxudmFyIFBsdWdpbiA9IF9kZXJlcV8oJy4vUGx1Z2luJyk7XG52YXIgQ29tbW9uID0gX2RlcmVxXygnLi9Db21tb24nKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogVGhlIGxpYnJhcnkgbmFtZS5cbiAgICAgKiBAcHJvcGVydHkgbmFtZVxuICAgICAqIEByZWFkT25seVxuICAgICAqIEB0eXBlIHtTdHJpbmd9XG4gICAgICovXG4gICAgTWF0dGVyLm5hbWUgPSAnbWF0dGVyLWpzJztcblxuICAgIC8qKlxuICAgICAqIFRoZSBsaWJyYXJ5IHZlcnNpb24uXG4gICAgICogQHByb3BlcnR5IHZlcnNpb25cbiAgICAgKiBAcmVhZE9ubHlcbiAgICAgKiBAdHlwZSB7U3RyaW5nfVxuICAgICAqL1xuICAgIE1hdHRlci52ZXJzaW9uID0gJzAuMTQuMic7XG5cbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgcGx1Z2luIGRlcGVuZGVuY2llcyB0byBiZSBpbnN0YWxsZWQuIFRoZXNlIGFyZSBub3JtYWxseSBzZXQgYW5kIGluc3RhbGxlZCB0aHJvdWdoIGBNYXR0ZXIudXNlYC5cbiAgICAgKiBBbHRlcm5hdGl2ZWx5IHlvdSBtYXkgc2V0IGBNYXR0ZXIudXNlc2AgbWFudWFsbHkgYW5kIGluc3RhbGwgdGhlbSBieSBjYWxsaW5nIGBQbHVnaW4udXNlKE1hdHRlcilgLlxuICAgICAqIEBwcm9wZXJ0eSB1c2VzXG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIE1hdHRlci51c2VzID0gW107XG5cbiAgICAvKipcbiAgICAgKiBUaGUgcGx1Z2lucyB0aGF0IGhhdmUgYmVlbiBpbnN0YWxsZWQgdGhyb3VnaCBgTWF0dGVyLlBsdWdpbi5pbnN0YWxsYC4gUmVhZCBvbmx5LlxuICAgICAqIEBwcm9wZXJ0eSB1c2VkXG4gICAgICogQHJlYWRPbmx5XG4gICAgICogQHR5cGUge0FycmF5fVxuICAgICAqL1xuICAgIE1hdHRlci51c2VkID0gW107XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YWxscyB0aGUgZ2l2ZW4gcGx1Z2lucyBvbiB0aGUgYE1hdHRlcmAgbmFtZXNwYWNlLlxuICAgICAqIFRoaXMgaXMgYSBzaG9ydC1oYW5kIGZvciBgUGx1Z2luLnVzZWAsIHNlZSBpdCBmb3IgbW9yZSBpbmZvcm1hdGlvbi5cbiAgICAgKiBDYWxsIHRoaXMgZnVuY3Rpb24gb25jZSBhdCB0aGUgc3RhcnQgb2YgeW91ciBjb2RlLCB3aXRoIGFsbCBvZiB0aGUgcGx1Z2lucyB5b3Ugd2lzaCB0byBpbnN0YWxsIGFzIGFyZ3VtZW50cy5cbiAgICAgKiBBdm9pZCBjYWxsaW5nIHRoaXMgZnVuY3Rpb24gbXVsdGlwbGUgdGltZXMgdW5sZXNzIHlvdSBpbnRlbmQgdG8gbWFudWFsbHkgY29udHJvbCBpbnN0YWxsYXRpb24gb3JkZXIuXG4gICAgICogQG1ldGhvZCB1c2VcbiAgICAgKiBAcGFyYW0gLi4ucGx1Z2luIHtGdW5jdGlvbn0gVGhlIHBsdWdpbihzKSB0byBpbnN0YWxsIG9uIGBiYXNlYCAobXVsdGktYXJndW1lbnQpLlxuICAgICAqL1xuICAgIE1hdHRlci51c2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgUGx1Z2luLnVzZShNYXR0ZXIsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFpbnMgYSBmdW5jdGlvbiB0byBleGN1dGUgYmVmb3JlIHRoZSBvcmlnaW5hbCBmdW5jdGlvbiBvbiB0aGUgZ2l2ZW4gYHBhdGhgIHJlbGF0aXZlIHRvIGBNYXR0ZXJgLlxuICAgICAqIFNlZSBhbHNvIGRvY3MgZm9yIGBDb21tb24uY2hhaW5gLlxuICAgICAqIEBtZXRob2QgYmVmb3JlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYE1hdHRlcmBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBiZWZvcmUgdGhlIG9yaWdpbmFsXG4gICAgICogQHJldHVybiB7ZnVuY3Rpb259IFRoZSBjaGFpbmVkIGZ1bmN0aW9uIHRoYXQgcmVwbGFjZWQgdGhlIG9yaWdpbmFsXG4gICAgICovXG4gICAgTWF0dGVyLmJlZm9yZSA9IGZ1bmN0aW9uKHBhdGgsIGZ1bmMpIHtcbiAgICAgICAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXk1hdHRlci4vLCAnJyk7XG4gICAgICAgIHJldHVybiBDb21tb24uY2hhaW5QYXRoQmVmb3JlKE1hdHRlciwgcGF0aCwgZnVuYyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENoYWlucyBhIGZ1bmN0aW9uIHRvIGV4Y3V0ZSBhZnRlciB0aGUgb3JpZ2luYWwgZnVuY3Rpb24gb24gdGhlIGdpdmVuIGBwYXRoYCByZWxhdGl2ZSB0byBgTWF0dGVyYC5cbiAgICAgKiBTZWUgYWxzbyBkb2NzIGZvciBgQ29tbW9uLmNoYWluYC5cbiAgICAgKiBAbWV0aG9kIGFmdGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggVGhlIHBhdGggcmVsYXRpdmUgdG8gYE1hdHRlcmBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGFpbiBhZnRlciB0aGUgb3JpZ2luYWxcbiAgICAgKiBAcmV0dXJuIHtmdW5jdGlvbn0gVGhlIGNoYWluZWQgZnVuY3Rpb24gdGhhdCByZXBsYWNlZCB0aGUgb3JpZ2luYWxcbiAgICAgKi9cbiAgICBNYXR0ZXIuYWZ0ZXIgPSBmdW5jdGlvbihwYXRoLCBmdW5jKSB7XG4gICAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL15NYXR0ZXIuLywgJycpO1xuICAgICAgICByZXR1cm4gQ29tbW9uLmNoYWluUGF0aEFmdGVyKE1hdHRlciwgcGF0aCwgZnVuYyk7XG4gICAgfTtcblxufSkoKTtcblxufSx7XCIuL0NvbW1vblwiOjE0LFwiLi9QbHVnaW5cIjoyMH1dLDE4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcblxufSx7XCIuLi9ib2R5L0NvbXBvc2l0ZVwiOjIsXCIuL0NvbW1vblwiOjE0fV0sMTk6W2Z1bmN0aW9uKF9kZXJlcV8sbW9kdWxlLGV4cG9ydHMpe1xuLyoqXG4qIFRoZSBgTWF0dGVyLk1vdXNlYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBtb3VzZSBpbnB1dHMuXG4qXG4qIEBjbGFzcyBNb3VzZVxuKi9cblxudmFyIE1vdXNlID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gTW91c2U7XG5cbnZhciBDb21tb24gPSBfZGVyZXFfKCcuLi9jb3JlL0NvbW1vbicpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbW91c2UgaW5wdXQuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBlbGVtZW50XG4gICAgICogQHJldHVybiB7bW91c2V9IEEgbmV3IG1vdXNlXG4gICAgICovXG4gICAgTW91c2UuY3JlYXRlID0gZnVuY3Rpb24oZWxlbWVudCkge1xuICAgICAgICB2YXIgbW91c2UgPSB7fTtcblxuICAgICAgICBpZiAoIWVsZW1lbnQpIHtcbiAgICAgICAgICAgIENvbW1vbi5sb2coJ01vdXNlLmNyZWF0ZTogZWxlbWVudCB3YXMgdW5kZWZpbmVkLCBkZWZhdWx0aW5nIHRvIGRvY3VtZW50LmJvZHknLCAnd2FybicpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBtb3VzZS5lbGVtZW50ID0gZWxlbWVudCB8fCBkb2N1bWVudC5ib2R5O1xuICAgICAgICBtb3VzZS5hYnNvbHV0ZSA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBtb3VzZS5wb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBtb3VzZS5tb3VzZWRvd25Qb3NpdGlvbiA9IHsgeDogMCwgeTogMCB9O1xuICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24gPSB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgbW91c2Uub2Zmc2V0ID0geyB4OiAwLCB5OiAwIH07XG4gICAgICAgIG1vdXNlLnNjYWxlID0geyB4OiAxLCB5OiAxIH07XG4gICAgICAgIG1vdXNlLndoZWVsRGVsdGEgPSAwO1xuICAgICAgICBtb3VzZS5idXR0b24gPSAtMTtcbiAgICAgICAgbW91c2UucGl4ZWxSYXRpbyA9IG1vdXNlLmVsZW1lbnQuZ2V0QXR0cmlidXRlKCdkYXRhLXBpeGVsLXJhdGlvJykgfHwgMTtcblxuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMgPSB7XG4gICAgICAgICAgICBtb3VzZW1vdmU6IG51bGwsXG4gICAgICAgICAgICBtb3VzZWRvd246IG51bGwsXG4gICAgICAgICAgICBtb3VzZXVwOiBudWxsLFxuICAgICAgICAgICAgbW91c2V3aGVlbDogbnVsbFxuICAgICAgICB9O1xuICAgICAgICBcbiAgICAgICAgbW91c2UubW91c2Vtb3ZlID0gZnVuY3Rpb24oZXZlbnQpIHsgXG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCBtb3VzZS5lbGVtZW50LCBtb3VzZS5waXhlbFJhdGlvKSxcbiAgICAgICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS54ID0gcG9zaXRpb24ueDtcbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICAgICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZW1vdmUgPSBldmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG1vdXNlLm1vdXNlZG93biA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICB2YXIgcG9zaXRpb24gPSBNb3VzZS5fZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uKGV2ZW50LCBtb3VzZS5lbGVtZW50LCBtb3VzZS5waXhlbFJhdGlvKSxcbiAgICAgICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXM7XG5cbiAgICAgICAgICAgIGlmICh0b3VjaGVzKSB7XG4gICAgICAgICAgICAgICAgbW91c2UuYnV0dG9uID0gMDtcbiAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBtb3VzZS5idXR0b24gPSBldmVudC5idXR0b247XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG1vdXNlLmFic29sdXRlLnggPSBwb3NpdGlvbi54O1xuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueSA9IHBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5wb3NpdGlvbi54ID0gbW91c2UuYWJzb2x1dGUueCAqIG1vdXNlLnNjYWxlLnggKyBtb3VzZS5vZmZzZXQueDtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnkgPSBtb3VzZS5hYnNvbHV0ZS55ICogbW91c2Uuc2NhbGUueSArIG1vdXNlLm9mZnNldC55O1xuICAgICAgICAgICAgbW91c2UubW91c2Vkb3duUG9zaXRpb24ueCA9IG1vdXNlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZWRvd25Qb3NpdGlvbi55ID0gbW91c2UucG9zaXRpb24ueTtcbiAgICAgICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZWRvd24gPSBldmVudDtcbiAgICAgICAgfTtcbiAgICAgICAgXG4gICAgICAgIG1vdXNlLm1vdXNldXAgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgdmFyIHBvc2l0aW9uID0gTW91c2UuX2dldFJlbGF0aXZlTW91c2VQb3NpdGlvbihldmVudCwgbW91c2UuZWxlbWVudCwgbW91c2UucGl4ZWxSYXRpbyksXG4gICAgICAgICAgICAgICAgdG91Y2hlcyA9IGV2ZW50LmNoYW5nZWRUb3VjaGVzO1xuXG4gICAgICAgICAgICBpZiAodG91Y2hlcykge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIG1vdXNlLmJ1dHRvbiA9IC0xO1xuICAgICAgICAgICAgbW91c2UuYWJzb2x1dGUueCA9IHBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5hYnNvbHV0ZS55ID0gcG9zaXRpb24ueTtcbiAgICAgICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICAgICAgbW91c2UucG9zaXRpb24ueSA9IG1vdXNlLmFic29sdXRlLnkgKiBtb3VzZS5zY2FsZS55ICsgbW91c2Uub2Zmc2V0Lnk7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24ueCA9IG1vdXNlLnBvc2l0aW9uLng7XG4gICAgICAgICAgICBtb3VzZS5tb3VzZXVwUG9zaXRpb24ueSA9IG1vdXNlLnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V1cCA9IGV2ZW50O1xuICAgICAgICB9O1xuXG4gICAgICAgIG1vdXNlLm1vdXNld2hlZWwgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgbW91c2Uud2hlZWxEZWx0YSA9IE1hdGgubWF4KC0xLCBNYXRoLm1pbigxLCBldmVudC53aGVlbERlbHRhIHx8IC1ldmVudC5kZXRhaWwpKTtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgTW91c2Uuc2V0RWxlbWVudChtb3VzZSwgbW91c2UuZWxlbWVudCk7XG5cbiAgICAgICAgcmV0dXJuIG1vdXNlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBlbGVtZW50IHRoZSBtb3VzZSBpcyBib3VuZCB0byAoYW5kIHJlbGF0aXZlIHRvKS5cbiAgICAgKiBAbWV0aG9kIHNldEVsZW1lbnRcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZVxuICAgICAqIEBwYXJhbSB7SFRNTEVsZW1lbnR9IGVsZW1lbnRcbiAgICAgKi9cbiAgICBNb3VzZS5zZXRFbGVtZW50ID0gZnVuY3Rpb24obW91c2UsIGVsZW1lbnQpIHtcbiAgICAgICAgbW91c2UuZWxlbWVudCA9IGVsZW1lbnQ7XG5cbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBtb3VzZS5tb3VzZW1vdmUpO1xuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG1vdXNlLm1vdXNlZG93bik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIG1vdXNlLm1vdXNldXApO1xuICAgICAgICBcbiAgICAgICAgZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXdoZWVsJywgbW91c2UubW91c2V3aGVlbCk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NTW91c2VTY3JvbGwnLCBtb3VzZS5tb3VzZXdoZWVsKTtcblxuICAgICAgICBlbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG1vdXNlLm1vdXNlbW92ZSk7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG1vdXNlLm1vdXNlZG93bik7XG4gICAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBtb3VzZS5tb3VzZXVwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBjYXB0dXJlZCBzb3VyY2UgZXZlbnRzLlxuICAgICAqIEBtZXRob2QgY2xlYXJTb3VyY2VFdmVudHNcbiAgICAgKiBAcGFyYW0ge21vdXNlfSBtb3VzZVxuICAgICAqL1xuICAgIE1vdXNlLmNsZWFyU291cmNlRXZlbnRzID0gZnVuY3Rpb24obW91c2UpIHtcbiAgICAgICAgbW91c2Uuc291cmNlRXZlbnRzLm1vdXNlbW92ZSA9IG51bGw7XG4gICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZWRvd24gPSBudWxsO1xuICAgICAgICBtb3VzZS5zb3VyY2VFdmVudHMubW91c2V1cCA9IG51bGw7XG4gICAgICAgIG1vdXNlLnNvdXJjZUV2ZW50cy5tb3VzZXdoZWVsID0gbnVsbDtcbiAgICAgICAgbW91c2Uud2hlZWxEZWx0YSA9IDA7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIG1vdXNlIHBvc2l0aW9uIG9mZnNldC5cbiAgICAgKiBAbWV0aG9kIHNldE9mZnNldFxuICAgICAqIEBwYXJhbSB7bW91c2V9IG1vdXNlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IG9mZnNldFxuICAgICAqL1xuICAgIE1vdXNlLnNldE9mZnNldCA9IGZ1bmN0aW9uKG1vdXNlLCBvZmZzZXQpIHtcbiAgICAgICAgbW91c2Uub2Zmc2V0LnggPSBvZmZzZXQueDtcbiAgICAgICAgbW91c2Uub2Zmc2V0LnkgPSBvZmZzZXQueTtcbiAgICAgICAgbW91c2UucG9zaXRpb24ueCA9IG1vdXNlLmFic29sdXRlLnggKiBtb3VzZS5zY2FsZS54ICsgbW91c2Uub2Zmc2V0Lng7XG4gICAgICAgIG1vdXNlLnBvc2l0aW9uLnkgPSBtb3VzZS5hYnNvbHV0ZS55ICogbW91c2Uuc2NhbGUueSArIG1vdXNlLm9mZnNldC55O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtb3VzZSBwb3NpdGlvbiBzY2FsZS5cbiAgICAgKiBAbWV0aG9kIHNldFNjYWxlXG4gICAgICogQHBhcmFtIHttb3VzZX0gbW91c2VcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gc2NhbGVcbiAgICAgKi9cbiAgICBNb3VzZS5zZXRTY2FsZSA9IGZ1bmN0aW9uKG1vdXNlLCBzY2FsZSkge1xuICAgICAgICBtb3VzZS5zY2FsZS54ID0gc2NhbGUueDtcbiAgICAgICAgbW91c2Uuc2NhbGUueSA9IHNjYWxlLnk7XG4gICAgICAgIG1vdXNlLnBvc2l0aW9uLnggPSBtb3VzZS5hYnNvbHV0ZS54ICogbW91c2Uuc2NhbGUueCArIG1vdXNlLm9mZnNldC54O1xuICAgICAgICBtb3VzZS5wb3NpdGlvbi55ID0gbW91c2UuYWJzb2x1dGUueSAqIG1vdXNlLnNjYWxlLnkgKyBtb3VzZS5vZmZzZXQueTtcbiAgICB9O1xuICAgIFxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1vdXNlIHBvc2l0aW9uIHJlbGF0aXZlIHRvIGFuIGVsZW1lbnQgZ2l2ZW4gYSBzY3JlZW4gcGl4ZWwgcmF0aW8uXG4gICAgICogQG1ldGhvZCBfZ2V0UmVsYXRpdmVNb3VzZVBvc2l0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge30gZXZlbnRcbiAgICAgKiBAcGFyYW0ge30gZWxlbWVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBwaXhlbFJhdGlvXG4gICAgICogQHJldHVybiB7fVxuICAgICAqL1xuICAgIE1vdXNlLl9nZXRSZWxhdGl2ZU1vdXNlUG9zaXRpb24gPSBmdW5jdGlvbihldmVudCwgZWxlbWVudCwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgZWxlbWVudEJvdW5kcyA9IGVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksXG4gICAgICAgICAgICByb290Tm9kZSA9IChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQgfHwgZG9jdW1lbnQuYm9keS5wYXJlbnROb2RlIHx8IGRvY3VtZW50LmJvZHkpLFxuICAgICAgICAgICAgc2Nyb2xsWCA9ICh3aW5kb3cucGFnZVhPZmZzZXQgIT09IHVuZGVmaW5lZCkgPyB3aW5kb3cucGFnZVhPZmZzZXQgOiByb290Tm9kZS5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgc2Nyb2xsWSA9ICh3aW5kb3cucGFnZVlPZmZzZXQgIT09IHVuZGVmaW5lZCkgPyB3aW5kb3cucGFnZVlPZmZzZXQgOiByb290Tm9kZS5zY3JvbGxUb3AsXG4gICAgICAgICAgICB0b3VjaGVzID0gZXZlbnQuY2hhbmdlZFRvdWNoZXMsXG4gICAgICAgICAgICB4LCB5O1xuICAgICAgICBcbiAgICAgICAgaWYgKHRvdWNoZXMpIHtcbiAgICAgICAgICAgIHggPSB0b3VjaGVzWzBdLnBhZ2VYIC0gZWxlbWVudEJvdW5kcy5sZWZ0IC0gc2Nyb2xsWDtcbiAgICAgICAgICAgIHkgPSB0b3VjaGVzWzBdLnBhZ2VZIC0gZWxlbWVudEJvdW5kcy50b3AgLSBzY3JvbGxZO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgeCA9IGV2ZW50LnBhZ2VYIC0gZWxlbWVudEJvdW5kcy5sZWZ0IC0gc2Nyb2xsWDtcbiAgICAgICAgICAgIHkgPSBldmVudC5wYWdlWSAtIGVsZW1lbnRCb3VuZHMudG9wIC0gc2Nyb2xsWTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7IFxuICAgICAgICAgICAgeDogeCAvIChlbGVtZW50LmNsaWVudFdpZHRoIC8gKGVsZW1lbnQud2lkdGggfHwgZWxlbWVudC5jbGllbnRXaWR0aCkgKiBwaXhlbFJhdGlvKSxcbiAgICAgICAgICAgIHk6IHkgLyAoZWxlbWVudC5jbGllbnRIZWlnaHQgLyAoZWxlbWVudC5oZWlnaHQgfHwgZWxlbWVudC5jbGllbnRIZWlnaHQpICogcGl4ZWxSYXRpbylcbiAgICAgICAgfTtcbiAgICB9O1xuXG59KSgpO1xuXG59LHtcIi4uL2NvcmUvQ29tbW9uXCI6MTR9XSwyMDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuUGx1Z2luYCBtb2R1bGUgY29udGFpbnMgZnVuY3Rpb25zIGZvciByZWdpc3RlcmluZyBhbmQgaW5zdGFsbGluZyBwbHVnaW5zIG9uIG1vZHVsZXMuXG4qXG4qIEBjbGFzcyBQbHVnaW5cbiovXG5cbnZhciBQbHVnaW4gPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBQbHVnaW47XG5cbnZhciBDb21tb24gPSBfZGVyZXFfKCcuL0NvbW1vbicpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBQbHVnaW4uX3JlZ2lzdHJ5ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBwbHVnaW4gb2JqZWN0IHNvIGl0IGNhbiBiZSByZXNvbHZlZCBsYXRlciBieSBuYW1lLlxuICAgICAqIEBtZXRob2QgcmVnaXN0ZXJcbiAgICAgKiBAcGFyYW0gcGx1Z2luIHt9IFRoZSBwbHVnaW4gdG8gcmVnaXN0ZXIuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgcGx1Z2luLlxuICAgICAqL1xuICAgIFBsdWdpbi5yZWdpc3RlciA9IGZ1bmN0aW9uKHBsdWdpbikge1xuICAgICAgICBpZiAoIVBsdWdpbi5pc1BsdWdpbihwbHVnaW4pKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnJlZ2lzdGVyOicsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pLCAnZG9lcyBub3QgaW1wbGVtZW50IGFsbCByZXF1aXJlZCBmaWVsZHMuJyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGx1Z2luLm5hbWUgaW4gUGx1Z2luLl9yZWdpc3RyeSkge1xuICAgICAgICAgICAgdmFyIHJlZ2lzdGVyZWQgPSBQbHVnaW4uX3JlZ2lzdHJ5W3BsdWdpbi5uYW1lXSxcbiAgICAgICAgICAgICAgICBwbHVnaW5WZXJzaW9uID0gUGx1Z2luLnZlcnNpb25QYXJzZShwbHVnaW4udmVyc2lvbikubnVtYmVyLFxuICAgICAgICAgICAgICAgIHJlZ2lzdGVyZWRWZXJzaW9uID0gUGx1Z2luLnZlcnNpb25QYXJzZShyZWdpc3RlcmVkLnZlcnNpb24pLm51bWJlcjtcblxuICAgICAgICAgICAgaWYgKHBsdWdpblZlcnNpb24gPiByZWdpc3RlcmVkVmVyc2lvbikge1xuICAgICAgICAgICAgICAgIENvbW1vbi53YXJuKCdQbHVnaW4ucmVnaXN0ZXI6JywgUGx1Z2luLnRvU3RyaW5nKHJlZ2lzdGVyZWQpLCAnd2FzIHVwZ3JhZGVkIHRvJywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpO1xuICAgICAgICAgICAgICAgIFBsdWdpbi5fcmVnaXN0cnlbcGx1Z2luLm5hbWVdID0gcGx1Z2luO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChwbHVnaW5WZXJzaW9uIDwgcmVnaXN0ZXJlZFZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnJlZ2lzdGVyOicsIFBsdWdpbi50b1N0cmluZyhyZWdpc3RlcmVkKSwgJ2NhbiBub3QgYmUgZG93bmdyYWRlZCB0bycsIFBsdWdpbi50b1N0cmluZyhwbHVnaW4pKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocGx1Z2luICE9PSByZWdpc3RlcmVkKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5yZWdpc3RlcjonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2lzIGFscmVhZHkgcmVnaXN0ZXJlZCB0byBkaWZmZXJlbnQgcGx1Z2luIG9iamVjdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUGx1Z2luLl9yZWdpc3RyeVtwbHVnaW4ubmFtZV0gPSBwbHVnaW47XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcGx1Z2luO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNvbHZlcyBhIGRlcGVuZGVuY3kgdG8gYSBwbHVnaW4gb2JqZWN0IGZyb20gdGhlIHJlZ2lzdHJ5IGlmIGl0IGV4aXN0cy4gXG4gICAgICogVGhlIGBkZXBlbmRlbmN5YCBtYXkgY29udGFpbiBhIHZlcnNpb24sIGJ1dCBvbmx5IHRoZSBuYW1lIG1hdHRlcnMgd2hlbiByZXNvbHZpbmcuXG4gICAgICogQG1ldGhvZCByZXNvbHZlXG4gICAgICogQHBhcmFtIGRlcGVuZGVuY3kge3N0cmluZ30gVGhlIGRlcGVuZGVuY3kuXG4gICAgICogQHJldHVybiB7b2JqZWN0fSBUaGUgcGx1Z2luIGlmIHJlc29sdmVkLCBvdGhlcndpc2UgYHVuZGVmaW5lZGAuXG4gICAgICovXG4gICAgUGx1Z2luLnJlc29sdmUgPSBmdW5jdGlvbihkZXBlbmRlbmN5KSB7XG4gICAgICAgIHJldHVybiBQbHVnaW4uX3JlZ2lzdHJ5W1BsdWdpbi5kZXBlbmRlbmN5UGFyc2UoZGVwZW5kZW5jeSkubmFtZV07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBwcmV0dHkgcHJpbnRlZCBwbHVnaW4gbmFtZSBhbmQgdmVyc2lvbi5cbiAgICAgKiBAbWV0aG9kIHRvU3RyaW5nXG4gICAgICogQHBhcmFtIHBsdWdpbiB7fSBUaGUgcGx1Z2luLlxuICAgICAqIEByZXR1cm4ge3N0cmluZ30gUHJldHR5IHByaW50ZWQgcGx1Z2luIG5hbWUgYW5kIHZlcnNpb24uXG4gICAgICovXG4gICAgUGx1Z2luLnRvU3RyaW5nID0gZnVuY3Rpb24ocGx1Z2luKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgcGx1Z2luID09PSAnc3RyaW5nJyA/IHBsdWdpbiA6IChwbHVnaW4ubmFtZSB8fCAnYW5vbnltb3VzJykgKyAnQCcgKyAocGx1Z2luLnZlcnNpb24gfHwgcGx1Z2luLnJhbmdlIHx8ICcwLjAuMCcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0IG1lZXRzIHRoZSBtaW5pbXVtIHN0YW5kYXJkIHRvIGJlIGNvbnNpZGVyZWQgYSBwbHVnaW4uXG4gICAgICogVGhpcyBtZWFucyBpdCBtdXN0IGRlZmluZSB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICogLSBgbmFtZWBcbiAgICAgKiAtIGB2ZXJzaW9uYFxuICAgICAqIC0gYGluc3RhbGxgXG4gICAgICogQG1ldGhvZCBpc1BsdWdpblxuICAgICAqIEBwYXJhbSBvYmoge30gVGhlIG9iaiB0byB0ZXN0LlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiB0aGUgb2JqZWN0IGNhbiBiZSBjb25zaWRlcmVkIGEgcGx1Z2luIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIFBsdWdpbi5pc1BsdWdpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgICByZXR1cm4gb2JqICYmIG9iai5uYW1lICYmIG9iai52ZXJzaW9uICYmIG9iai5pbnN0YWxsO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBhIHBsdWdpbiB3aXRoIHRoZSBnaXZlbiBgbmFtZWAgYmVlbiBpbnN0YWxsZWQgb24gYG1vZHVsZWAuXG4gICAgICogQG1ldGhvZCBpc1VzZWRcbiAgICAgKiBAcGFyYW0gbW9kdWxlIHt9IFRoZSBtb2R1bGUuXG4gICAgICogQHBhcmFtIG5hbWUge3N0cmluZ30gVGhlIHBsdWdpbiBuYW1lLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBhIHBsdWdpbiB3aXRoIHRoZSBnaXZlbiBgbmFtZWAgYmVlbiBpbnN0YWxsZWQgb24gYG1vZHVsZWAsIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIFBsdWdpbi5pc1VzZWQgPSBmdW5jdGlvbihtb2R1bGUsIG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIG1vZHVsZS51c2VkLmluZGV4T2YobmFtZSkgPiAtMTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgYHBsdWdpbi5mb3JgIGlzIGFwcGxpY2FibGUgdG8gYG1vZHVsZWAgYnkgY29tcGFyaW5nIGFnYWluc3QgYG1vZHVsZS5uYW1lYCBhbmQgYG1vZHVsZS52ZXJzaW9uYC5cbiAgICAgKiBJZiBgcGx1Z2luLmZvcmAgaXMgbm90IHNwZWNpZmllZCB0aGVuIGl0IGlzIGFzc3VtZWQgdG8gYmUgYXBwbGljYWJsZS5cbiAgICAgKiBUaGUgdmFsdWUgb2YgYHBsdWdpbi5mb3JgIGlzIGEgc3RyaW5nIG9mIHRoZSBmb3JtYXQgYCdtb2R1bGUtbmFtZSdgIG9yIGAnbW9kdWxlLW5hbWVAdmVyc2lvbidgLlxuICAgICAqIEBtZXRob2QgaXNGb3JcbiAgICAgKiBAcGFyYW0gcGx1Z2luIHt9IFRoZSBwbHVnaW4uXG4gICAgICogQHBhcmFtIG1vZHVsZSB7fSBUaGUgbW9kdWxlLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBgcGx1Z2luLmZvcmAgaXMgYXBwbGljYWJsZSB0byBgbW9kdWxlYCwgb3RoZXJ3aXNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgUGx1Z2luLmlzRm9yID0gZnVuY3Rpb24ocGx1Z2luLCBtb2R1bGUpIHtcbiAgICAgICAgdmFyIHBhcnNlZCA9IHBsdWdpbi5mb3IgJiYgUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShwbHVnaW4uZm9yKTtcbiAgICAgICAgcmV0dXJuICFwbHVnaW4uZm9yIHx8IChtb2R1bGUubmFtZSA9PT0gcGFyc2VkLm5hbWUgJiYgUGx1Z2luLnZlcnNpb25TYXRpc2ZpZXMobW9kdWxlLnZlcnNpb24sIHBhcnNlZC5yYW5nZSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBJbnN0YWxscyB0aGUgcGx1Z2lucyBieSBjYWxsaW5nIGBwbHVnaW4uaW5zdGFsbGAgb24gZWFjaCBwbHVnaW4gc3BlY2lmaWVkIGluIGBwbHVnaW5zYCBpZiBwYXNzZWQsIG90aGVyd2lzZSBgbW9kdWxlLnVzZXNgLlxuICAgICAqIEZvciBpbnN0YWxsaW5nIHBsdWdpbnMgb24gYE1hdHRlcmAgc2VlIHRoZSBjb252ZW5pZW5jZSBmdW5jdGlvbiBgTWF0dGVyLnVzZWAuXG4gICAgICogUGx1Z2lucyBtYXkgYmUgc3BlY2lmaWVkIGVpdGhlciBieSB0aGVpciBuYW1lIG9yIGEgcmVmZXJlbmNlIHRvIHRoZSBwbHVnaW4gb2JqZWN0LlxuICAgICAqIFBsdWdpbnMgdGhlbXNlbHZlcyBtYXkgc3BlY2lmeSBmdXJ0aGVyIGRlcGVuZGVuY2llcywgYnV0IGVhY2ggcGx1Z2luIGlzIGluc3RhbGxlZCBvbmx5IG9uY2UuXG4gICAgICogT3JkZXIgaXMgaW1wb3J0YW50LCBhIHRvcG9sb2dpY2FsIHNvcnQgaXMgcGVyZm9ybWVkIHRvIGZpbmQgdGhlIGJlc3QgcmVzdWx0aW5nIG9yZGVyIG9mIGluc3RhbGxhdGlvbi5cbiAgICAgKiBUaGlzIHNvcnRpbmcgYXR0ZW1wdHMgdG8gc2F0aXNmeSBldmVyeSBkZXBlbmRlbmN5J3MgcmVxdWVzdGVkIG9yZGVyaW5nLCBidXQgbWF5IG5vdCBiZSBleGFjdCBpbiBhbGwgY2FzZXMuXG4gICAgICogVGhpcyBmdW5jdGlvbiBsb2dzIHRoZSByZXN1bHRpbmcgc3RhdHVzIG9mIGVhY2ggZGVwZW5kZW5jeSBpbiB0aGUgY29uc29sZSwgYWxvbmcgd2l0aCBhbnkgd2FybmluZ3MuXG4gICAgICogLSBBIGdyZWVuIHRpY2sg4pyFIGluZGljYXRlcyBhIGRlcGVuZGVuY3kgd2FzIHJlc29sdmVkIGFuZCBpbnN0YWxsZWQuXG4gICAgICogLSBBbiBvcmFuZ2UgZGlhbW9uZCDwn5S2IGluZGljYXRlcyBhIGRlcGVuZGVuY3kgd2FzIHJlc29sdmVkIGJ1dCBhIHdhcm5pbmcgd2FzIHRocm93biBmb3IgaXQgb3Igb25lIGlmIGl0cyBkZXBlbmRlbmNpZXMuXG4gICAgICogLSBBIHJlZCBjcm9zcyDinYwgaW5kaWNhdGVzIGEgZGVwZW5kZW5jeSBjb3VsZCBub3QgYmUgcmVzb2x2ZWQuXG4gICAgICogQXZvaWQgY2FsbGluZyB0aGlzIGZ1bmN0aW9uIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIG1vZHVsZSB1bmxlc3MgeW91IGludGVuZCB0byBtYW51YWxseSBjb250cm9sIGluc3RhbGxhdGlvbiBvcmRlci5cbiAgICAgKiBAbWV0aG9kIHVzZVxuICAgICAqIEBwYXJhbSBtb2R1bGUge30gVGhlIG1vZHVsZSBpbnN0YWxsIHBsdWdpbnMgb24uXG4gICAgICogQHBhcmFtIFtwbHVnaW5zPW1vZHVsZS51c2VzXSB7fSBUaGUgcGx1Z2lucyB0byBpbnN0YWxsIG9uIG1vZHVsZSAob3B0aW9uYWwsIGRlZmF1bHRzIHRvIGBtb2R1bGUudXNlc2ApLlxuICAgICAqL1xuICAgIFBsdWdpbi51c2UgPSBmdW5jdGlvbihtb2R1bGUsIHBsdWdpbnMpIHtcbiAgICAgICAgbW9kdWxlLnVzZXMgPSAobW9kdWxlLnVzZXMgfHwgW10pLmNvbmNhdChwbHVnaW5zIHx8IFtdKTtcblxuICAgICAgICBpZiAobW9kdWxlLnVzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnVzZTonLCBQbHVnaW4udG9TdHJpbmcobW9kdWxlKSwgJ2RvZXMgbm90IHNwZWNpZnkgYW55IGRlcGVuZGVuY2llcyB0byBpbnN0YWxsLicpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGRlcGVuZGVuY2llcyA9IFBsdWdpbi5kZXBlbmRlbmNpZXMobW9kdWxlKSxcbiAgICAgICAgICAgIHNvcnRlZERlcGVuZGVuY2llcyA9IENvbW1vbi50b3BvbG9naWNhbFNvcnQoZGVwZW5kZW5jaWVzKSxcbiAgICAgICAgICAgIHN0YXR1cyA9IFtdO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc29ydGVkRGVwZW5kZW5jaWVzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBpZiAoc29ydGVkRGVwZW5kZW5jaWVzW2ldID09PSBtb2R1bGUubmFtZSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcGx1Z2luID0gUGx1Z2luLnJlc29sdmUoc29ydGVkRGVwZW5kZW5jaWVzW2ldKTtcblxuICAgICAgICAgICAgaWYgKCFwbHVnaW4pIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMucHVzaCgn4p2MICcgKyBzb3J0ZWREZXBlbmRlbmNpZXNbaV0pO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoUGx1Z2luLmlzVXNlZChtb2R1bGUsIHBsdWdpbi5uYW1lKSkge1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoIVBsdWdpbi5pc0ZvcihwbHVnaW4sIG1vZHVsZSkpIHtcbiAgICAgICAgICAgICAgICBDb21tb24ud2FybignUGx1Z2luLnVzZTonLCBQbHVnaW4udG9TdHJpbmcocGx1Z2luKSwgJ2lzIGZvcicsIHBsdWdpbi5mb3IsICdidXQgaW5zdGFsbGVkIG9uJywgUGx1Z2luLnRvU3RyaW5nKG1vZHVsZSkgKyAnLicpO1xuICAgICAgICAgICAgICAgIHBsdWdpbi5fd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHBsdWdpbi5pbnN0YWxsKSB7XG4gICAgICAgICAgICAgICAgcGx1Z2luLmluc3RhbGwobW9kdWxlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi51c2U6JywgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbiksICdkb2VzIG5vdCBzcGVjaWZ5IGFuIGluc3RhbGwgZnVuY3Rpb24uJyk7XG4gICAgICAgICAgICAgICAgcGx1Z2luLl93YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGx1Z2luLl93YXJuZWQpIHtcbiAgICAgICAgICAgICAgICBzdGF0dXMucHVzaCgn8J+UtiAnICsgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBwbHVnaW4uX3dhcm5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RhdHVzLnB1c2goJ+KchSAnICsgUGx1Z2luLnRvU3RyaW5nKHBsdWdpbikpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBtb2R1bGUudXNlZC5wdXNoKHBsdWdpbi5uYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgQ29tbW9uLmluZm8oc3RhdHVzLmpvaW4oJyAgJykpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZpbmRzIGFsbCBvZiBhIG1vZHVsZSdzIGRlcGVuZGVuY2llcyBhbmQgcmV0dXJucyBhIGZsYXQgZGVwZW5kZW5jeSBncmFwaC5cbiAgICAgKiBAbWV0aG9kIGRlcGVuZGVuY2llc1xuICAgICAqIEBwYXJhbSBtb2R1bGUge30gVGhlIG1vZHVsZS5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IEEgZGVwZW5kZW5jeSBncmFwaC5cbiAgICAgKi9cbiAgICBQbHVnaW4uZGVwZW5kZW5jaWVzID0gZnVuY3Rpb24obW9kdWxlLCB0cmFja2VkKSB7XG4gICAgICAgIHZhciBwYXJzZWRCYXNlID0gUGx1Z2luLmRlcGVuZGVuY3lQYXJzZShtb2R1bGUpLFxuICAgICAgICAgICAgbmFtZSA9IHBhcnNlZEJhc2UubmFtZTtcblxuICAgICAgICB0cmFja2VkID0gdHJhY2tlZCB8fCB7fTtcblxuICAgICAgICBpZiAobmFtZSBpbiB0cmFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtb2R1bGUgPSBQbHVnaW4ucmVzb2x2ZShtb2R1bGUpIHx8IG1vZHVsZTtcblxuICAgICAgICB0cmFja2VkW25hbWVdID0gQ29tbW9uLm1hcChtb2R1bGUudXNlcyB8fCBbXSwgZnVuY3Rpb24oZGVwZW5kZW5jeSkge1xuICAgICAgICAgICAgaWYgKFBsdWdpbi5pc1BsdWdpbihkZXBlbmRlbmN5KSkge1xuICAgICAgICAgICAgICAgIFBsdWdpbi5yZWdpc3RlcihkZXBlbmRlbmN5KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIHBhcnNlZCA9IFBsdWdpbi5kZXBlbmRlbmN5UGFyc2UoZGVwZW5kZW5jeSksXG4gICAgICAgICAgICAgICAgcmVzb2x2ZWQgPSBQbHVnaW4ucmVzb2x2ZShkZXBlbmRlbmN5KTtcblxuICAgICAgICAgICAgaWYgKHJlc29sdmVkICYmICFQbHVnaW4udmVyc2lvblNhdGlzZmllcyhyZXNvbHZlZC52ZXJzaW9uLCBwYXJzZWQucmFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oXG4gICAgICAgICAgICAgICAgICAgICdQbHVnaW4uZGVwZW5kZW5jaWVzOicsIFBsdWdpbi50b1N0cmluZyhyZXNvbHZlZCksICdkb2VzIG5vdCBzYXRpc2Z5JyxcbiAgICAgICAgICAgICAgICAgICAgUGx1Z2luLnRvU3RyaW5nKHBhcnNlZCksICd1c2VkIGJ5JywgUGx1Z2luLnRvU3RyaW5nKHBhcnNlZEJhc2UpICsgJy4nXG4gICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgIHJlc29sdmVkLl93YXJuZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIG1vZHVsZS5fd2FybmVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoIXJlc29sdmVkKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oXG4gICAgICAgICAgICAgICAgICAgICdQbHVnaW4uZGVwZW5kZW5jaWVzOicsIFBsdWdpbi50b1N0cmluZyhkZXBlbmRlbmN5KSwgJ3VzZWQgYnknLFxuICAgICAgICAgICAgICAgICAgICBQbHVnaW4udG9TdHJpbmcocGFyc2VkQmFzZSksICdjb3VsZCBub3QgYmUgcmVzb2x2ZWQuJ1xuICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICBtb2R1bGUuX3dhcm5lZCA9IHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiBwYXJzZWQubmFtZTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmFja2VkW25hbWVdLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBQbHVnaW4uZGVwZW5kZW5jaWVzKHRyYWNrZWRbbmFtZV1baV0sIHRyYWNrZWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRyYWNrZWQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBhcnNlcyBhIGRlcGVuZGVuY3kgc3RyaW5nIGludG8gaXRzIGNvbXBvbmVudHMuXG4gICAgICogVGhlIGBkZXBlbmRlbmN5YCBpcyBhIHN0cmluZyBvZiB0aGUgZm9ybWF0IGAnbW9kdWxlLW5hbWUnYCBvciBgJ21vZHVsZS1uYW1lQHZlcnNpb24nYC5cbiAgICAgKiBTZWUgZG9jdW1lbnRhdGlvbiBmb3IgYFBsdWdpbi52ZXJzaW9uUGFyc2VgIGZvciBhIGRlc2NyaXB0aW9uIG9mIHRoZSBmb3JtYXQuXG4gICAgICogVGhpcyBmdW5jdGlvbiBjYW4gYWxzbyBoYW5kbGUgZGVwZW5kZW5jaWVzIHRoYXQgYXJlIGFscmVhZHkgcmVzb2x2ZWQgKGUuZy4gYSBtb2R1bGUgb2JqZWN0KS5cbiAgICAgKiBAbWV0aG9kIGRlcGVuZGVuY3lQYXJzZVxuICAgICAqIEBwYXJhbSBkZXBlbmRlbmN5IHtzdHJpbmd9IFRoZSBkZXBlbmRlbmN5IG9mIHRoZSBmb3JtYXQgYCdtb2R1bGUtbmFtZSdgIG9yIGAnbW9kdWxlLW5hbWVAdmVyc2lvbidgLlxuICAgICAqIEByZXR1cm4ge29iamVjdH0gVGhlIGRlcGVuZGVuY3kgcGFyc2VkIGludG8gaXRzIGNvbXBvbmVudHMuXG4gICAgICovXG4gICAgUGx1Z2luLmRlcGVuZGVuY3lQYXJzZSA9IGZ1bmN0aW9uKGRlcGVuZGVuY3kpIHtcbiAgICAgICAgaWYgKENvbW1vbi5pc1N0cmluZyhkZXBlbmRlbmN5KSkge1xuICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSAvXltcXHctXSsoQChcXCp8W1xcXn5dP1xcZCtcXC5cXGQrXFwuXFxkKygtWzAtOUEtWmEtei1dKyk/KSk/JC87XG5cbiAgICAgICAgICAgIGlmICghcGF0dGVybi50ZXN0KGRlcGVuZGVuY3kpKSB7XG4gICAgICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi5kZXBlbmRlbmN5UGFyc2U6JywgZGVwZW5kZW5jeSwgJ2lzIG5vdCBhIHZhbGlkIGRlcGVuZGVuY3kgc3RyaW5nLicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IGRlcGVuZGVuY3kuc3BsaXQoJ0AnKVswXSxcbiAgICAgICAgICAgICAgICByYW5nZTogZGVwZW5kZW5jeS5zcGxpdCgnQCcpWzFdIHx8ICcqJ1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuYW1lOiBkZXBlbmRlbmN5Lm5hbWUsXG4gICAgICAgICAgICByYW5nZTogZGVwZW5kZW5jeS5yYW5nZSB8fCBkZXBlbmRlbmN5LnZlcnNpb25cbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFyc2VzIGEgdmVyc2lvbiBzdHJpbmcgaW50byBpdHMgY29tcG9uZW50cy4gIFxuICAgICAqIFZlcnNpb25zIGFyZSBzdHJpY3RseSBvZiB0aGUgZm9ybWF0IGB4LnkuemAgKGFzIGluIFtzZW12ZXJdKGh0dHA6Ly9zZW12ZXIub3JnLykpLlxuICAgICAqIFZlcnNpb25zIG1heSBvcHRpb25hbGx5IGhhdmUgYSBwcmVyZWxlYXNlIHRhZyBpbiB0aGUgZm9ybWF0IGB4Lnkuei1hbHBoYWAuXG4gICAgICogUmFuZ2VzIGFyZSBhIHN0cmljdCBzdWJzZXQgb2YgW25wbSByYW5nZXNdKGh0dHBzOi8vZG9jcy5ucG1qcy5jb20vbWlzYy9zZW12ZXIjYWR2YW5jZWQtcmFuZ2Utc3ludGF4KS5cbiAgICAgKiBPbmx5IHRoZSBmb2xsb3dpbmcgcmFuZ2UgdHlwZXMgYXJlIHN1cHBvcnRlZDpcbiAgICAgKiAtIFRpbGRlIHJhbmdlcyBlLmcuIGB+MS4yLjNgXG4gICAgICogLSBDYXJldCByYW5nZXMgZS5nLiBgXjEuMi4zYFxuICAgICAqIC0gRXhhY3QgdmVyc2lvbiBlLmcuIGAxLjIuM2BcbiAgICAgKiAtIEFueSB2ZXJzaW9uIGAqYFxuICAgICAqIEBtZXRob2QgdmVyc2lvblBhcnNlXG4gICAgICogQHBhcmFtIHJhbmdlIHtzdHJpbmd9IFRoZSB2ZXJzaW9uIHN0cmluZy5cbiAgICAgKiBAcmV0dXJuIHtvYmplY3R9IFRoZSB2ZXJzaW9uIHJhbmdlIHBhcnNlZCBpbnRvIGl0cyBjb21wb25lbnRzLlxuICAgICAqL1xuICAgIFBsdWdpbi52ZXJzaW9uUGFyc2UgPSBmdW5jdGlvbihyYW5nZSkge1xuICAgICAgICB2YXIgcGF0dGVybiA9IC9eXFwqfFtcXF5+XT9cXGQrXFwuXFxkK1xcLlxcZCsoLVswLTlBLVphLXotXSspPyQvO1xuXG4gICAgICAgIGlmICghcGF0dGVybi50ZXN0KHJhbmdlKSkge1xuICAgICAgICAgICAgQ29tbW9uLndhcm4oJ1BsdWdpbi52ZXJzaW9uUGFyc2U6JywgcmFuZ2UsICdpcyBub3QgYSB2YWxpZCB2ZXJzaW9uIG9yIHJhbmdlLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGlkZW50aWZpZXJzID0gcmFuZ2Uuc3BsaXQoJy0nKTtcbiAgICAgICAgcmFuZ2UgPSBpZGVudGlmaWVyc1swXTtcblxuICAgICAgICB2YXIgaXNSYW5nZSA9IGlzTmFOKE51bWJlcihyYW5nZVswXSkpLFxuICAgICAgICAgICAgdmVyc2lvbiA9IGlzUmFuZ2UgPyByYW5nZS5zdWJzdHIoMSkgOiByYW5nZSxcbiAgICAgICAgICAgIHBhcnRzID0gQ29tbW9uLm1hcCh2ZXJzaW9uLnNwbGl0KCcuJyksIGZ1bmN0aW9uKHBhcnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKHBhcnQpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGlzUmFuZ2U6IGlzUmFuZ2UsXG4gICAgICAgICAgICB2ZXJzaW9uOiB2ZXJzaW9uLFxuICAgICAgICAgICAgcmFuZ2U6IHJhbmdlLFxuICAgICAgICAgICAgb3BlcmF0b3I6IGlzUmFuZ2UgPyByYW5nZVswXSA6ICcnLFxuICAgICAgICAgICAgcGFydHM6IHBhcnRzLFxuICAgICAgICAgICAgcHJlcmVsZWFzZTogaWRlbnRpZmllcnNbMV0sXG4gICAgICAgICAgICBudW1iZXI6IHBhcnRzWzBdICogMWU4ICsgcGFydHNbMV0gKiAxZTQgKyBwYXJ0c1syXVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBgdmVyc2lvbmAgc2F0aXNmaWVzIHRoZSBnaXZlbiBgcmFuZ2VgLlxuICAgICAqIFNlZSBkb2N1bWVudGF0aW9uIGZvciBgUGx1Z2luLnZlcnNpb25QYXJzZWAgZm9yIGEgZGVzY3JpcHRpb24gb2YgdGhlIGZvcm1hdC5cbiAgICAgKiBJZiBhIHZlcnNpb24gb3IgcmFuZ2UgaXMgbm90IHNwZWNpZmllZCwgdGhlbiBhbnkgdmVyc2lvbiAoYCpgKSBpcyBhc3N1bWVkIHRvIHNhdGlzZnkuXG4gICAgICogQG1ldGhvZCB2ZXJzaW9uU2F0aXNmaWVzXG4gICAgICogQHBhcmFtIHZlcnNpb24ge3N0cmluZ30gVGhlIHZlcnNpb24gc3RyaW5nLlxuICAgICAqIEBwYXJhbSByYW5nZSB7c3RyaW5nfSBUaGUgcmFuZ2Ugc3RyaW5nLlxuICAgICAqIEByZXR1cm4ge2Jvb2xlYW59IGB0cnVlYCBpZiBgdmVyc2lvbmAgc2F0aXNmaWVzIGByYW5nZWAsIG90aGVyd2lzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIFBsdWdpbi52ZXJzaW9uU2F0aXNmaWVzID0gZnVuY3Rpb24odmVyc2lvbiwgcmFuZ2UpIHtcbiAgICAgICAgcmFuZ2UgPSByYW5nZSB8fCAnKic7XG5cbiAgICAgICAgdmFyIHJhbmdlUGFyc2VkID0gUGx1Z2luLnZlcnNpb25QYXJzZShyYW5nZSksXG4gICAgICAgICAgICByYW5nZVBhcnRzID0gcmFuZ2VQYXJzZWQucGFydHMsXG4gICAgICAgICAgICB2ZXJzaW9uUGFyc2VkID0gUGx1Z2luLnZlcnNpb25QYXJzZSh2ZXJzaW9uKSxcbiAgICAgICAgICAgIHZlcnNpb25QYXJ0cyA9IHZlcnNpb25QYXJzZWQucGFydHM7XG5cbiAgICAgICAgaWYgKHJhbmdlUGFyc2VkLmlzUmFuZ2UpIHtcbiAgICAgICAgICAgIGlmIChyYW5nZVBhcnNlZC5vcGVyYXRvciA9PT0gJyonIHx8IHZlcnNpb24gPT09ICcqJykge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmFuZ2VQYXJzZWQub3BlcmF0b3IgPT09ICd+Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiB2ZXJzaW9uUGFydHNbMF0gPT09IHJhbmdlUGFydHNbMF0gJiYgdmVyc2lvblBhcnRzWzFdID09PSByYW5nZVBhcnRzWzFdICYmIHZlcnNpb25QYXJ0c1syXSA+PSByYW5nZVBhcnRzWzJdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocmFuZ2VQYXJzZWQub3BlcmF0b3IgPT09ICdeJykge1xuICAgICAgICAgICAgICAgIGlmIChyYW5nZVBhcnRzWzBdID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvblBhcnRzWzBdID09PSByYW5nZVBhcnRzWzBdICYmIHZlcnNpb25QYXJzZWQubnVtYmVyID49IHJhbmdlUGFyc2VkLm51bWJlcjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAocmFuZ2VQYXJ0c1sxXSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZlcnNpb25QYXJ0c1sxXSA9PT0gcmFuZ2VQYXJ0c1sxXSAmJiB2ZXJzaW9uUGFydHNbMl0gPj0gcmFuZ2VQYXJ0c1syXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdmVyc2lvblBhcnRzWzJdID09PSByYW5nZVBhcnRzWzJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnNpb24gPT09IHJhbmdlIHx8IHZlcnNpb24gPT09ICcqJztcbiAgICB9O1xuXG59KSgpO1xuXG59LHtcIi4vQ29tbW9uXCI6MTR9XSwyMTpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuUnVubmVyYCBtb2R1bGUgaXMgYW4gb3B0aW9uYWwgdXRpbGl0eSB3aGljaCBwcm92aWRlcyBhIGdhbWUgbG9vcCwgXG4qIHRoYXQgaGFuZGxlcyBjb250aW51b3VzbHkgdXBkYXRpbmcgYSBgTWF0dGVyLkVuZ2luZWAgZm9yIHlvdSB3aXRoaW4gYSBicm93c2VyLlxuKiBJdCBpcyBpbnRlbmRlZCBmb3IgZGV2ZWxvcG1lbnQgYW5kIGRlYnVnZ2luZyBwdXJwb3NlcywgYnV0IG1heSBhbHNvIGJlIHN1aXRhYmxlIGZvciBzaW1wbGUgZ2FtZXMuXG4qIElmIHlvdSBhcmUgdXNpbmcgeW91ciBvd24gZ2FtZSBsb29wIGluc3RlYWQsIHRoZW4geW91IGRvIG5vdCBuZWVkIHRoZSBgTWF0dGVyLlJ1bm5lcmAgbW9kdWxlLlxuKiBJbnN0ZWFkIGp1c3QgY2FsbCBgRW5naW5lLnVwZGF0ZShlbmdpbmUsIGRlbHRhKWAgaW4geW91ciBvd24gbG9vcC5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFJ1bm5lclxuKi9cblxudmFyIFJ1bm5lciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJ1bm5lcjtcblxudmFyIEV2ZW50cyA9IF9kZXJlcV8oJy4vRXZlbnRzJyk7XG52YXIgRW5naW5lID0gX2RlcmVxXygnLi9FbmdpbmUnKTtcbnZhciBDb21tb24gPSBfZGVyZXFfKCcuL0NvbW1vbicpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSxcbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG4gICBcbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lID0gd2luZG93LmNhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tb3pDYW5jZWxBbmltYXRpb25GcmFtZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93LndlYmtpdENhbmNlbEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc0NhbmNlbEFuaW1hdGlvbkZyYW1lO1xuICAgIH1cblxuICAgIGlmICghX3JlcXVlc3RBbmltYXRpb25GcmFtZSkge1xuICAgICAgICB2YXIgX2ZyYW1lVGltZW91dDtcblxuICAgICAgICBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oY2FsbGJhY2speyBcbiAgICAgICAgICAgIF9mcmFtZVRpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgeyBcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhDb21tb24ubm93KCkpOyBcbiAgICAgICAgICAgIH0sIDEwMDAgLyA2MCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoX2ZyYW1lVGltZW91dCk7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBSdW5uZXIuIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHt9IG9wdGlvbnNcbiAgICAgKi9cbiAgICBSdW5uZXIuY3JlYXRlID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICB2YXIgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBmcHM6IDYwLFxuICAgICAgICAgICAgY29ycmVjdGlvbjogMSxcbiAgICAgICAgICAgIGRlbHRhU2FtcGxlU2l6ZTogNjAsXG4gICAgICAgICAgICBjb3VudGVyVGltZXN0YW1wOiAwLFxuICAgICAgICAgICAgZnJhbWVDb3VudGVyOiAwLFxuICAgICAgICAgICAgZGVsdGFIaXN0b3J5OiBbXSxcbiAgICAgICAgICAgIHRpbWVQcmV2OiBudWxsLFxuICAgICAgICAgICAgdGltZVNjYWxlUHJldjogMSxcbiAgICAgICAgICAgIGZyYW1lUmVxdWVzdElkOiBudWxsLFxuICAgICAgICAgICAgaXNGaXhlZDogZmFsc2UsXG4gICAgICAgICAgICBlbmFibGVkOiB0cnVlXG4gICAgICAgIH07XG5cbiAgICAgICAgdmFyIHJ1bm5lciA9IENvbW1vbi5leHRlbmQoZGVmYXVsdHMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHJ1bm5lci5kZWx0YSA9IHJ1bm5lci5kZWx0YSB8fCAxMDAwIC8gcnVubmVyLmZwcztcbiAgICAgICAgcnVubmVyLmRlbHRhTWluID0gcnVubmVyLmRlbHRhTWluIHx8IDEwMDAgLyBydW5uZXIuZnBzO1xuICAgICAgICBydW5uZXIuZGVsdGFNYXggPSBydW5uZXIuZGVsdGFNYXggfHwgMTAwMCAvIChydW5uZXIuZnBzICogMC41KTtcbiAgICAgICAgcnVubmVyLmZwcyA9IDEwMDAgLyBydW5uZXIuZGVsdGE7XG5cbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udGludW91c2x5IHRpY2tzIGEgYE1hdHRlci5FbmdpbmVgIGJ5IGNhbGxpbmcgYFJ1bm5lci50aWNrYCBvbiB0aGUgYHJlcXVlc3RBbmltYXRpb25GcmFtZWAgZXZlbnQuXG4gICAgICogQG1ldGhvZCBydW5cbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG4gICAgUnVubmVyLnJ1biA9IGZ1bmN0aW9uKHJ1bm5lciwgZW5naW5lKSB7XG4gICAgICAgIC8vIGNyZWF0ZSBydW5uZXIgaWYgZW5naW5lIGlzIGZpcnN0IGFyZ3VtZW50XG4gICAgICAgIGlmICh0eXBlb2YgcnVubmVyLnBvc2l0aW9uSXRlcmF0aW9ucyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGVuZ2luZSA9IHJ1bm5lcjtcbiAgICAgICAgICAgIHJ1bm5lciA9IFJ1bm5lci5jcmVhdGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIChmdW5jdGlvbiByZW5kZXIodGltZSl7XG4gICAgICAgICAgICBydW5uZXIuZnJhbWVSZXF1ZXN0SWQgPSBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHJlbmRlcik7XG5cbiAgICAgICAgICAgIGlmICh0aW1lICYmIHJ1bm5lci5lbmFibGVkKSB7XG4gICAgICAgICAgICAgICAgUnVubmVyLnRpY2socnVubmVyLCBlbmdpbmUsIHRpbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSgpO1xuXG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEEgZ2FtZSBsb29wIHV0aWxpdHkgdGhhdCB1cGRhdGVzIHRoZSBlbmdpbmUgYW5kIHJlbmRlcmVyIGJ5IG9uZSBzdGVwIChhICd0aWNrJykuXG4gICAgICogRmVhdHVyZXMgZGVsdGEgc21vb3RoaW5nLCB0aW1lIGNvcnJlY3Rpb24gYW5kIGZpeGVkIG9yIGR5bmFtaWMgdGltaW5nLlxuICAgICAqIFRyaWdnZXJzIGBiZWZvcmVUaWNrYCwgYHRpY2tgIGFuZCBgYWZ0ZXJUaWNrYCBldmVudHMgb24gdGhlIGVuZ2luZS5cbiAgICAgKiBDb25zaWRlciBqdXN0IGBFbmdpbmUudXBkYXRlKGVuZ2luZSwgZGVsdGEpYCBpZiB5b3UncmUgdXNpbmcgeW91ciBvd24gbG9vcC5cbiAgICAgKiBAbWV0aG9kIHRpY2tcbiAgICAgKiBAcGFyYW0ge3J1bm5lcn0gcnVubmVyXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB0aW1lXG4gICAgICovXG4gICAgUnVubmVyLnRpY2sgPSBmdW5jdGlvbihydW5uZXIsIGVuZ2luZSwgdGltZSkge1xuICAgICAgICB2YXIgdGltaW5nID0gZW5naW5lLnRpbWluZyxcbiAgICAgICAgICAgIGNvcnJlY3Rpb24gPSAxLFxuICAgICAgICAgICAgZGVsdGE7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuIGV2ZW50IG9iamVjdFxuICAgICAgICB2YXIgZXZlbnQgPSB7XG4gICAgICAgICAgICB0aW1lc3RhbXA6IHRpbWluZy50aW1lc3RhbXBcbiAgICAgICAgfTtcblxuICAgICAgICBFdmVudHMudHJpZ2dlcihydW5uZXIsICdiZWZvcmVUaWNrJywgZXZlbnQpO1xuICAgICAgICBFdmVudHMudHJpZ2dlcihlbmdpbmUsICdiZWZvcmVUaWNrJywgZXZlbnQpOyAvLyBAZGVwcmVjYXRlZFxuXG4gICAgICAgIGlmIChydW5uZXIuaXNGaXhlZCkge1xuICAgICAgICAgICAgLy8gZml4ZWQgdGltZXN0ZXBcbiAgICAgICAgICAgIGRlbHRhID0gcnVubmVyLmRlbHRhO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gZHluYW1pYyB0aW1lc3RlcCBiYXNlZCBvbiB3YWxsIGNsb2NrIGJldHdlZW4gY2FsbHNcbiAgICAgICAgICAgIGRlbHRhID0gKHRpbWUgLSBydW5uZXIudGltZVByZXYpIHx8IHJ1bm5lci5kZWx0YTtcbiAgICAgICAgICAgIHJ1bm5lci50aW1lUHJldiA9IHRpbWU7XG5cbiAgICAgICAgICAgIC8vIG9wdGltaXN0aWNhbGx5IGZpbHRlciBkZWx0YSBvdmVyIGEgZmV3IGZyYW1lcywgdG8gaW1wcm92ZSBzdGFiaWxpdHlcbiAgICAgICAgICAgIHJ1bm5lci5kZWx0YUhpc3RvcnkucHVzaChkZWx0YSk7XG4gICAgICAgICAgICBydW5uZXIuZGVsdGFIaXN0b3J5ID0gcnVubmVyLmRlbHRhSGlzdG9yeS5zbGljZSgtcnVubmVyLmRlbHRhU2FtcGxlU2l6ZSk7XG4gICAgICAgICAgICBkZWx0YSA9IE1hdGgubWluLmFwcGx5KG51bGwsIHJ1bm5lci5kZWx0YUhpc3RvcnkpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBsaW1pdCBkZWx0YVxuICAgICAgICAgICAgZGVsdGEgPSBkZWx0YSA8IHJ1bm5lci5kZWx0YU1pbiA/IHJ1bm5lci5kZWx0YU1pbiA6IGRlbHRhO1xuICAgICAgICAgICAgZGVsdGEgPSBkZWx0YSA+IHJ1bm5lci5kZWx0YU1heCA/IHJ1bm5lci5kZWx0YU1heCA6IGRlbHRhO1xuXG4gICAgICAgICAgICAvLyBjb3JyZWN0aW9uIGZvciBkZWx0YVxuICAgICAgICAgICAgY29ycmVjdGlvbiA9IGRlbHRhIC8gcnVubmVyLmRlbHRhO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgZW5naW5lIHRpbWluZyBvYmplY3RcbiAgICAgICAgICAgIHJ1bm5lci5kZWx0YSA9IGRlbHRhO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGltZSBjb3JyZWN0aW9uIGZvciB0aW1lIHNjYWxpbmdcbiAgICAgICAgaWYgKHJ1bm5lci50aW1lU2NhbGVQcmV2ICE9PSAwKVxuICAgICAgICAgICAgY29ycmVjdGlvbiAqPSB0aW1pbmcudGltZVNjYWxlIC8gcnVubmVyLnRpbWVTY2FsZVByZXY7XG5cbiAgICAgICAgaWYgKHRpbWluZy50aW1lU2NhbGUgPT09IDApXG4gICAgICAgICAgICBjb3JyZWN0aW9uID0gMDtcblxuICAgICAgICBydW5uZXIudGltZVNjYWxlUHJldiA9IHRpbWluZy50aW1lU2NhbGU7XG4gICAgICAgIHJ1bm5lci5jb3JyZWN0aW9uID0gY29ycmVjdGlvbjtcblxuICAgICAgICAvLyBmcHMgY291bnRlclxuICAgICAgICBydW5uZXIuZnJhbWVDb3VudGVyICs9IDE7XG4gICAgICAgIGlmICh0aW1lIC0gcnVubmVyLmNvdW50ZXJUaW1lc3RhbXAgPj0gMTAwMCkge1xuICAgICAgICAgICAgcnVubmVyLmZwcyA9IHJ1bm5lci5mcmFtZUNvdW50ZXIgKiAoKHRpbWUgLSBydW5uZXIuY291bnRlclRpbWVzdGFtcCkgLyAxMDAwKTtcbiAgICAgICAgICAgIHJ1bm5lci5jb3VudGVyVGltZXN0YW1wID0gdGltZTtcbiAgICAgICAgICAgIHJ1bm5lci5mcmFtZUNvdW50ZXIgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAndGljaycsIGV2ZW50KTtcbiAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAndGljaycsIGV2ZW50KTsgLy8gQGRlcHJlY2F0ZWRcblxuICAgICAgICAvLyBpZiB3b3JsZCBoYXMgYmVlbiBtb2RpZmllZCwgY2xlYXIgdGhlIHJlbmRlciBzY2VuZSBncmFwaFxuICAgICAgICBpZiAoZW5naW5lLndvcmxkLmlzTW9kaWZpZWQgXG4gICAgICAgICAgICAmJiBlbmdpbmUucmVuZGVyXG4gICAgICAgICAgICAmJiBlbmdpbmUucmVuZGVyLmNvbnRyb2xsZXJcbiAgICAgICAgICAgICYmIGVuZ2luZS5yZW5kZXIuY29udHJvbGxlci5jbGVhcikge1xuICAgICAgICAgICAgZW5naW5lLnJlbmRlci5jb250cm9sbGVyLmNsZWFyKGVuZ2luZS5yZW5kZXIpOyAvLyBAZGVwcmVjYXRlZFxuICAgICAgICB9XG5cbiAgICAgICAgLy8gdXBkYXRlXG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2JlZm9yZVVwZGF0ZScsIGV2ZW50KTtcbiAgICAgICAgRW5naW5lLnVwZGF0ZShlbmdpbmUsIGRlbHRhLCBjb3JyZWN0aW9uKTtcbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYWZ0ZXJVcGRhdGUnLCBldmVudCk7XG5cbiAgICAgICAgLy8gcmVuZGVyXG4gICAgICAgIC8vIEBkZXByZWNhdGVkXG4gICAgICAgIGlmIChlbmdpbmUucmVuZGVyICYmIGVuZ2luZS5yZW5kZXIuY29udHJvbGxlcikge1xuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIocnVubmVyLCAnYmVmb3JlUmVuZGVyJywgZXZlbnQpO1xuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnYmVmb3JlUmVuZGVyJywgZXZlbnQpOyAvLyBAZGVwcmVjYXRlZFxuXG4gICAgICAgICAgICBlbmdpbmUucmVuZGVyLmNvbnRyb2xsZXIud29ybGQoZW5naW5lLnJlbmRlcik7XG5cbiAgICAgICAgICAgIEV2ZW50cy50cmlnZ2VyKHJ1bm5lciwgJ2FmdGVyUmVuZGVyJywgZXZlbnQpO1xuICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoZW5naW5lLCAnYWZ0ZXJSZW5kZXInLCBldmVudCk7IC8vIEBkZXByZWNhdGVkXG4gICAgICAgIH1cblxuICAgICAgICBFdmVudHMudHJpZ2dlcihydW5uZXIsICdhZnRlclRpY2snLCBldmVudCk7XG4gICAgICAgIEV2ZW50cy50cmlnZ2VyKGVuZ2luZSwgJ2FmdGVyVGljaycsIGV2ZW50KTsgLy8gQGRlcHJlY2F0ZWRcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5kcyBleGVjdXRpb24gb2YgYFJ1bm5lci5ydW5gIG9uIHRoZSBnaXZlbiBgcnVubmVyYCwgYnkgY2FuY2VsaW5nIHRoZSBhbmltYXRpb24gZnJhbWUgcmVxdWVzdCBldmVudCBsb29wLlxuICAgICAqIElmIHlvdSB3aXNoIHRvIG9ubHkgdGVtcG9yYXJpbHkgcGF1c2UgdGhlIGVuZ2luZSwgc2VlIGBlbmdpbmUuZW5hYmxlZGAgaW5zdGVhZC5cbiAgICAgKiBAbWV0aG9kIHN0b3BcbiAgICAgKiBAcGFyYW0ge3J1bm5lcn0gcnVubmVyXG4gICAgICovXG4gICAgUnVubmVyLnN0b3AgPSBmdW5jdGlvbihydW5uZXIpIHtcbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lKHJ1bm5lci5mcmFtZVJlcXVlc3RJZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFsaWFzIGZvciBgUnVubmVyLnJ1bmAuXG4gICAgICogQG1ldGhvZCBzdGFydFxuICAgICAqIEBwYXJhbSB7cnVubmVyfSBydW5uZXJcbiAgICAgKiBAcGFyYW0ge2VuZ2luZX0gZW5naW5lXG4gICAgICovXG4gICAgUnVubmVyLnN0YXJ0ID0gZnVuY3Rpb24ocnVubmVyLCBlbmdpbmUpIHtcbiAgICAgICAgUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7XG4gICAgfTtcblxuICAgIC8qXG4gICAgKlxuICAgICogIEV2ZW50cyBEb2N1bWVudGF0aW9uXG4gICAgKlxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGF0IHRoZSBzdGFydCBvZiBhIHRpY2ssIGJlZm9yZSBhbnkgdXBkYXRlcyB0byB0aGUgZW5naW5lIG9yIHRpbWluZ1xuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVUaWNrXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhZnRlciBlbmdpbmUgdGltaW5nIHVwZGF0ZWQsIGJ1dCBqdXN0IGJlZm9yZSB1cGRhdGVcbiAgICAqXG4gICAgKiBAZXZlbnQgdGlja1xuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYXQgdGhlIGVuZCBvZiBhIHRpY2ssIGFmdGVyIGVuZ2luZSB1cGRhdGUgYW5kIGFmdGVyIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBhZnRlclRpY2tcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGJlZm9yZSB1cGRhdGVcbiAgICAqXG4gICAgKiBAZXZlbnQgYmVmb3JlVXBkYXRlXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgKiBGaXJlZCBhZnRlciB1cGRhdGVcbiAgICAqXG4gICAgKiBAZXZlbnQgYWZ0ZXJVcGRhdGVcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGJlZm9yZSByZW5kZXJpbmdcbiAgICAqXG4gICAgKiBAZXZlbnQgYmVmb3JlUmVuZGVyXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqIEBkZXByZWNhdGVkXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYWZ0ZXIgcmVuZGVyaW5nXG4gICAgKlxuICAgICogQGV2ZW50IGFmdGVyUmVuZGVyXG4gICAgKiBAcGFyYW0ge30gZXZlbnQgQW4gZXZlbnQgb2JqZWN0XG4gICAgKiBAcGFyYW0ge251bWJlcn0gZXZlbnQudGltZXN0YW1wIFRoZSBlbmdpbmUudGltaW5nLnRpbWVzdGFtcCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5zb3VyY2UgVGhlIHNvdXJjZSBvYmplY3Qgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQubmFtZSBUaGUgbmFtZSBvZiB0aGUgZXZlbnRcbiAgICAqIEBkZXByZWNhdGVkXG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgc3BlY2lmaWVzIHdoZXRoZXIgdGhlIHJ1bm5lciBpcyBydW5uaW5nIG9yIG5vdC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbmFibGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IHRydWVcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIEEgYEJvb2xlYW5gIHRoYXQgc3BlY2lmaWVzIGlmIHRoZSBydW5uZXIgc2hvdWxkIHVzZSBhIGZpeGVkIHRpbWVzdGVwIChvdGhlcndpc2UgaXQgaXMgdmFyaWFibGUpLlxuICAgICAqIElmIHRpbWluZyBpcyBmaXhlZCwgdGhlbiB0aGUgYXBwYXJlbnQgc2ltdWxhdGlvbiBzcGVlZCB3aWxsIGNoYW5nZSBkZXBlbmRpbmcgb24gdGhlIGZyYW1lIHJhdGUgKGJ1dCBiZWhhdmlvdXIgd2lsbCBiZSBkZXRlcm1pbmlzdGljKS5cbiAgICAgKiBJZiB0aGUgdGltaW5nIGlzIHZhcmlhYmxlLCB0aGVuIHRoZSBhcHBhcmVudCBzaW11bGF0aW9uIHNwZWVkIHdpbGwgYmUgY29uc3RhbnQgKGFwcHJveGltYXRlbHksIGJ1dCBhdCB0aGUgY29zdCBvZiBkZXRlcm1pbmluaXNtKS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBpc0ZpeGVkXG4gICAgICogQHR5cGUgYm9vbGVhblxuICAgICAqIEBkZWZhdWx0IGZhbHNlXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIGBOdW1iZXJgIHRoYXQgc3BlY2lmaWVzIHRoZSB0aW1lIHN0ZXAgYmV0d2VlbiB1cGRhdGVzIGluIG1pbGxpc2Vjb25kcy5cbiAgICAgKiBJZiBgZW5naW5lLnRpbWluZy5pc0ZpeGVkYCBpcyBzZXQgdG8gYHRydWVgLCB0aGVuIGBkZWx0YWAgaXMgZml4ZWQuXG4gICAgICogSWYgaXQgaXMgYGZhbHNlYCwgdGhlbiBgZGVsdGFgIGNhbiBkeW5hbWljYWxseSBjaGFuZ2UgdG8gbWFpbnRhaW4gdGhlIGNvcnJlY3QgYXBwYXJlbnQgc2ltdWxhdGlvbiBzcGVlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBkZWx0YVxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDEwMDAgLyA2MFxuICAgICAqL1xuXG59KSgpO1xuXG59LHtcIi4vQ29tbW9uXCI6MTQsXCIuL0VuZ2luZVwiOjE1LFwiLi9FdmVudHNcIjoxNn1dLDIyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5TbGVlcGluZ2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgdG8gbWFuYWdlIHRoZSBzbGVlcGluZyBzdGF0ZSBvZiBib2RpZXMuXG4qXG4qIEBjbGFzcyBTbGVlcGluZ1xuKi9cblxudmFyIFNsZWVwaW5nID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gU2xlZXBpbmc7XG5cbnZhciBFdmVudHMgPSBfZGVyZXFfKCcuL0V2ZW50cycpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICBTbGVlcGluZy5fbW90aW9uV2FrZVRocmVzaG9sZCA9IDAuMTg7XG4gICAgU2xlZXBpbmcuX21vdGlvblNsZWVwVGhyZXNob2xkID0gMC4wODtcbiAgICBTbGVlcGluZy5fbWluQmlhcyA9IDAuOTtcblxuICAgIC8qKlxuICAgICAqIFB1dHMgYm9kaWVzIHRvIHNsZWVwIG9yIHdha2VzIHRoZW0gdXAgZGVwZW5kaW5nIG9uIHRoZWlyIG1vdGlvbi5cbiAgICAgKiBAbWV0aG9kIHVwZGF0ZVxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVNjYWxlXG4gICAgICovXG4gICAgU2xlZXBpbmcudXBkYXRlID0gZnVuY3Rpb24oYm9kaWVzLCB0aW1lU2NhbGUpIHtcbiAgICAgICAgdmFyIHRpbWVGYWN0b3IgPSB0aW1lU2NhbGUgKiB0aW1lU2NhbGUgKiB0aW1lU2NhbGU7XG5cbiAgICAgICAgLy8gdXBkYXRlIGJvZGllcyBzbGVlcGluZyBzdGF0dXNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldLFxuICAgICAgICAgICAgICAgIG1vdGlvbiA9IGJvZHkuc3BlZWQgKiBib2R5LnNwZWVkICsgYm9keS5hbmd1bGFyU3BlZWQgKiBib2R5LmFuZ3VsYXJTcGVlZDtcblxuICAgICAgICAgICAgLy8gd2FrZSB1cCBib2RpZXMgaWYgdGhleSBoYXZlIGEgZm9yY2UgYXBwbGllZFxuICAgICAgICAgICAgaWYgKGJvZHkuZm9yY2UueCAhPT0gMCB8fCBib2R5LmZvcmNlLnkgIT09IDApIHtcbiAgICAgICAgICAgICAgICBTbGVlcGluZy5zZXQoYm9keSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgbWluTW90aW9uID0gTWF0aC5taW4oYm9keS5tb3Rpb24sIG1vdGlvbiksXG4gICAgICAgICAgICAgICAgbWF4TW90aW9uID0gTWF0aC5tYXgoYm9keS5tb3Rpb24sIG1vdGlvbik7XG4gICAgICAgIFxuICAgICAgICAgICAgLy8gYmlhc2VkIGF2ZXJhZ2UgbW90aW9uIGVzdGltYXRpb24gYmV0d2VlbiBmcmFtZXNcbiAgICAgICAgICAgIGJvZHkubW90aW9uID0gU2xlZXBpbmcuX21pbkJpYXMgKiBtaW5Nb3Rpb24gKyAoMSAtIFNsZWVwaW5nLl9taW5CaWFzKSAqIG1heE1vdGlvbjtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKGJvZHkuc2xlZXBUaHJlc2hvbGQgPiAwICYmIGJvZHkubW90aW9uIDwgU2xlZXBpbmcuX21vdGlvblNsZWVwVGhyZXNob2xkICogdGltZUZhY3Rvcikge1xuICAgICAgICAgICAgICAgIGJvZHkuc2xlZXBDb3VudGVyICs9IDE7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGJvZHkuc2xlZXBDb3VudGVyID49IGJvZHkuc2xlZXBUaHJlc2hvbGQpXG4gICAgICAgICAgICAgICAgICAgIFNsZWVwaW5nLnNldChib2R5LCB0cnVlKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYm9keS5zbGVlcENvdW50ZXIgPiAwKSB7XG4gICAgICAgICAgICAgICAgYm9keS5zbGVlcENvdW50ZXIgLT0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHaXZlbiBhIHNldCBvZiBjb2xsaWRpbmcgcGFpcnMsIHdha2VzIHRoZSBzbGVlcGluZyBib2RpZXMgaW52b2x2ZWQuXG4gICAgICogQG1ldGhvZCBhZnRlckNvbGxpc2lvbnNcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gdGltZVNjYWxlXG4gICAgICovXG4gICAgU2xlZXBpbmcuYWZ0ZXJDb2xsaXNpb25zID0gZnVuY3Rpb24ocGFpcnMsIHRpbWVTY2FsZSkge1xuICAgICAgICB2YXIgdGltZUZhY3RvciA9IHRpbWVTY2FsZSAqIHRpbWVTY2FsZSAqIHRpbWVTY2FsZTtcblxuICAgICAgICAvLyB3YWtlIHVwIGJvZGllcyBpbnZvbHZlZCBpbiBjb2xsaXNpb25zXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFpcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYWlyID0gcGFpcnNbaV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGRvbid0IHdha2UgaW5hY3RpdmUgcGFpcnNcbiAgICAgICAgICAgIGlmICghcGFpci5pc0FjdGl2ZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgdmFyIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uLFxuICAgICAgICAgICAgICAgIGJvZHlBID0gY29sbGlzaW9uLmJvZHlBLnBhcmVudCwgXG4gICAgICAgICAgICAgICAgYm9keUIgPSBjb2xsaXNpb24uYm9keUIucGFyZW50O1xuICAgICAgICBcbiAgICAgICAgICAgIC8vIGRvbid0IHdha2UgaWYgYXQgbGVhc3Qgb25lIGJvZHkgaXMgc3RhdGljXG4gICAgICAgICAgICBpZiAoKGJvZHlBLmlzU2xlZXBpbmcgJiYgYm9keUIuaXNTbGVlcGluZykgfHwgYm9keUEuaXNTdGF0aWMgfHwgYm9keUIuaXNTdGF0aWMpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIFxuICAgICAgICAgICAgaWYgKGJvZHlBLmlzU2xlZXBpbmcgfHwgYm9keUIuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgIHZhciBzbGVlcGluZ0JvZHkgPSAoYm9keUEuaXNTbGVlcGluZyAmJiAhYm9keUEuaXNTdGF0aWMpID8gYm9keUEgOiBib2R5QixcbiAgICAgICAgICAgICAgICAgICAgbW92aW5nQm9keSA9IHNsZWVwaW5nQm9keSA9PT0gYm9keUEgPyBib2R5QiA6IGJvZHlBO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFzbGVlcGluZ0JvZHkuaXNTdGF0aWMgJiYgbW92aW5nQm9keS5tb3Rpb24gPiBTbGVlcGluZy5fbW90aW9uV2FrZVRocmVzaG9sZCAqIHRpbWVGYWN0b3IpIHtcbiAgICAgICAgICAgICAgICAgICAgU2xlZXBpbmcuc2V0KHNsZWVwaW5nQm9keSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gIFxuICAgIC8qKlxuICAgICAqIFNldCBhIGJvZHkgYXMgc2xlZXBpbmcgb3IgYXdha2UuXG4gICAgICogQG1ldGhvZCBzZXRcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IGlzU2xlZXBpbmdcbiAgICAgKi9cbiAgICBTbGVlcGluZy5zZXQgPSBmdW5jdGlvbihib2R5LCBpc1NsZWVwaW5nKSB7XG4gICAgICAgIHZhciB3YXNTbGVlcGluZyA9IGJvZHkuaXNTbGVlcGluZztcblxuICAgICAgICBpZiAoaXNTbGVlcGluZykge1xuICAgICAgICAgICAgYm9keS5pc1NsZWVwaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgIGJvZHkuc2xlZXBDb3VudGVyID0gYm9keS5zbGVlcFRocmVzaG9sZDtcblxuICAgICAgICAgICAgYm9keS5wb3NpdGlvbkltcHVsc2UueCA9IDA7XG4gICAgICAgICAgICBib2R5LnBvc2l0aW9uSW1wdWxzZS55ID0gMDtcblxuICAgICAgICAgICAgYm9keS5wb3NpdGlvblByZXYueCA9IGJvZHkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIGJvZHkucG9zaXRpb25QcmV2LnkgPSBib2R5LnBvc2l0aW9uLnk7XG5cbiAgICAgICAgICAgIGJvZHkuYW5nbGVQcmV2ID0gYm9keS5hbmdsZTtcbiAgICAgICAgICAgIGJvZHkuc3BlZWQgPSAwO1xuICAgICAgICAgICAgYm9keS5hbmd1bGFyU3BlZWQgPSAwO1xuICAgICAgICAgICAgYm9keS5tb3Rpb24gPSAwO1xuXG4gICAgICAgICAgICBpZiAoIXdhc1NsZWVwaW5nKSB7XG4gICAgICAgICAgICAgICAgRXZlbnRzLnRyaWdnZXIoYm9keSwgJ3NsZWVwU3RhcnQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJvZHkuaXNTbGVlcGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgYm9keS5zbGVlcENvdW50ZXIgPSAwO1xuXG4gICAgICAgICAgICBpZiAod2FzU2xlZXBpbmcpIHtcbiAgICAgICAgICAgICAgICBFdmVudHMudHJpZ2dlcihib2R5LCAnc2xlZXBFbmQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG5cbn0se1wiLi9FdmVudHNcIjoxNn1dLDIzOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5Cb2RpZXNgIG1vZHVsZSBjb250YWlucyBmYWN0b3J5IG1ldGhvZHMgZm9yIGNyZWF0aW5nIHJpZ2lkIGJvZHkgbW9kZWxzIFxuKiB3aXRoIGNvbW1vbmx5IHVzZWQgYm9keSBjb25maWd1cmF0aW9ucyAoc3VjaCBhcyByZWN0YW5nbGVzLCBjaXJjbGVzIGFuZCBvdGhlciBwb2x5Z29ucykuXG4qXG4qIFNlZSB0aGUgaW5jbHVkZWQgdXNhZ2UgW2V4YW1wbGVzXShodHRwczovL2dpdGh1Yi5jb20vbGlhYnJ1L21hdHRlci1qcy90cmVlL21hc3Rlci9leGFtcGxlcykuXG4qXG4qIEBjbGFzcyBCb2RpZXNcbiovXG5cbi8vIFRPRE86IHRydWUgY2lyY2xlIGJvZGllc1xuXG52YXIgQm9kaWVzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQm9kaWVzO1xuXG52YXIgVmVydGljZXMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZXJ0aWNlcycpO1xudmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7XG52YXIgQm9keSA9IF9kZXJlcV8oJy4uL2JvZHkvQm9keScpO1xudmFyIEJvdW5kcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0JvdW5kcycpO1xudmFyIFZlY3RvciA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlY3RvcicpO1xudmFyIGRlY29tcDtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSByZWN0YW5nbGUgaHVsbC4gXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgcHJvcGVydGllcyB5b3Ugd2lzaCB0byBvdmVycmlkZSB0aGUgZGVmYXVsdHMuXG4gICAgICogU2VlIHRoZSBwcm9wZXJ0aWVzIHNlY3Rpb24gb2YgdGhlIGBNYXR0ZXIuQm9keWAgbW9kdWxlIGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCByZWN0YW5nbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdpZHRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGhlaWdodFxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBbb3B0aW9uc11cbiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyByZWN0YW5nbGUgYm9keVxuICAgICAqL1xuICAgIEJvZGllcy5yZWN0YW5nbGUgPSBmdW5jdGlvbih4LCB5LCB3aWR0aCwgaGVpZ2h0LCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciByZWN0YW5nbGUgPSB7IFxuICAgICAgICAgICAgbGFiZWw6ICdSZWN0YW5nbGUgQm9keScsXG4gICAgICAgICAgICBwb3NpdGlvbjogeyB4OiB4LCB5OiB5IH0sXG4gICAgICAgICAgICB2ZXJ0aWNlczogVmVydGljZXMuZnJvbVBhdGgoJ0wgMCAwIEwgJyArIHdpZHRoICsgJyAwIEwgJyArIHdpZHRoICsgJyAnICsgaGVpZ2h0ICsgJyBMIDAgJyArIGhlaWdodClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jaGFtZmVyKSB7XG4gICAgICAgICAgICB2YXIgY2hhbWZlciA9IG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgICAgIHJlY3RhbmdsZS52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocmVjdGFuZ2xlLnZlcnRpY2VzLCBjaGFtZmVyLnJhZGl1cywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFtZmVyLnF1YWxpdHksIGNoYW1mZXIucXVhbGl0eU1pbiwgY2hhbWZlci5xdWFsaXR5TWF4KTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmNoYW1mZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7fSwgcmVjdGFuZ2xlLCBvcHRpb25zKSk7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJpZ2lkIGJvZHkgbW9kZWwgd2l0aCBhIHRyYXBlem9pZCBodWxsLiBcbiAgICAgKiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBvZiB0aGUgYE1hdHRlci5Cb2R5YCBtb2R1bGUgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIHRyYXBlem9pZFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2lkdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gaGVpZ2h0XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNsb3BlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2JvZHl9IEEgbmV3IHRyYXBlem9pZCBib2R5XG4gICAgICovXG4gICAgQm9kaWVzLnRyYXBlem9pZCA9IGZ1bmN0aW9uKHgsIHksIHdpZHRoLCBoZWlnaHQsIHNsb3BlLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHNsb3BlICo9IDAuNTtcbiAgICAgICAgdmFyIHJvb2YgPSAoMSAtIChzbG9wZSAqIDIpKSAqIHdpZHRoO1xuICAgICAgICBcbiAgICAgICAgdmFyIHgxID0gd2lkdGggKiBzbG9wZSxcbiAgICAgICAgICAgIHgyID0geDEgKyByb29mLFxuICAgICAgICAgICAgeDMgPSB4MiArIHgxLFxuICAgICAgICAgICAgdmVydGljZXNQYXRoO1xuXG4gICAgICAgIGlmIChzbG9wZSA8IDAuNSkge1xuICAgICAgICAgICAgdmVydGljZXNQYXRoID0gJ0wgMCAwIEwgJyArIHgxICsgJyAnICsgKC1oZWlnaHQpICsgJyBMICcgKyB4MiArICcgJyArICgtaGVpZ2h0KSArICcgTCAnICsgeDMgKyAnIDAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmVydGljZXNQYXRoID0gJ0wgMCAwIEwgJyArIHgyICsgJyAnICsgKC1oZWlnaHQpICsgJyBMICcgKyB4MyArICcgMCc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgdHJhcGV6b2lkID0geyBcbiAgICAgICAgICAgIGxhYmVsOiAnVHJhcGV6b2lkIEJvZHknLFxuICAgICAgICAgICAgcG9zaXRpb246IHsgeDogeCwgeTogeSB9LFxuICAgICAgICAgICAgdmVydGljZXM6IFZlcnRpY2VzLmZyb21QYXRoKHZlcnRpY2VzUGF0aClcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jaGFtZmVyKSB7XG4gICAgICAgICAgICB2YXIgY2hhbWZlciA9IG9wdGlvbnMuY2hhbWZlcjtcbiAgICAgICAgICAgIHRyYXBlem9pZC52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIodHJhcGV6b2lkLnZlcnRpY2VzLCBjaGFtZmVyLnJhZGl1cywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGFtZmVyLnF1YWxpdHksIGNoYW1mZXIucXVhbGl0eU1pbiwgY2hhbWZlci5xdWFsaXR5TWF4KTtcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRpb25zLmNoYW1mZXI7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7fSwgdHJhcGV6b2lkLCBvcHRpb25zKSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgcmlnaWQgYm9keSBtb2RlbCB3aXRoIGEgY2lyY2xlIGh1bGwuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgY2lyY2xlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByYWRpdXNcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFttYXhTaWRlc11cbiAgICAgKiBAcmV0dXJuIHtib2R5fSBBIG5ldyBjaXJjbGUgYm9keVxuICAgICAqL1xuICAgIEJvZGllcy5jaXJjbGUgPSBmdW5jdGlvbih4LCB5LCByYWRpdXMsIG9wdGlvbnMsIG1heFNpZGVzKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIHZhciBjaXJjbGUgPSB7XG4gICAgICAgICAgICBsYWJlbDogJ0NpcmNsZSBCb2R5JyxcbiAgICAgICAgICAgIGNpcmNsZVJhZGl1czogcmFkaXVzXG4gICAgICAgIH07XG4gICAgICAgIFxuICAgICAgICAvLyBhcHByb3hpbWF0ZSBjaXJjbGVzIHdpdGggcG9seWdvbnMgdW50aWwgdHJ1ZSBjaXJjbGVzIGltcGxlbWVudGVkIGluIFNBVFxuICAgICAgICBtYXhTaWRlcyA9IG1heFNpZGVzIHx8IDI1O1xuICAgICAgICB2YXIgc2lkZXMgPSBNYXRoLmNlaWwoTWF0aC5tYXgoMTAsIE1hdGgubWluKG1heFNpZGVzLCByYWRpdXMpKSk7XG5cbiAgICAgICAgLy8gb3B0aW1pc2F0aW9uOiBhbHdheXMgdXNlIGV2ZW4gbnVtYmVyIG9mIHNpZGVzIChoYWxmIHRoZSBudW1iZXIgb2YgdW5pcXVlIGF4ZXMpXG4gICAgICAgIGlmIChzaWRlcyAlIDIgPT09IDEpXG4gICAgICAgICAgICBzaWRlcyArPSAxO1xuXG4gICAgICAgIHJldHVybiBCb2RpZXMucG9seWdvbih4LCB5LCBzaWRlcywgcmFkaXVzLCBDb21tb24uZXh0ZW5kKHt9LCBjaXJjbGUsIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyByaWdpZCBib2R5IG1vZGVsIHdpdGggYSByZWd1bGFyIHBvbHlnb24gaHVsbCB3aXRoIHRoZSBnaXZlbiBudW1iZXIgb2Ygc2lkZXMuIFxuICAgICAqIFRoZSBvcHRpb25zIHBhcmFtZXRlciBpcyBhbiBvYmplY3QgdGhhdCBzcGVjaWZpZXMgYW55IHByb3BlcnRpZXMgeW91IHdpc2ggdG8gb3ZlcnJpZGUgdGhlIGRlZmF1bHRzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIG9mIHRoZSBgTWF0dGVyLkJvZHlgIG1vZHVsZSBmb3IgZGV0YWlsZWQgaW5mb3JtYXRpb24gb24gd2hhdCB5b3UgY2FuIHBhc3MgdmlhIHRoZSBgb3B0aW9uc2Agb2JqZWN0LlxuICAgICAqIEBtZXRob2QgcG9seWdvblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2lkZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEByZXR1cm4ge2JvZHl9IEEgbmV3IHJlZ3VsYXIgcG9seWdvbiBib2R5XG4gICAgICovXG4gICAgQm9kaWVzLnBvbHlnb24gPSBmdW5jdGlvbih4LCB5LCBzaWRlcywgcmFkaXVzLCBvcHRpb25zKSB7XG4gICAgICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuXG4gICAgICAgIGlmIChzaWRlcyA8IDMpXG4gICAgICAgICAgICByZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCByYWRpdXMsIG9wdGlvbnMpO1xuXG4gICAgICAgIHZhciB0aGV0YSA9IDIgKiBNYXRoLlBJIC8gc2lkZXMsXG4gICAgICAgICAgICBwYXRoID0gJycsXG4gICAgICAgICAgICBvZmZzZXQgPSB0aGV0YSAqIDAuNTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpZGVzOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IG9mZnNldCArIChpICogdGhldGEpLFxuICAgICAgICAgICAgICAgIHh4ID0gTWF0aC5jb3MoYW5nbGUpICogcmFkaXVzLFxuICAgICAgICAgICAgICAgIHl5ID0gTWF0aC5zaW4oYW5nbGUpICogcmFkaXVzO1xuXG4gICAgICAgICAgICBwYXRoICs9ICdMICcgKyB4eC50b0ZpeGVkKDMpICsgJyAnICsgeXkudG9GaXhlZCgzKSArICcgJztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwb2x5Z29uID0geyBcbiAgICAgICAgICAgIGxhYmVsOiAnUG9seWdvbiBCb2R5JyxcbiAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgICAgIHZlcnRpY2VzOiBWZXJ0aWNlcy5mcm9tUGF0aChwYXRoKVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNoYW1mZXIpIHtcbiAgICAgICAgICAgIHZhciBjaGFtZmVyID0gb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICAgICAgcG9seWdvbi52ZXJ0aWNlcyA9IFZlcnRpY2VzLmNoYW1mZXIocG9seWdvbi52ZXJ0aWNlcywgY2hhbWZlci5yYWRpdXMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hhbWZlci5xdWFsaXR5LCBjaGFtZmVyLnF1YWxpdHlNaW4sIGNoYW1mZXIucXVhbGl0eU1heCk7XG4gICAgICAgICAgICBkZWxldGUgb3B0aW9ucy5jaGFtZmVyO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJvZHkuY3JlYXRlKENvbW1vbi5leHRlbmQoe30sIHBvbHlnb24sIG9wdGlvbnMpKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJvZHkgdXNpbmcgdGhlIHN1cHBsaWVkIHZlcnRpY2VzIChvciBhbiBhcnJheSBjb250YWluaW5nIG11bHRpcGxlIHNldHMgb2YgdmVydGljZXMpLlxuICAgICAqIElmIHRoZSB2ZXJ0aWNlcyBhcmUgY29udmV4LCB0aGV5IHdpbGwgcGFzcyB0aHJvdWdoIGFzIHN1cHBsaWVkLlxuICAgICAqIE90aGVyd2lzZSBpZiB0aGUgdmVydGljZXMgYXJlIGNvbmNhdmUsIHRoZXkgd2lsbCBiZSBkZWNvbXBvc2VkIGlmIFtwb2x5LWRlY29tcC5qc10oaHR0cHM6Ly9naXRodWIuY29tL3NjaHRlcHBlL3BvbHktZGVjb21wLmpzKSBpcyBhdmFpbGFibGUuXG4gICAgICogTm90ZSB0aGF0IHRoaXMgcHJvY2VzcyBpcyBub3QgZ3VhcmFudGVlZCB0byBzdXBwb3J0IGNvbXBsZXggc2V0cyBvZiB2ZXJ0aWNlcyAoZS5nLiB0aG9zZSB3aXRoIGhvbGVzIG1heSBmYWlsKS5cbiAgICAgKiBCeSBkZWZhdWx0IHRoZSBkZWNvbXBvc2l0aW9uIHdpbGwgZGlzY2FyZCBjb2xsaW5lYXIgZWRnZXMgKHRvIGltcHJvdmUgcGVyZm9ybWFuY2UpLlxuICAgICAqIEl0IGNhbiBhbHNvIG9wdGlvbmFsbHkgZGlzY2FyZCBhbnkgcGFydHMgdGhhdCBoYXZlIGFuIGFyZWEgbGVzcyB0aGFuIGBtaW5pbXVtQXJlYWAuXG4gICAgICogSWYgdGhlIHZlcnRpY2VzIGNhbiBub3QgYmUgZGVjb21wb3NlZCwgdGhlIHJlc3VsdCB3aWxsIGZhbGwgYmFjayB0byB1c2luZyB0aGUgY29udmV4IGh1bGwuXG4gICAgICogVGhlIG9wdGlvbnMgcGFyYW1ldGVyIGlzIGFuIG9iamVjdCB0aGF0IHNwZWNpZmllcyBhbnkgYE1hdHRlci5Cb2R5YCBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBTZWUgdGhlIHByb3BlcnRpZXMgc2VjdGlvbiBvZiB0aGUgYE1hdHRlci5Cb2R5YCBtb2R1bGUgZm9yIGRldGFpbGVkIGluZm9ybWF0aW9uIG9uIHdoYXQgeW91IGNhbiBwYXNzIHZpYSB0aGUgYG9wdGlvbnNgIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIGZyb21WZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlcbiAgICAgKiBAcGFyYW0gW1t2ZWN0b3JdXSB2ZXJ0ZXhTZXRzXG4gICAgICogQHBhcmFtIHtvYmplY3R9IFtvcHRpb25zXVxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW2ZsYWdJbnRlcm5hbD1mYWxzZV1cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3JlbW92ZUNvbGxpbmVhcj0wLjAxXVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbWluaW11bUFyZWE9MTBdXG4gICAgICogQHJldHVybiB7Ym9keX1cbiAgICAgKi9cbiAgICBCb2RpZXMuZnJvbVZlcnRpY2VzID0gZnVuY3Rpb24oeCwgeSwgdmVydGV4U2V0cywgb3B0aW9ucywgZmxhZ0ludGVybmFsLCByZW1vdmVDb2xsaW5lYXIsIG1pbmltdW1BcmVhKSB7XG4gICAgICAgIGlmICghZGVjb21wKSB7XG4gICAgICAgICAgICBkZWNvbXAgPSBDb21tb24uX3JlcXVpcmVHbG9iYWwoJ2RlY29tcCcsICdwb2x5LWRlY29tcCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIGJvZHksXG4gICAgICAgICAgICBwYXJ0cyxcbiAgICAgICAgICAgIGlzQ29udmV4LFxuICAgICAgICAgICAgdmVydGljZXMsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICB2LFxuICAgICAgICAgICAgejtcblxuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICAgICAgcGFydHMgPSBbXTtcblxuICAgICAgICBmbGFnSW50ZXJuYWwgPSB0eXBlb2YgZmxhZ0ludGVybmFsICE9PSAndW5kZWZpbmVkJyA/IGZsYWdJbnRlcm5hbCA6IGZhbHNlO1xuICAgICAgICByZW1vdmVDb2xsaW5lYXIgPSB0eXBlb2YgcmVtb3ZlQ29sbGluZWFyICE9PSAndW5kZWZpbmVkJyA/IHJlbW92ZUNvbGxpbmVhciA6IDAuMDE7XG4gICAgICAgIG1pbmltdW1BcmVhID0gdHlwZW9mIG1pbmltdW1BcmVhICE9PSAndW5kZWZpbmVkJyA/IG1pbmltdW1BcmVhIDogMTA7XG5cbiAgICAgICAgaWYgKCFkZWNvbXApIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdCb2RpZXMuZnJvbVZlcnRpY2VzOiBwb2x5LWRlY29tcC5qcyByZXF1aXJlZC4gQ291bGQgbm90IGRlY29tcG9zZSB2ZXJ0aWNlcy4gRmFsbGJhY2sgdG8gY29udmV4IGh1bGwuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbnN1cmUgdmVydGV4U2V0cyBpcyBhbiBhcnJheSBvZiBhcnJheXNcbiAgICAgICAgaWYgKCFDb21tb24uaXNBcnJheSh2ZXJ0ZXhTZXRzWzBdKSkge1xuICAgICAgICAgICAgdmVydGV4U2V0cyA9IFt2ZXJ0ZXhTZXRzXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodiA9IDA7IHYgPCB2ZXJ0ZXhTZXRzLmxlbmd0aDsgdiArPSAxKSB7XG4gICAgICAgICAgICB2ZXJ0aWNlcyA9IHZlcnRleFNldHNbdl07XG4gICAgICAgICAgICBpc0NvbnZleCA9IFZlcnRpY2VzLmlzQ29udmV4KHZlcnRpY2VzKTtcblxuICAgICAgICAgICAgaWYgKGlzQ29udmV4IHx8ICFkZWNvbXApIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNDb252ZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXMgPSBWZXJ0aWNlcy5jbG9ja3dpc2VTb3J0KHZlcnRpY2VzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBmYWxsYmFjayB0byBjb252ZXggaHVsbCB3aGVuIGRlY29tcG9zaXRpb24gaXMgbm90IHBvc3NpYmxlXG4gICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzID0gVmVydGljZXMuaHVsbCh2ZXJ0aWNlcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiB7IHg6IHgsIHk6IHkgfSxcbiAgICAgICAgICAgICAgICAgICAgdmVydGljZXM6IHZlcnRpY2VzXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIGluaXRpYWxpc2UgYSBkZWNvbXBvc2l0aW9uXG4gICAgICAgICAgICAgICAgdmFyIGNvbmNhdmUgPSB2ZXJ0aWNlcy5tYXAoZnVuY3Rpb24odmVydGV4KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbdmVydGV4LngsIHZlcnRleC55XTtcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgIC8vIHZlcnRpY2VzIGFyZSBjb25jYXZlIGFuZCBzaW1wbGUsIHdlIGNhbiBkZWNvbXBvc2UgaW50byBwYXJ0c1xuICAgICAgICAgICAgICAgIGRlY29tcC5tYWtlQ0NXKGNvbmNhdmUpO1xuICAgICAgICAgICAgICAgIGlmIChyZW1vdmVDb2xsaW5lYXIgIT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICBkZWNvbXAucmVtb3ZlQ29sbGluZWFyUG9pbnRzKGNvbmNhdmUsIHJlbW92ZUNvbGxpbmVhcik7XG5cbiAgICAgICAgICAgICAgICAvLyB1c2UgdGhlIHF1aWNrIGRlY29tcG9zaXRpb24gYWxnb3JpdGhtIChCYXlheml0KVxuICAgICAgICAgICAgICAgIHZhciBkZWNvbXBvc2VkID0gZGVjb21wLnF1aWNrRGVjb21wKGNvbmNhdmUpO1xuXG4gICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggZGVjb21wb3NlZCBjaHVua1xuICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBkZWNvbXBvc2VkLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjaHVuayA9IGRlY29tcG9zZWRbaV07XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCB2ZXJ0aWNlcyBpbnRvIHRoZSBjb3JyZWN0IHN0cnVjdHVyZVxuICAgICAgICAgICAgICAgICAgICB2YXIgY2h1bmtWZXJ0aWNlcyA9IGNodW5rLm1hcChmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4OiB2ZXJ0aWNlc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5OiB2ZXJ0aWNlc1sxXVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gc2tpcCBzbWFsbCBjaHVua3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbmltdW1BcmVhID4gMCAmJiBWZXJ0aWNlcy5hcmVhKGNodW5rVmVydGljZXMpIDwgbWluaW11bUFyZWEpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBjcmVhdGUgYSBjb21wb3VuZCBwYXJ0XG4gICAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgcG9zaXRpb246IFZlcnRpY2VzLmNlbnRyZShjaHVua1ZlcnRpY2VzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZlcnRpY2VzOiBjaHVua1ZlcnRpY2VzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGNyZWF0ZSBib2R5IHBhcnRzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFydHNbaV0gPSBCb2R5LmNyZWF0ZShDb21tb24uZXh0ZW5kKHBhcnRzW2ldLCBvcHRpb25zKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmbGFnIGludGVybmFsIGVkZ2VzIChjb2luY2lkZW50IHBhcnQgZWRnZXMpXG4gICAgICAgIGlmIChmbGFnSW50ZXJuYWwpIHtcbiAgICAgICAgICAgIHZhciBjb2luY2lkZW50X21heF9kaXN0ID0gNTtcblxuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnRBID0gcGFydHNbaV07XG5cbiAgICAgICAgICAgICAgICBmb3IgKGogPSBpICsgMTsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0QiA9IHBhcnRzW2pdO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChCb3VuZHMub3ZlcmxhcHMocGFydEEuYm91bmRzLCBwYXJ0Qi5ib3VuZHMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGF2ID0gcGFydEEudmVydGljZXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGJ2ID0gcGFydEIudmVydGljZXM7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGl0ZXJhdGUgdmVydGljZXMgb2YgYm90aCBwYXJ0c1xuICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IHBhcnRBLnZlcnRpY2VzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh6ID0gMDsgeiA8IHBhcnRCLnZlcnRpY2VzLmxlbmd0aDsgeisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZpbmQgZGlzdGFuY2VzIGJldHdlZW4gdGhlIHZlcnRpY2VzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkYSA9IFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkKFZlY3Rvci5zdWIocGF2WyhrICsgMSkgJSBwYXYubGVuZ3RoXSwgcGJ2W3pdKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYiA9IFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkKFZlY3Rvci5zdWIocGF2W2tdLCBwYnZbKHogKyAxKSAlIHBidi5sZW5ndGhdKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgYm90aCB2ZXJ0aWNlcyBhcmUgdmVyeSBjbG9zZSwgY29uc2lkZXIgdGhlIGVkZ2UgY29uY2lkZW50IChpbnRlcm5hbClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhIDwgY29pbmNpZGVudF9tYXhfZGlzdCAmJiBkYiA8IGNvaW5jaWRlbnRfbWF4X2Rpc3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdltrXS5pc0ludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBidlt6XS5pc0ludGVybmFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIGNyZWF0ZSB0aGUgcGFyZW50IGJvZHkgdG8gYmUgcmV0dXJuZWQsIHRoYXQgY29udGFpbnMgZ2VuZXJhdGVkIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICBib2R5ID0gQm9keS5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IHBhcnRzOiBwYXJ0cy5zbGljZSgwKSB9LCBvcHRpb25zKSk7XG4gICAgICAgICAgICBCb2R5LnNldFBvc2l0aW9uKGJvZHksIHsgeDogeCwgeTogeSB9KTtcblxuICAgICAgICAgICAgcmV0dXJuIGJvZHk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gcGFydHNbMF07XG4gICAgICAgIH1cbiAgICB9O1xuXG59KSgpO1xuXG59LHtcIi4uL2JvZHkvQm9keVwiOjEsXCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi4vZ2VvbWV0cnkvQm91bmRzXCI6MjYsXCIuLi9nZW9tZXRyeS9WZWN0b3JcIjoyOCxcIi4uL2dlb21ldHJ5L1ZlcnRpY2VzXCI6Mjl9XSwyNDpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuQ29tcG9zaXRlc2AgbW9kdWxlIGNvbnRhaW5zIGZhY3RvcnkgbWV0aG9kcyBmb3IgY3JlYXRpbmcgY29tcG9zaXRlIGJvZGllc1xuKiB3aXRoIGNvbW1vbmx5IHVzZWQgY29uZmlndXJhdGlvbnMgKHN1Y2ggYXMgc3RhY2tzIGFuZCBjaGFpbnMpLlxuKlxuKiBTZWUgdGhlIGluY2x1ZGVkIHVzYWdlIFtleGFtcGxlc10oaHR0cHM6Ly9naXRodWIuY29tL2xpYWJydS9tYXR0ZXItanMvdHJlZS9tYXN0ZXIvZXhhbXBsZXMpLlxuKlxuKiBAY2xhc3MgQ29tcG9zaXRlc1xuKi9cblxudmFyIENvbXBvc2l0ZXMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBDb21wb3NpdGVzO1xuXG52YXIgQ29tcG9zaXRlID0gX2RlcmVxXygnLi4vYm9keS9Db21wb3NpdGUnKTtcbnZhciBDb25zdHJhaW50ID0gX2RlcmVxXygnLi4vY29uc3RyYWludC9Db25zdHJhaW50Jyk7XG52YXIgQ29tbW9uID0gX2RlcmVxXygnLi4vY29yZS9Db21tb24nKTtcbnZhciBCb2R5ID0gX2RlcmVxXygnLi4vYm9keS9Cb2R5Jyk7XG52YXIgQm9kaWVzID0gX2RlcmVxXygnLi9Cb2RpZXMnKTtcblxuKGZ1bmN0aW9uKCkge1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIGJvZGllcyBjcmVhdGVkIGluIHRoZSBjYWxsYmFjayBpbiBhIGdyaWQgYXJyYW5nZW1lbnQuXG4gICAgICogVGhpcyBmdW5jdGlvbiB1c2VzIHRoZSBib2R5J3MgYm91bmRzIHRvIHByZXZlbnQgb3ZlcmxhcHMuXG4gICAgICogQG1ldGhvZCBzdGFja1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4eFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5zXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd3NcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uR2FwXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHJvd0dhcFxuICAgICAqIEBwYXJhbSB7ZnVuY3Rpb259IGNhbGxiYWNrXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY29udGFpbmluZyBvYmplY3RzIGNyZWF0ZWQgaW4gdGhlIGNhbGxiYWNrXG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5zdGFjayA9IGZ1bmN0aW9uKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBzdGFjayA9IENvbXBvc2l0ZS5jcmVhdGUoeyBsYWJlbDogJ1N0YWNrJyB9KSxcbiAgICAgICAgICAgIHggPSB4eCxcbiAgICAgICAgICAgIHkgPSB5eSxcbiAgICAgICAgICAgIGxhc3RCb2R5LFxuICAgICAgICAgICAgaSA9IDA7XG5cbiAgICAgICAgZm9yICh2YXIgcm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcbiAgICAgICAgICAgIHZhciBtYXhIZWlnaHQgPSAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBmb3IgKHZhciBjb2x1bW4gPSAwOyBjb2x1bW4gPCBjb2x1bW5zOyBjb2x1bW4rKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gY2FsbGJhY2soeCwgeSwgY29sdW1uLCByb3csIGxhc3RCb2R5LCBpKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgaWYgKGJvZHkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGJvZHlIZWlnaHQgPSBib2R5LmJvdW5kcy5tYXgueSAtIGJvZHkuYm91bmRzLm1pbi55LFxuICAgICAgICAgICAgICAgICAgICAgICAgYm9keVdpZHRoID0gYm9keS5ib3VuZHMubWF4LnggLSBib2R5LmJvdW5kcy5taW4ueDsgXG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGJvZHlIZWlnaHQgPiBtYXhIZWlnaHQpXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhIZWlnaHQgPSBib2R5SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgQm9keS50cmFuc2xhdGUoYm9keSwgeyB4OiBib2R5V2lkdGggKiAwLjUsIHk6IGJvZHlIZWlnaHQgKiAwLjUgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgeCA9IGJvZHkuYm91bmRzLm1heC54ICsgY29sdW1uR2FwO1xuXG4gICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KHN0YWNrLCBib2R5KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIGxhc3RCb2R5ID0gYm9keTtcbiAgICAgICAgICAgICAgICAgICAgaSArPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHggKz0gY29sdW1uR2FwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgeSArPSBtYXhIZWlnaHQgKyByb3dHYXA7XG4gICAgICAgICAgICB4ID0geHg7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RhY2s7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDaGFpbnMgYWxsIGJvZGllcyBpbiB0aGUgZ2l2ZW4gY29tcG9zaXRlIHRvZ2V0aGVyIHVzaW5nIGNvbnN0cmFpbnRzLlxuICAgICAqIEBtZXRob2QgY2hhaW5cbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhPZmZzZXRBXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlPZmZzZXRBXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhPZmZzZXRCXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHlPZmZzZXRCXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtjb21wb3NpdGV9IEEgbmV3IGNvbXBvc2l0ZSBjb250YWluaW5nIG9iamVjdHMgY2hhaW5lZCB0b2dldGhlciB3aXRoIGNvbnN0cmFpbnRzXG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5jaGFpbiA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgeE9mZnNldEEsIHlPZmZzZXRBLCB4T2Zmc2V0QiwgeU9mZnNldEIsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIGJvZGllcyA9IGNvbXBvc2l0ZS5ib2RpZXM7XG4gICAgICAgIFxuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHlBID0gYm9kaWVzW2kgLSAxXSxcbiAgICAgICAgICAgICAgICBib2R5QiA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBib2R5QUhlaWdodCA9IGJvZHlBLmJvdW5kcy5tYXgueSAtIGJvZHlBLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgICAgICBib2R5QVdpZHRoID0gYm9keUEuYm91bmRzLm1heC54IC0gYm9keUEuYm91bmRzLm1pbi54LCBcbiAgICAgICAgICAgICAgICBib2R5QkhlaWdodCA9IGJvZHlCLmJvdW5kcy5tYXgueSAtIGJvZHlCLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgICAgICBib2R5QldpZHRoID0gYm9keUIuYm91bmRzLm1heC54IC0gYm9keUIuYm91bmRzLm1pbi54O1xuICAgICAgICBcbiAgICAgICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgICAgICBib2R5QTogYm9keUEsXG4gICAgICAgICAgICAgICAgcG9pbnRBOiB7IHg6IGJvZHlBV2lkdGggKiB4T2Zmc2V0QSwgeTogYm9keUFIZWlnaHQgKiB5T2Zmc2V0QSB9LFxuICAgICAgICAgICAgICAgIGJvZHlCOiBib2R5QixcbiAgICAgICAgICAgICAgICBwb2ludEI6IHsgeDogYm9keUJXaWR0aCAqIHhPZmZzZXRCLCB5OiBib2R5QkhlaWdodCAqIHlPZmZzZXRCIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIFxuICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShjb25zdHJhaW50KSk7XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb3NpdGUubGFiZWwgKz0gJyBDaGFpbic7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gY29tcG9zaXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDb25uZWN0cyBib2RpZXMgaW4gdGhlIGNvbXBvc2l0ZSB3aXRoIGNvbnN0cmFpbnRzIGluIGEgZ3JpZCBwYXR0ZXJuLCB3aXRoIG9wdGlvbmFsIGNyb3NzIGJyYWNlcy5cbiAgICAgKiBAbWV0aG9kIG1lc2hcbiAgICAgKiBAcGFyYW0ge2NvbXBvc2l0ZX0gY29tcG9zaXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93c1xuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gY3Jvc3NCcmFjZVxuICAgICAqIEBwYXJhbSB7b2JqZWN0fSBvcHRpb25zXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBUaGUgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBtZXNoZWQgdG9nZXRoZXIgd2l0aCBjb25zdHJhaW50c1xuICAgICAqL1xuICAgIENvbXBvc2l0ZXMubWVzaCA9IGZ1bmN0aW9uKGNvbXBvc2l0ZSwgY29sdW1ucywgcm93cywgY3Jvc3NCcmFjZSwgb3B0aW9ucykge1xuICAgICAgICB2YXIgYm9kaWVzID0gY29tcG9zaXRlLmJvZGllcyxcbiAgICAgICAgICAgIHJvdyxcbiAgICAgICAgICAgIGNvbCxcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBib2R5QztcbiAgICAgICAgXG4gICAgICAgIGZvciAocm93ID0gMDsgcm93IDwgcm93czsgcm93KyspIHtcbiAgICAgICAgICAgIGZvciAoY29sID0gMTsgY29sIDwgY29sdW1uczsgY29sKyspIHtcbiAgICAgICAgICAgICAgICBib2R5QSA9IGJvZGllc1soY29sIC0gMSkgKyAocm93ICogY29sdW1ucyldO1xuICAgICAgICAgICAgICAgIGJvZHlCID0gYm9kaWVzW2NvbCArIChyb3cgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgQ29tcG9zaXRlLmFkZENvbnN0cmFpbnQoY29tcG9zaXRlLCBDb25zdHJhaW50LmNyZWF0ZShDb21tb24uZXh0ZW5kKHsgYm9keUE6IGJvZHlBLCBib2R5QjogYm9keUIgfSwgb3B0aW9ucykpKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHJvdyA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbCA9IDA7IGNvbCA8IGNvbHVtbnM7IGNvbCsrKSB7XG4gICAgICAgICAgICAgICAgICAgIGJvZHlBID0gYm9kaWVzW2NvbCArICgocm93IC0gMSkgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgICAgIGJvZHlCID0gYm9kaWVzW2NvbCArIChyb3cgKiBjb2x1bW5zKV07XG4gICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IGJvZHlBOiBib2R5QSwgYm9keUI6IGJvZHlCIH0sIG9wdGlvbnMpKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNyb3NzQnJhY2UgJiYgY29sID4gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUMgPSBib2RpZXNbKGNvbCAtIDEpICsgKChyb3cgLSAxKSAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IGJvZHlBOiBib2R5QywgYm9keUI6IGJvZHlCIH0sIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoY3Jvc3NCcmFjZSAmJiBjb2wgPCBjb2x1bW5zIC0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYm9keUMgPSBib2RpZXNbKGNvbCArIDEpICsgKChyb3cgLSAxKSAqIGNvbHVtbnMpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNvbXBvc2l0ZSwgQ29uc3RyYWludC5jcmVhdGUoQ29tbW9uLmV4dGVuZCh7IGJvZHlBOiBib2R5QywgYm9keUI6IGJvZHlCIH0sIG9wdGlvbnMpKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjb21wb3NpdGUubGFiZWwgKz0gJyBNZXNoJztcbiAgICAgICAgXG4gICAgICAgIHJldHVybiBjb21wb3NpdGU7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgYm9kaWVzIGNyZWF0ZWQgaW4gdGhlIGNhbGxiYWNrIGluIGEgcHlyYW1pZCBhcnJhbmdlbWVudC5cbiAgICAgKiBUaGlzIGZ1bmN0aW9uIHVzZXMgdGhlIGJvZHkncyBib3VuZHMgdG8gcHJldmVudCBvdmVybGFwcy5cbiAgICAgKiBAbWV0aG9kIHB5cmFtaWRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gY29sdW1uc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbkdhcFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSByb3dHYXBcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIGNvbnRhaW5pbmcgb2JqZWN0cyBjcmVhdGVkIGluIHRoZSBjYWxsYmFja1xuICAgICAqL1xuICAgIENvbXBvc2l0ZXMucHlyYW1pZCA9IGZ1bmN0aW9uKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGNhbGxiYWNrKSB7XG4gICAgICAgIHJldHVybiBDb21wb3NpdGVzLnN0YWNrKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGZ1bmN0aW9uKHgsIHksIGNvbHVtbiwgcm93LCBsYXN0Qm9keSwgaSkge1xuICAgICAgICAgICAgdmFyIGFjdHVhbFJvd3MgPSBNYXRoLm1pbihyb3dzLCBNYXRoLmNlaWwoY29sdW1ucyAvIDIpKSxcbiAgICAgICAgICAgICAgICBsYXN0Qm9keVdpZHRoID0gbGFzdEJvZHkgPyBsYXN0Qm9keS5ib3VuZHMubWF4LnggLSBsYXN0Qm9keS5ib3VuZHMubWluLnggOiAwO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBpZiAocm93ID4gYWN0dWFsUm93cylcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIHJldmVyc2Ugcm93IG9yZGVyXG4gICAgICAgICAgICByb3cgPSBhY3R1YWxSb3dzIC0gcm93O1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB2YXIgc3RhcnQgPSByb3csXG4gICAgICAgICAgICAgICAgZW5kID0gY29sdW1ucyAtIDEgLSByb3c7XG5cbiAgICAgICAgICAgIGlmIChjb2x1bW4gPCBzdGFydCB8fCBjb2x1bW4gPiBlbmQpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyByZXRyb2FjdGl2ZWx5IGZpeCB0aGUgZmlyc3QgYm9keSdzIHBvc2l0aW9uLCBzaW5jZSB3aWR0aCB3YXMgdW5rbm93blxuICAgICAgICAgICAgaWYgKGkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBCb2R5LnRyYW5zbGF0ZShsYXN0Qm9keSwgeyB4OiAoY29sdW1uICsgKGNvbHVtbnMgJSAyID09PSAxID8gMSA6IC0xKSkgKiBsYXN0Qm9keVdpZHRoLCB5OiAwIH0pO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgeE9mZnNldCA9IGxhc3RCb2R5ID8gY29sdW1uICogbGFzdEJvZHlXaWR0aCA6IDA7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHJldHVybiBjYWxsYmFjayh4eCArIHhPZmZzZXQgKyBjb2x1bW4gKiBjb2x1bW5HYXAsIHksIGNvbHVtbiwgcm93LCBsYXN0Qm9keSwgaSk7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY29tcG9zaXRlIHdpdGggYSBOZXd0b24ncyBDcmFkbGUgc2V0dXAgb2YgYm9kaWVzIGFuZCBjb25zdHJhaW50cy5cbiAgICAgKiBAbWV0aG9kIG5ld3RvbnNDcmFkbGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geXlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNpemVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbGVuZ3RoXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgbmV3dG9uc0NyYWRsZSBib2R5XG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5uZXd0b25zQ3JhZGxlID0gZnVuY3Rpb24oeHgsIHl5LCBudW1iZXIsIHNpemUsIGxlbmd0aCkge1xuICAgICAgICB2YXIgbmV3dG9uc0NyYWRsZSA9IENvbXBvc2l0ZS5jcmVhdGUoeyBsYWJlbDogJ05ld3RvbnMgQ3JhZGxlJyB9KTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bWJlcjsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgc2VwYXJhdGlvbiA9IDEuOSxcbiAgICAgICAgICAgICAgICBjaXJjbGUgPSBCb2RpZXMuY2lyY2xlKHh4ICsgaSAqIChzaXplICogc2VwYXJhdGlvbiksIHl5ICsgbGVuZ3RoLCBzaXplLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7IGluZXJ0aWE6IEluZmluaXR5LCByZXN0aXR1dGlvbjogMSwgZnJpY3Rpb246IDAsIGZyaWN0aW9uQWlyOiAwLjAwMDEsIHNsb3A6IDEgfSksXG4gICAgICAgICAgICAgICAgY29uc3RyYWludCA9IENvbnN0cmFpbnQuY3JlYXRlKHsgcG9pbnRBOiB7IHg6IHh4ICsgaSAqIChzaXplICogc2VwYXJhdGlvbiksIHk6IHl5IH0sIGJvZHlCOiBjaXJjbGUgfSk7XG5cbiAgICAgICAgICAgIENvbXBvc2l0ZS5hZGRCb2R5KG5ld3RvbnNDcmFkbGUsIGNpcmNsZSk7XG4gICAgICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChuZXd0b25zQ3JhZGxlLCBjb25zdHJhaW50KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBuZXd0b25zQ3JhZGxlO1xuICAgIH07XG4gICAgXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBvc2l0ZSB3aXRoIHNpbXBsZSBjYXIgc2V0dXAgb2YgYm9kaWVzIGFuZCBjb25zdHJhaW50cy5cbiAgICAgKiBAbWV0aG9kIGNhclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB4eFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB5eVxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB3aWR0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBoZWlnaHRcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2hlZWxTaXplXG4gICAgICogQHJldHVybiB7Y29tcG9zaXRlfSBBIG5ldyBjb21wb3NpdGUgY2FyIGJvZHlcbiAgICAgKi9cbiAgICBDb21wb3NpdGVzLmNhciA9IGZ1bmN0aW9uKHh4LCB5eSwgd2lkdGgsIGhlaWdodCwgd2hlZWxTaXplKSB7XG4gICAgICAgIHZhciBncm91cCA9IEJvZHkubmV4dEdyb3VwKHRydWUpLFxuICAgICAgICAgICAgd2hlZWxCYXNlID0gMjAsXG4gICAgICAgICAgICB3aGVlbEFPZmZzZXQgPSAtd2lkdGggKiAwLjUgKyB3aGVlbEJhc2UsXG4gICAgICAgICAgICB3aGVlbEJPZmZzZXQgPSB3aWR0aCAqIDAuNSAtIHdoZWVsQmFzZSxcbiAgICAgICAgICAgIHdoZWVsWU9mZnNldCA9IDA7XG4gICAgXG4gICAgICAgIHZhciBjYXIgPSBDb21wb3NpdGUuY3JlYXRlKHsgbGFiZWw6ICdDYXInIH0pLFxuICAgICAgICAgICAgYm9keSA9IEJvZGllcy5yZWN0YW5nbGUoeHgsIHl5LCB3aWR0aCwgaGVpZ2h0LCB7IFxuICAgICAgICAgICAgICAgIGNvbGxpc2lvbkZpbHRlcjoge1xuICAgICAgICAgICAgICAgICAgICBncm91cDogZ3JvdXBcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNoYW1mZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgcmFkaXVzOiBoZWlnaHQgKiAwLjVcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGRlbnNpdHk6IDAuMDAwMlxuICAgICAgICAgICAgfSk7XG4gICAgXG4gICAgICAgIHZhciB3aGVlbEEgPSBCb2RpZXMuY2lyY2xlKHh4ICsgd2hlZWxBT2Zmc2V0LCB5eSArIHdoZWVsWU9mZnNldCwgd2hlZWxTaXplLCB7IFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJpY3Rpb246IDAuOFxuICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciB3aGVlbEIgPSBCb2RpZXMuY2lyY2xlKHh4ICsgd2hlZWxCT2Zmc2V0LCB5eSArIHdoZWVsWU9mZnNldCwgd2hlZWxTaXplLCB7IFxuICAgICAgICAgICAgY29sbGlzaW9uRmlsdGVyOiB7XG4gICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZnJpY3Rpb246IDAuOFxuICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciBheGVsQSA9IENvbnN0cmFpbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGJvZHlCOiBib2R5LFxuICAgICAgICAgICAgcG9pbnRCOiB7IHg6IHdoZWVsQU9mZnNldCwgeTogd2hlZWxZT2Zmc2V0IH0sXG4gICAgICAgICAgICBib2R5QTogd2hlZWxBLFxuICAgICAgICAgICAgc3RpZmZuZXNzOiAxLFxuICAgICAgICAgICAgbGVuZ3RoOiAwXG4gICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgIHZhciBheGVsQiA9IENvbnN0cmFpbnQuY3JlYXRlKHtcbiAgICAgICAgICAgIGJvZHlCOiBib2R5LFxuICAgICAgICAgICAgcG9pbnRCOiB7IHg6IHdoZWVsQk9mZnNldCwgeTogd2hlZWxZT2Zmc2V0IH0sXG4gICAgICAgICAgICBib2R5QTogd2hlZWxCLFxuICAgICAgICAgICAgc3RpZmZuZXNzOiAxLFxuICAgICAgICAgICAgbGVuZ3RoOiAwXG4gICAgICAgIH0pO1xuICAgICAgICBcbiAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkoY2FyLCBib2R5KTtcbiAgICAgICAgQ29tcG9zaXRlLmFkZEJvZHkoY2FyLCB3aGVlbEEpO1xuICAgICAgICBDb21wb3NpdGUuYWRkQm9keShjYXIsIHdoZWVsQik7XG4gICAgICAgIENvbXBvc2l0ZS5hZGRDb25zdHJhaW50KGNhciwgYXhlbEEpO1xuICAgICAgICBDb21wb3NpdGUuYWRkQ29uc3RyYWludChjYXIsIGF4ZWxCKTtcblxuICAgICAgICByZXR1cm4gY2FyO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2ltcGxlIHNvZnQgYm9keSBsaWtlIG9iamVjdC5cbiAgICAgKiBAbWV0aG9kIHNvZnRCb2R5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHh4XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHl5XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGNvbHVtbnNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93c1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBjb2x1bW5HYXBcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcm93R2FwXG4gICAgICogQHBhcmFtIHtib29sZWFufSBjcm9zc0JyYWNlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnRpY2xlUmFkaXVzXG4gICAgICogQHBhcmFtIHt9IHBhcnRpY2xlT3B0aW9uc1xuICAgICAqIEBwYXJhbSB7fSBjb25zdHJhaW50T3B0aW9uc1xuICAgICAqIEByZXR1cm4ge2NvbXBvc2l0ZX0gQSBuZXcgY29tcG9zaXRlIHNvZnRCb2R5XG4gICAgICovXG4gICAgQ29tcG9zaXRlcy5zb2Z0Qm9keSA9IGZ1bmN0aW9uKHh4LCB5eSwgY29sdW1ucywgcm93cywgY29sdW1uR2FwLCByb3dHYXAsIGNyb3NzQnJhY2UsIHBhcnRpY2xlUmFkaXVzLCBwYXJ0aWNsZU9wdGlvbnMsIGNvbnN0cmFpbnRPcHRpb25zKSB7XG4gICAgICAgIHBhcnRpY2xlT3B0aW9ucyA9IENvbW1vbi5leHRlbmQoeyBpbmVydGlhOiBJbmZpbml0eSB9LCBwYXJ0aWNsZU9wdGlvbnMpO1xuICAgICAgICBjb25zdHJhaW50T3B0aW9ucyA9IENvbW1vbi5leHRlbmQoeyBzdGlmZm5lc3M6IDAuMiwgcmVuZGVyOiB7IHR5cGU6ICdsaW5lJywgYW5jaG9yczogZmFsc2UgfSB9LCBjb25zdHJhaW50T3B0aW9ucyk7XG5cbiAgICAgICAgdmFyIHNvZnRCb2R5ID0gQ29tcG9zaXRlcy5zdGFjayh4eCwgeXksIGNvbHVtbnMsIHJvd3MsIGNvbHVtbkdhcCwgcm93R2FwLCBmdW5jdGlvbih4LCB5KSB7XG4gICAgICAgICAgICByZXR1cm4gQm9kaWVzLmNpcmNsZSh4LCB5LCBwYXJ0aWNsZVJhZGl1cywgcGFydGljbGVPcHRpb25zKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgQ29tcG9zaXRlcy5tZXNoKHNvZnRCb2R5LCBjb2x1bW5zLCByb3dzLCBjcm9zc0JyYWNlLCBjb25zdHJhaW50T3B0aW9ucyk7XG5cbiAgICAgICAgc29mdEJvZHkubGFiZWwgPSAnU29mdCBCb2R5JztcblxuICAgICAgICByZXR1cm4gc29mdEJvZHk7XG4gICAgfTtcblxufSkoKTtcblxufSx7XCIuLi9ib2R5L0JvZHlcIjoxLFwiLi4vYm9keS9Db21wb3NpdGVcIjoyLFwiLi4vY29uc3RyYWludC9Db25zdHJhaW50XCI6MTIsXCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi9Cb2RpZXNcIjoyM31dLDI1OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5BeGVzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBzZXRzIG9mIGF4ZXMuXG4qXG4qIEBjbGFzcyBBeGVzXG4qL1xuXG52YXIgQXhlcyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IEF4ZXM7XG5cbnZhciBWZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTtcbnZhciBDb21tb24gPSBfZGVyZXFfKCcuLi9jb3JlL0NvbW1vbicpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHNldCBvZiBheGVzIGZyb20gdGhlIGdpdmVuIHZlcnRpY2VzLlxuICAgICAqIEBtZXRob2QgZnJvbVZlcnRpY2VzXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHtheGVzfSBBIG5ldyBheGVzIGZyb20gdGhlIGdpdmVuIHZlcnRpY2VzXG4gICAgICovXG4gICAgQXhlcy5mcm9tVmVydGljZXMgPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgYXhlcyA9IHt9O1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHVuaXF1ZSBheGVzLCB1c2luZyBlZGdlIG5vcm1hbCBncmFkaWVudHNcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGogPSAoaSArIDEpICUgdmVydGljZXMubGVuZ3RoLCBcbiAgICAgICAgICAgICAgICBub3JtYWwgPSBWZWN0b3Iubm9ybWFsaXNlKHsgXG4gICAgICAgICAgICAgICAgICAgIHg6IHZlcnRpY2VzW2pdLnkgLSB2ZXJ0aWNlc1tpXS55LCBcbiAgICAgICAgICAgICAgICAgICAgeTogdmVydGljZXNbaV0ueCAtIHZlcnRpY2VzW2pdLnhcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBncmFkaWVudCA9IChub3JtYWwueSA9PT0gMCkgPyBJbmZpbml0eSA6IChub3JtYWwueCAvIG5vcm1hbC55KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gbGltaXQgcHJlY2lzaW9uXG4gICAgICAgICAgICBncmFkaWVudCA9IGdyYWRpZW50LnRvRml4ZWQoMykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgIGF4ZXNbZ3JhZGllbnRdID0gbm9ybWFsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIENvbW1vbi52YWx1ZXMoYXhlcyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgYSBzZXQgb2YgYXhlcyBieSB0aGUgZ2l2ZW4gYW5nbGUuXG4gICAgICogQG1ldGhvZCByb3RhdGVcbiAgICAgKiBAcGFyYW0ge2F4ZXN9IGF4ZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAgKi9cbiAgICBBeGVzLnJvdGF0ZSA9IGZ1bmN0aW9uKGF4ZXMsIGFuZ2xlKSB7XG4gICAgICAgIGlmIChhbmdsZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgXG4gICAgICAgIHZhciBjb3MgPSBNYXRoLmNvcyhhbmdsZSksXG4gICAgICAgICAgICBzaW4gPSBNYXRoLnNpbihhbmdsZSk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBheGVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYXhpcyA9IGF4ZXNbaV0sXG4gICAgICAgICAgICAgICAgeHg7XG4gICAgICAgICAgICB4eCA9IGF4aXMueCAqIGNvcyAtIGF4aXMueSAqIHNpbjtcbiAgICAgICAgICAgIGF4aXMueSA9IGF4aXMueCAqIHNpbiArIGF4aXMueSAqIGNvcztcbiAgICAgICAgICAgIGF4aXMueCA9IHh4O1xuICAgICAgICB9XG4gICAgfTtcblxufSkoKTtcblxufSx7XCIuLi9jb3JlL0NvbW1vblwiOjE0LFwiLi4vZ2VvbWV0cnkvVmVjdG9yXCI6Mjh9XSwyNjpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuQm91bmRzYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY3JlYXRpbmcgYW5kIG1hbmlwdWxhdGluZyBheGlzLWFsaWduZWQgYm91bmRpbmcgYm94ZXMgKEFBQkIpLlxuKlxuKiBAY2xhc3MgQm91bmRzXG4qL1xuXG52YXIgQm91bmRzID0ge307XG5cbm1vZHVsZS5leHBvcnRzID0gQm91bmRzO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IGF4aXMtYWxpZ25lZCBib3VuZGluZyBib3ggKEFBQkIpIGZvciB0aGUgZ2l2ZW4gdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge2JvdW5kc30gQSBuZXcgYm91bmRzIG9iamVjdFxuICAgICAqL1xuICAgIEJvdW5kcy5jcmVhdGUgPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICB2YXIgYm91bmRzID0geyBcbiAgICAgICAgICAgIG1pbjogeyB4OiAwLCB5OiAwIH0sIFxuICAgICAgICAgICAgbWF4OiB7IHg6IDAsIHk6IDAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGlmICh2ZXJ0aWNlcylcbiAgICAgICAgICAgIEJvdW5kcy51cGRhdGUoYm91bmRzLCB2ZXJ0aWNlcyk7XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gYm91bmRzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGJvdW5kcyB1c2luZyB0aGUgZ2l2ZW4gdmVydGljZXMgYW5kIGV4dGVuZHMgdGhlIGJvdW5kcyBnaXZlbiBhIHZlbG9jaXR5LlxuICAgICAqIEBtZXRob2QgdXBkYXRlXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlbG9jaXR5XG4gICAgICovXG4gICAgQm91bmRzLnVwZGF0ZSA9IGZ1bmN0aW9uKGJvdW5kcywgdmVydGljZXMsIHZlbG9jaXR5KSB7XG4gICAgICAgIGJvdW5kcy5taW4ueCA9IEluZmluaXR5O1xuICAgICAgICBib3VuZHMubWF4LnggPSAtSW5maW5pdHk7XG4gICAgICAgIGJvdW5kcy5taW4ueSA9IEluZmluaXR5O1xuICAgICAgICBib3VuZHMubWF4LnkgPSAtSW5maW5pdHk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgaWYgKHZlcnRleC54ID4gYm91bmRzLm1heC54KSBib3VuZHMubWF4LnggPSB2ZXJ0ZXgueDtcbiAgICAgICAgICAgIGlmICh2ZXJ0ZXgueCA8IGJvdW5kcy5taW4ueCkgYm91bmRzLm1pbi54ID0gdmVydGV4Lng7XG4gICAgICAgICAgICBpZiAodmVydGV4LnkgPiBib3VuZHMubWF4LnkpIGJvdW5kcy5tYXgueSA9IHZlcnRleC55O1xuICAgICAgICAgICAgaWYgKHZlcnRleC55IDwgYm91bmRzLm1pbi55KSBib3VuZHMubWluLnkgPSB2ZXJ0ZXgueTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHZlbG9jaXR5KSB7XG4gICAgICAgICAgICBpZiAodmVsb2NpdHkueCA+IDApIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWF4LnggKz0gdmVsb2NpdHkueDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYm91bmRzLm1pbi54ICs9IHZlbG9jaXR5Lng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eS55ID4gMCkge1xuICAgICAgICAgICAgICAgIGJvdW5kcy5tYXgueSArPSB2ZWxvY2l0eS55O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBib3VuZHMubWluLnkgKz0gdmVsb2NpdHkueTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRydWUgaWYgdGhlIGJvdW5kcyBjb250YWlucyB0aGUgZ2l2ZW4gcG9pbnQuXG4gICAgICogQG1ldGhvZCBjb250YWluc1xuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBib3VuZHMgY29udGFpbiB0aGUgcG9pbnQsIG90aGVyd2lzZSBmYWxzZVxuICAgICAqL1xuICAgIEJvdW5kcy5jb250YWlucyA9IGZ1bmN0aW9uKGJvdW5kcywgcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuIHBvaW50LnggPj0gYm91bmRzLm1pbi54ICYmIHBvaW50LnggPD0gYm91bmRzLm1heC54IFxuICAgICAgICAgICAgICAgJiYgcG9pbnQueSA+PSBib3VuZHMubWluLnkgJiYgcG9pbnQueSA8PSBib3VuZHMubWF4Lnk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgdHdvIGJvdW5kcyBpbnRlcnNlY3QuXG4gICAgICogQG1ldGhvZCBvdmVybGFwc1xuICAgICAqIEBwYXJhbSB7Ym91bmRzfSBib3VuZHNBXG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc0JcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSBib3VuZHMgb3ZlcmxhcCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgQm91bmRzLm92ZXJsYXBzID0gZnVuY3Rpb24oYm91bmRzQSwgYm91bmRzQikge1xuICAgICAgICByZXR1cm4gKGJvdW5kc0EubWluLnggPD0gYm91bmRzQi5tYXgueCAmJiBib3VuZHNBLm1heC54ID49IGJvdW5kc0IubWluLnhcbiAgICAgICAgICAgICAgICAmJiBib3VuZHNBLm1heC55ID49IGJvdW5kc0IubWluLnkgJiYgYm91bmRzQS5taW4ueSA8PSBib3VuZHNCLm1heC55KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVHJhbnNsYXRlcyB0aGUgYm91bmRzIGJ5IHRoZSBnaXZlbiB2ZWN0b3IuXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge2JvdW5kc30gYm91bmRzXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqL1xuICAgIEJvdW5kcy50cmFuc2xhdGUgPSBmdW5jdGlvbihib3VuZHMsIHZlY3Rvcikge1xuICAgICAgICBib3VuZHMubWluLnggKz0gdmVjdG9yLng7XG4gICAgICAgIGJvdW5kcy5tYXgueCArPSB2ZWN0b3IueDtcbiAgICAgICAgYm91bmRzLm1pbi55ICs9IHZlY3Rvci55O1xuICAgICAgICBib3VuZHMubWF4LnkgKz0gdmVjdG9yLnk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNoaWZ0cyB0aGUgYm91bmRzIHRvIHRoZSBnaXZlbiBwb3NpdGlvbi5cbiAgICAgKiBAbWV0aG9kIHNoaWZ0XG4gICAgICogQHBhcmFtIHtib3VuZHN9IGJvdW5kc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb3NpdGlvblxuICAgICAqL1xuICAgIEJvdW5kcy5zaGlmdCA9IGZ1bmN0aW9uKGJvdW5kcywgcG9zaXRpb24pIHtcbiAgICAgICAgdmFyIGRlbHRhWCA9IGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCxcbiAgICAgICAgICAgIGRlbHRhWSA9IGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueTtcbiAgICAgICAgICAgIFxuICAgICAgICBib3VuZHMubWluLnggPSBwb3NpdGlvbi54O1xuICAgICAgICBib3VuZHMubWF4LnggPSBwb3NpdGlvbi54ICsgZGVsdGFYO1xuICAgICAgICBib3VuZHMubWluLnkgPSBwb3NpdGlvbi55O1xuICAgICAgICBib3VuZHMubWF4LnkgPSBwb3NpdGlvbi55ICsgZGVsdGFZO1xuICAgIH07XG4gICAgXG59KSgpO1xuXG59LHt9XSwyNzpbZnVuY3Rpb24oX2RlcmVxXyxtb2R1bGUsZXhwb3J0cyl7XG4vKipcbiogVGhlIGBNYXR0ZXIuU3ZnYCBtb2R1bGUgY29udGFpbnMgbWV0aG9kcyBmb3IgY29udmVydGluZyBTVkcgaW1hZ2VzIGludG8gYW4gYXJyYXkgb2YgdmVjdG9yIHBvaW50cy5cbipcbiogVG8gdXNlIHRoaXMgbW9kdWxlIHlvdSBhbHNvIG5lZWQgdGhlIFNWR1BhdGhTZWcgcG9seWZpbGw6IGh0dHBzOi8vZ2l0aHViLmNvbS9wcm9nZXJzL3BhdGhzZWdcbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFN2Z1xuKi9cblxudmFyIFN2ZyA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFN2ZztcblxudmFyIEJvdW5kcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0JvdW5kcycpO1xudmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGFuIFNWRyBwYXRoIGludG8gYW4gYXJyYXkgb2YgdmVjdG9yIHBvaW50cy5cbiAgICAgKiBJZiB0aGUgaW5wdXQgcGF0aCBmb3JtcyBhIGNvbmNhdmUgc2hhcGUsIHlvdSBtdXN0IGRlY29tcG9zZSB0aGUgcmVzdWx0IGludG8gY29udmV4IHBhcnRzIGJlZm9yZSB1c2UuXG4gICAgICogU2VlIGBCb2RpZXMuZnJvbVZlcnRpY2VzYCB3aGljaCBwcm92aWRlcyBzdXBwb3J0IGZvciB0aGlzLlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIGZ1bmN0aW9uIGlzIG5vdCBndWFyYW50ZWVkIHRvIHN1cHBvcnQgY29tcGxleCBwYXRocyAoc3VjaCBhcyB0aG9zZSB3aXRoIGhvbGVzKS5cbiAgICAgKiBZb3UgbXVzdCBsb2FkIHRoZSBgcGF0aHNlZy5qc2AgcG9seWZpbGwgb24gbmV3ZXIgYnJvd3NlcnMuXG4gICAgICogQG1ldGhvZCBwYXRoVG9WZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7U1ZHUGF0aEVsZW1lbnR9IHBhdGhcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gW3NhbXBsZUxlbmd0aD0xNV1cbiAgICAgKiBAcmV0dXJuIHtWZWN0b3JbXX0gcG9pbnRzXG4gICAgICovXG4gICAgU3ZnLnBhdGhUb1ZlcnRpY2VzID0gZnVuY3Rpb24ocGF0aCwgc2FtcGxlTGVuZ3RoKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhKCdTVkdQYXRoU2VnJyBpbiB3aW5kb3cpKSB7XG4gICAgICAgICAgICBDb21tb24ud2FybignU3ZnLnBhdGhUb1ZlcnRpY2VzOiBTVkdQYXRoU2VnIG5vdCBkZWZpbmVkLCBhIHBvbHlmaWxsIGlzIHJlcXVpcmVkLicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3dvdXQvc3ZnLnRvcG9seS5qcy9ibG9iL21hc3Rlci9zdmcudG9wb2x5LmpzXG4gICAgICAgIHZhciBpLCBpbCwgdG90YWwsIHBvaW50LCBzZWdtZW50LCBzZWdtZW50cywgXG4gICAgICAgICAgICBzZWdtZW50c1F1ZXVlLCBsYXN0U2VnbWVudCwgXG4gICAgICAgICAgICBsYXN0UG9pbnQsIHNlZ21lbnRJbmRleCwgcG9pbnRzID0gW10sXG4gICAgICAgICAgICBseCwgbHksIGxlbmd0aCA9IDAsIHggPSAwLCB5ID0gMDtcblxuICAgICAgICBzYW1wbGVMZW5ndGggPSBzYW1wbGVMZW5ndGggfHwgMTU7XG5cbiAgICAgICAgdmFyIGFkZFBvaW50ID0gZnVuY3Rpb24ocHgsIHB5LCBwYXRoU2VnVHlwZSkge1xuICAgICAgICAgICAgLy8gYWxsIG9kZC1udW1iZXJlZCBwYXRoIHR5cGVzIGFyZSByZWxhdGl2ZSBleGNlcHQgUEFUSFNFR19DTE9TRVBBVEggKDEpXG4gICAgICAgICAgICB2YXIgaXNSZWxhdGl2ZSA9IHBhdGhTZWdUeXBlICUgMiA9PT0gMSAmJiBwYXRoU2VnVHlwZSA+IDE7XG5cbiAgICAgICAgICAgIC8vIHdoZW4gdGhlIGxhc3QgcG9pbnQgZG9lc24ndCBlcXVhbCB0aGUgY3VycmVudCBwb2ludCBhZGQgdGhlIGN1cnJlbnQgcG9pbnRcbiAgICAgICAgICAgIGlmICghbGFzdFBvaW50IHx8IHB4ICE9IGxhc3RQb2ludC54IHx8IHB5ICE9IGxhc3RQb2ludC55KSB7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3RQb2ludCAmJiBpc1JlbGF0aXZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGx4ID0gbGFzdFBvaW50Lng7XG4gICAgICAgICAgICAgICAgICAgIGx5ID0gbGFzdFBvaW50Lnk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbHggPSAwO1xuICAgICAgICAgICAgICAgICAgICBseSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdmFyIHBvaW50ID0ge1xuICAgICAgICAgICAgICAgICAgICB4OiBseCArIHB4LFxuICAgICAgICAgICAgICAgICAgICB5OiBseSArIHB5XG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIC8vIHNldCBsYXN0IHBvaW50XG4gICAgICAgICAgICAgICAgaWYgKGlzUmVsYXRpdmUgfHwgIWxhc3RQb2ludCkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0UG9pbnQgPSBwb2ludDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBwb2ludHMucHVzaChwb2ludCk7XG5cbiAgICAgICAgICAgICAgICB4ID0gbHggKyBweDtcbiAgICAgICAgICAgICAgICB5ID0gbHkgKyBweTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgYWRkU2VnbWVudFBvaW50ID0gZnVuY3Rpb24oc2VnbWVudCkge1xuICAgICAgICAgICAgdmFyIHNlZ1R5cGUgPSBzZWdtZW50LnBhdGhTZWdUeXBlQXNMZXR0ZXIudG9VcHBlckNhc2UoKTtcblxuICAgICAgICAgICAgLy8gc2tpcCBwYXRoIGVuZHNcbiAgICAgICAgICAgIGlmIChzZWdUeXBlID09PSAnWicpIFxuICAgICAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICAgICAgLy8gbWFwIHNlZ21lbnQgdG8geCBhbmQgeVxuICAgICAgICAgICAgc3dpdGNoIChzZWdUeXBlKSB7XG5cbiAgICAgICAgICAgIGNhc2UgJ00nOlxuICAgICAgICAgICAgY2FzZSAnTCc6XG4gICAgICAgICAgICBjYXNlICdUJzpcbiAgICAgICAgICAgIGNhc2UgJ0MnOlxuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgICAgICB4ID0gc2VnbWVudC54O1xuICAgICAgICAgICAgICAgIHkgPSBzZWdtZW50Lnk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdIJzpcbiAgICAgICAgICAgICAgICB4ID0gc2VnbWVudC54O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnVic6XG4gICAgICAgICAgICAgICAgeSA9IHNlZ21lbnQueTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgYWRkUG9pbnQoeCwgeSwgc2VnbWVudC5wYXRoU2VnVHlwZSk7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gZW5zdXJlIHBhdGggaXMgYWJzb2x1dGVcbiAgICAgICAgU3ZnLl9zdmdQYXRoVG9BYnNvbHV0ZShwYXRoKTtcblxuICAgICAgICAvLyBnZXQgdG90YWwgbGVuZ3RoXG4gICAgICAgIHRvdGFsID0gcGF0aC5nZXRUb3RhbExlbmd0aCgpO1xuXG4gICAgICAgIC8vIHF1ZXVlIHNlZ21lbnRzXG4gICAgICAgIHNlZ21lbnRzID0gW107XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYXRoLnBhdGhTZWdMaXN0Lm51bWJlck9mSXRlbXM7IGkgKz0gMSlcbiAgICAgICAgICAgIHNlZ21lbnRzLnB1c2gocGF0aC5wYXRoU2VnTGlzdC5nZXRJdGVtKGkpKTtcblxuICAgICAgICBzZWdtZW50c1F1ZXVlID0gc2VnbWVudHMuY29uY2F0KCk7XG5cbiAgICAgICAgLy8gc2FtcGxlIHRocm91Z2ggcGF0aFxuICAgICAgICB3aGlsZSAobGVuZ3RoIDwgdG90YWwpIHtcbiAgICAgICAgICAgIC8vIGdldCBzZWdtZW50IGF0IHBvc2l0aW9uXG4gICAgICAgICAgICBzZWdtZW50SW5kZXggPSBwYXRoLmdldFBhdGhTZWdBdExlbmd0aChsZW5ndGgpO1xuICAgICAgICAgICAgc2VnbWVudCA9IHNlZ21lbnRzW3NlZ21lbnRJbmRleF07XG5cbiAgICAgICAgICAgIC8vIG5ldyBzZWdtZW50XG4gICAgICAgICAgICBpZiAoc2VnbWVudCAhPSBsYXN0U2VnbWVudCkge1xuICAgICAgICAgICAgICAgIHdoaWxlIChzZWdtZW50c1F1ZXVlLmxlbmd0aCAmJiBzZWdtZW50c1F1ZXVlWzBdICE9IHNlZ21lbnQpXG4gICAgICAgICAgICAgICAgICAgIGFkZFNlZ21lbnRQb2ludChzZWdtZW50c1F1ZXVlLnNoaWZ0KCkpO1xuXG4gICAgICAgICAgICAgICAgbGFzdFNlZ21lbnQgPSBzZWdtZW50O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBhZGQgcG9pbnRzIGluIGJldHdlZW4gd2hlbiBjdXJ2aW5nXG4gICAgICAgICAgICAvLyBUT0RPOiBhZGFwdGl2ZSBzYW1wbGluZ1xuICAgICAgICAgICAgc3dpdGNoIChzZWdtZW50LnBhdGhTZWdUeXBlQXNMZXR0ZXIudG9VcHBlckNhc2UoKSkge1xuXG4gICAgICAgICAgICBjYXNlICdDJzpcbiAgICAgICAgICAgIGNhc2UgJ1QnOlxuICAgICAgICAgICAgY2FzZSAnUyc6XG4gICAgICAgICAgICBjYXNlICdRJzpcbiAgICAgICAgICAgIGNhc2UgJ0EnOlxuICAgICAgICAgICAgICAgIHBvaW50ID0gcGF0aC5nZXRQb2ludEF0TGVuZ3RoKGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgYWRkUG9pbnQocG9pbnQueCwgcG9pbnQueSwgMCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gaW5jcmVtZW50IGJ5IHNhbXBsZSB2YWx1ZVxuICAgICAgICAgICAgbGVuZ3RoICs9IHNhbXBsZUxlbmd0aDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGFkZCByZW1haW5pbmcgc2VnbWVudHMgbm90IHBhc3NlZCBieSBzYW1wbGluZ1xuICAgICAgICBmb3IgKGkgPSAwLCBpbCA9IHNlZ21lbnRzUXVldWUubGVuZ3RoOyBpIDwgaWw7ICsraSlcbiAgICAgICAgICAgIGFkZFNlZ21lbnRQb2ludChzZWdtZW50c1F1ZXVlW2ldKTtcblxuICAgICAgICByZXR1cm4gcG9pbnRzO1xuICAgIH07XG5cbiAgICBTdmcuX3N2Z1BhdGhUb0Fic29sdXRlID0gZnVuY3Rpb24ocGF0aCkge1xuICAgICAgICAvLyBodHRwOi8vcGhyb2d6Lm5ldC9jb252ZXJ0LXN2Zy1wYXRoLXRvLWFsbC1hYnNvbHV0ZS1jb21tYW5kc1xuICAgICAgICAvLyBDb3B5cmlnaHQgKGMpIEdhdmluIEtpc3RuZXJcbiAgICAgICAgLy8gaHR0cDovL3Bocm9nei5uZXQvanMvX1JldXNlTGljZW5zZS50eHRcbiAgICAgICAgLy8gTW9kaWZpY2F0aW9uczogdGlkeSBmb3JtYXR0aW5nIGFuZCBuYW1pbmdcbiAgICAgICAgdmFyIHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHNlZ3MgPSBwYXRoLnBhdGhTZWdMaXN0LFxuICAgICAgICAgICAgeCA9IDAsIHkgPSAwLCBsZW4gPSBzZWdzLm51bWJlck9mSXRlbXM7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgICAgICAgICAgdmFyIHNlZyA9IHNlZ3MuZ2V0SXRlbShpKSxcbiAgICAgICAgICAgICAgICBzZWdUeXBlID0gc2VnLnBhdGhTZWdUeXBlQXNMZXR0ZXI7XG5cbiAgICAgICAgICAgIGlmICgvW01MSFZDU1FUQV0vLnRlc3Qoc2VnVHlwZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoJ3gnIGluIHNlZykgeCA9IHNlZy54O1xuICAgICAgICAgICAgICAgIGlmICgneScgaW4gc2VnKSB5ID0gc2VnLnk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgneDEnIGluIHNlZykgeDEgPSB4ICsgc2VnLngxO1xuICAgICAgICAgICAgICAgIGlmICgneDInIGluIHNlZykgeDIgPSB4ICsgc2VnLngyO1xuICAgICAgICAgICAgICAgIGlmICgneTEnIGluIHNlZykgeTEgPSB5ICsgc2VnLnkxO1xuICAgICAgICAgICAgICAgIGlmICgneTInIGluIHNlZykgeTIgPSB5ICsgc2VnLnkyO1xuICAgICAgICAgICAgICAgIGlmICgneCcgaW4gc2VnKSB4ICs9IHNlZy54O1xuICAgICAgICAgICAgICAgIGlmICgneScgaW4gc2VnKSB5ICs9IHNlZy55O1xuXG4gICAgICAgICAgICAgICAgc3dpdGNoIChzZWdUeXBlKSB7XG5cbiAgICAgICAgICAgICAgICBjYXNlICdtJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdNb3ZldG9BYnMoeCwgeSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdsJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9BYnMoeCwgeSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdMaW5ldG9Ib3Jpem9udGFsQWJzKHgpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAndic6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnTGluZXRvVmVydGljYWxBYnMoeSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdjJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvQ3ViaWNBYnMoeCwgeSwgeDEsIHkxLCB4MiwgeTIpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAncyc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQ3VydmV0b0N1YmljU21vb3RoQWJzKHgsIHksIHgyLCB5MiksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdxJzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljQWJzKHgsIHksIHgxLCB5MSksIGkpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICd0JzpcbiAgICAgICAgICAgICAgICAgICAgc2Vncy5yZXBsYWNlSXRlbShwYXRoLmNyZWF0ZVNWR1BhdGhTZWdDdXJ2ZXRvUXVhZHJhdGljU21vb3RoQWJzKHgsIHkpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnYSc6XG4gICAgICAgICAgICAgICAgICAgIHNlZ3MucmVwbGFjZUl0ZW0ocGF0aC5jcmVhdGVTVkdQYXRoU2VnQXJjQWJzKHgsIHksIHNlZy5yMSwgc2VnLnIyLCBzZWcuYW5nbGUsIHNlZy5sYXJnZUFyY0ZsYWcsIHNlZy5zd2VlcEZsYWcpLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAneic6XG4gICAgICAgICAgICAgICAgY2FzZSAnWic6XG4gICAgICAgICAgICAgICAgICAgIHggPSB4MDtcbiAgICAgICAgICAgICAgICAgICAgeSA9IHkwO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNlZ1R5cGUgPT0gJ00nIHx8IHNlZ1R5cGUgPT0gJ20nKSB7XG4gICAgICAgICAgICAgICAgeDAgPSB4O1xuICAgICAgICAgICAgICAgIHkwID0geTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbn0pKCk7XG59LHtcIi4uL2NvcmUvQ29tbW9uXCI6MTQsXCIuLi9nZW9tZXRyeS9Cb3VuZHNcIjoyNn1dLDI4OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5WZWN0b3JgIG1vZHVsZSBjb250YWlucyBtZXRob2RzIGZvciBjcmVhdGluZyBhbmQgbWFuaXB1bGF0aW5nIHZlY3RvcnMuXG4qIFZlY3RvcnMgYXJlIHRoZSBiYXNpcyBvZiBhbGwgdGhlIGdlb21ldHJ5IHJlbGF0ZWQgb3BlcmF0aW9ucyBpbiB0aGUgZW5naW5lLlxuKiBBIGBNYXR0ZXIuVmVjdG9yYCBvYmplY3QgaXMgb2YgdGhlIGZvcm0gYHsgeDogMCwgeTogMCB9YC5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFZlY3RvclxuKi9cblxuLy8gVE9ETzogY29uc2lkZXIgcGFyYW1zIGZvciByZXVzaW5nIHZlY3RvciBvYmplY3RzXG5cbnZhciBWZWN0b3IgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZWN0b3I7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgdmVjdG9yLlxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0geVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yXG4gICAgICovXG4gICAgVmVjdG9yLmNyZWF0ZSA9IGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogeCB8fCAwLCB5OiB5IHx8IDAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIG5ldyB2ZWN0b3Igd2l0aCBgeGAgYW5kIGB5YCBjb3BpZWQgZnJvbSB0aGUgZ2l2ZW4gYHZlY3RvcmAuXG4gICAgICogQG1ldGhvZCBjbG9uZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IGNsb25lZCB2ZWN0b3JcbiAgICAgKi9cbiAgICBWZWN0b3IuY2xvbmUgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogdmVjdG9yLngsIHk6IHZlY3Rvci55IH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIG1hZ25pdHVkZSAobGVuZ3RoKSBvZiBhIHZlY3Rvci5cbiAgICAgKiBAbWV0aG9kIG1hZ25pdHVkZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBtYWduaXR1ZGUgb2YgdGhlIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5tYWduaXR1ZGUgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguc3FydCgodmVjdG9yLnggKiB2ZWN0b3IueCkgKyAodmVjdG9yLnkgKiB2ZWN0b3IueSkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBtYWduaXR1ZGUgKGxlbmd0aCkgb2YgYSB2ZWN0b3IgKHRoZXJlZm9yZSBzYXZpbmcgYSBgc3FydGAgb3BlcmF0aW9uKS5cbiAgICAgKiBAbWV0aG9kIG1hZ25pdHVkZVNxdWFyZWRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgc3F1YXJlZCBtYWduaXR1ZGUgb2YgdGhlIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5tYWduaXR1ZGVTcXVhcmVkID0gZnVuY3Rpb24odmVjdG9yKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yLnggKiB2ZWN0b3IueCkgKyAodmVjdG9yLnkgKiB2ZWN0b3IueSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIHZlY3RvciBhYm91dCAoMCwgMCkgYnkgc3BlY2lmaWVkIGFuZ2xlLlxuICAgICAqIEBtZXRob2Qgcm90YXRlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhbmdsZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBbb3V0cHV0XVxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIHZlY3RvciByb3RhdGVkIGFib3V0ICgwLCAwKVxuICAgICAqL1xuICAgIFZlY3Rvci5yb3RhdGUgPSBmdW5jdGlvbih2ZWN0b3IsIGFuZ2xlLCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBpZiAoIW91dHB1dCkgb3V0cHV0ID0ge307XG4gICAgICAgIHZhciB4ID0gdmVjdG9yLnggKiBjb3MgLSB2ZWN0b3IueSAqIHNpbjtcbiAgICAgICAgb3V0cHV0LnkgPSB2ZWN0b3IueCAqIHNpbiArIHZlY3Rvci55ICogY29zO1xuICAgICAgICBvdXRwdXQueCA9IHg7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIHZlY3RvciBhYm91dCBhIHNwZWNpZmllZCBwb2ludCBieSBzcGVjaWZpZWQgYW5nbGUuXG4gICAgICogQG1ldGhvZCByb3RhdGVBYm91dFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYW5nbGVcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciByb3RhdGVkIGFib3V0IHRoZSBwb2ludFxuICAgICAqL1xuICAgIFZlY3Rvci5yb3RhdGVBYm91dCA9IGZ1bmN0aW9uKHZlY3RvciwgYW5nbGUsIHBvaW50LCBvdXRwdXQpIHtcbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSwgc2luID0gTWF0aC5zaW4oYW5nbGUpO1xuICAgICAgICBpZiAoIW91dHB1dCkgb3V0cHV0ID0ge307XG4gICAgICAgIHZhciB4ID0gcG9pbnQueCArICgodmVjdG9yLnggLSBwb2ludC54KSAqIGNvcyAtICh2ZWN0b3IueSAtIHBvaW50LnkpICogc2luKTtcbiAgICAgICAgb3V0cHV0LnkgPSBwb2ludC55ICsgKCh2ZWN0b3IueCAtIHBvaW50LngpICogc2luICsgKHZlY3Rvci55IC0gcG9pbnQueSkgKiBjb3MpO1xuICAgICAgICBvdXRwdXQueCA9IHg7XG4gICAgICAgIHJldHVybiBvdXRwdXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5vcm1hbGlzZXMgYSB2ZWN0b3IgKHN1Y2ggdGhhdCBpdHMgbWFnbml0dWRlIGlzIGAxYCkuXG4gICAgICogQG1ldGhvZCBub3JtYWxpc2VcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHJldHVybiB7dmVjdG9yfSBBIG5ldyB2ZWN0b3Igbm9ybWFsaXNlZFxuICAgICAqL1xuICAgIFZlY3Rvci5ub3JtYWxpc2UgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgdmFyIG1hZ25pdHVkZSA9IFZlY3Rvci5tYWduaXR1ZGUodmVjdG9yKTtcbiAgICAgICAgaWYgKG1hZ25pdHVkZSA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiB7IHg6IDAsIHk6IDAgfTtcbiAgICAgICAgcmV0dXJuIHsgeDogdmVjdG9yLnggLyBtYWduaXR1ZGUsIHk6IHZlY3Rvci55IC8gbWFnbml0dWRlIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRvdC1wcm9kdWN0IG9mIHR3byB2ZWN0b3JzLlxuICAgICAqIEBtZXRob2QgZG90XG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGRvdCBwcm9kdWN0IG9mIHRoZSB0d28gdmVjdG9yc1xuICAgICAqL1xuICAgIFZlY3Rvci5kb3QgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yQS54ICogdmVjdG9yQi54KSArICh2ZWN0b3JBLnkgKiB2ZWN0b3JCLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHR3byB2ZWN0b3JzLlxuICAgICAqIEBtZXRob2QgY3Jvc3NcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgY3Jvc3MgcHJvZHVjdCBvZiB0aGUgdHdvIHZlY3RvcnNcbiAgICAgKi9cbiAgICBWZWN0b3IuY3Jvc3MgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCKSB7XG4gICAgICAgIHJldHVybiAodmVjdG9yQS54ICogdmVjdG9yQi55KSAtICh2ZWN0b3JBLnkgKiB2ZWN0b3JCLngpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjcm9zcy1wcm9kdWN0IG9mIHRocmVlIHZlY3RvcnMuXG4gICAgICogQG1ldGhvZCBjcm9zczNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JCXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckNcbiAgICAgKiBAcmV0dXJuIHtudW1iZXJ9IFRoZSBjcm9zcyBwcm9kdWN0IG9mIHRoZSB0aHJlZSB2ZWN0b3JzXG4gICAgICovXG4gICAgVmVjdG9yLmNyb3NzMyA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIsIHZlY3RvckMpIHtcbiAgICAgICAgcmV0dXJuICh2ZWN0b3JCLnggLSB2ZWN0b3JBLngpICogKHZlY3RvckMueSAtIHZlY3RvckEueSkgLSAodmVjdG9yQi55IC0gdmVjdG9yQS55KSAqICh2ZWN0b3JDLnggLSB2ZWN0b3JBLngpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSB0d28gdmVjdG9ycy5cbiAgICAgKiBAbWV0aG9kIGFkZFxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBvZiB2ZWN0b3JBIGFuZCB2ZWN0b3JCIGFkZGVkXG4gICAgICovXG4gICAgVmVjdG9yLmFkZCA9IGZ1bmN0aW9uKHZlY3RvckEsIHZlY3RvckIsIG91dHB1dCkge1xuICAgICAgICBpZiAoIW91dHB1dCkgb3V0cHV0ID0ge307XG4gICAgICAgIG91dHB1dC54ID0gdmVjdG9yQS54ICsgdmVjdG9yQi54O1xuICAgICAgICBvdXRwdXQueSA9IHZlY3RvckEueSArIHZlY3RvckIueTtcbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3VidHJhY3RzIHRoZSB0d28gdmVjdG9ycy5cbiAgICAgKiBAbWV0aG9kIHN1YlxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JBXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckJcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW291dHB1dF1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IEEgbmV3IHZlY3RvciBvZiB2ZWN0b3JBIGFuZCB2ZWN0b3JCIHN1YnRyYWN0ZWRcbiAgICAgKi9cbiAgICBWZWN0b3Iuc3ViID0gZnVuY3Rpb24odmVjdG9yQSwgdmVjdG9yQiwgb3V0cHV0KSB7XG4gICAgICAgIGlmICghb3V0cHV0KSBvdXRwdXQgPSB7fTtcbiAgICAgICAgb3V0cHV0LnggPSB2ZWN0b3JBLnggLSB2ZWN0b3JCLng7XG4gICAgICAgIG91dHB1dC55ID0gdmVjdG9yQS55IC0gdmVjdG9yQi55O1xuICAgICAgICByZXR1cm4gb3V0cHV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBNdWx0aXBsaWVzIGEgdmVjdG9yIGFuZCBhIHNjYWxhci5cbiAgICAgKiBAbWV0aG9kIG11bHRcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIG11bHRpcGxpZWQgYnkgc2NhbGFyXG4gICAgICovXG4gICAgVmVjdG9yLm11bHQgPSBmdW5jdGlvbih2ZWN0b3IsIHNjYWxhcikge1xuICAgICAgICByZXR1cm4geyB4OiB2ZWN0b3IueCAqIHNjYWxhciwgeTogdmVjdG9yLnkgKiBzY2FsYXIgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGl2aWRlcyBhIHZlY3RvciBhbmQgYSBzY2FsYXIuXG4gICAgICogQG1ldGhvZCBkaXZcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxhclxuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gQSBuZXcgdmVjdG9yIGRpdmlkZWQgYnkgc2NhbGFyXG4gICAgICovXG4gICAgVmVjdG9yLmRpdiA9IGZ1bmN0aW9uKHZlY3Rvciwgc2NhbGFyKSB7XG4gICAgICAgIHJldHVybiB7IHg6IHZlY3Rvci54IC8gc2NhbGFyLCB5OiB2ZWN0b3IueSAvIHNjYWxhciB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBwZXJwZW5kaWN1bGFyIHZlY3Rvci4gU2V0IGBuZWdhdGVgIHRvIHRydWUgZm9yIHRoZSBwZXJwZW5kaWN1bGFyIGluIHRoZSBvcHBvc2l0ZSBkaXJlY3Rpb24uXG4gICAgICogQG1ldGhvZCBwZXJwXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvclxuICAgICAqIEBwYXJhbSB7Ym9vbH0gW25lZ2F0ZT1mYWxzZV1cbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBwZXJwZW5kaWN1bGFyIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5wZXJwID0gZnVuY3Rpb24odmVjdG9yLCBuZWdhdGUpIHtcbiAgICAgICAgbmVnYXRlID0gbmVnYXRlID09PSB0cnVlID8gLTEgOiAxO1xuICAgICAgICByZXR1cm4geyB4OiBuZWdhdGUgKiAtdmVjdG9yLnksIHk6IG5lZ2F0ZSAqIHZlY3Rvci54IH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE5lZ2F0ZXMgYm90aCBjb21wb25lbnRzIG9mIGEgdmVjdG9yIHN1Y2ggdGhhdCBpdCBwb2ludHMgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbi5cbiAgICAgKiBAbWV0aG9kIG5lZ1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBuZWdhdGVkIHZlY3RvclxuICAgICAqL1xuICAgIFZlY3Rvci5uZWcgPSBmdW5jdGlvbih2ZWN0b3IpIHtcbiAgICAgICAgcmV0dXJuIHsgeDogLXZlY3Rvci54LCB5OiAtdmVjdG9yLnkgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgYW5nbGUgYmV0d2VlbiB0aGUgdmVjdG9yIGB2ZWN0b3JCIC0gdmVjdG9yQWAgYW5kIHRoZSB4LWF4aXMgaW4gcmFkaWFucy5cbiAgICAgKiBAbWV0aG9kIGFuZ2xlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHZlY3RvckFcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gdmVjdG9yQlxuICAgICAqIEByZXR1cm4ge251bWJlcn0gVGhlIGFuZ2xlIGluIHJhZGlhbnNcbiAgICAgKi9cbiAgICBWZWN0b3IuYW5nbGUgPSBmdW5jdGlvbih2ZWN0b3JBLCB2ZWN0b3JCKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmF0YW4yKHZlY3RvckIueSAtIHZlY3RvckEueSwgdmVjdG9yQi54IC0gdmVjdG9yQS54KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGVtcG9yYXJ5IHZlY3RvciBwb29sIChub3QgdGhyZWFkLXNhZmUpLlxuICAgICAqIEBwcm9wZXJ0eSBfdGVtcFxuICAgICAqIEB0eXBlIHt2ZWN0b3JbXX1cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIFZlY3Rvci5fdGVtcCA9IFtcbiAgICAgICAgVmVjdG9yLmNyZWF0ZSgpLCBWZWN0b3IuY3JlYXRlKCksIFxuICAgICAgICBWZWN0b3IuY3JlYXRlKCksIFZlY3Rvci5jcmVhdGUoKSwgXG4gICAgICAgIFZlY3Rvci5jcmVhdGUoKSwgVmVjdG9yLmNyZWF0ZSgpXG4gICAgXTtcblxufSkoKTtcbn0se31dLDI5OltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5WZXJ0aWNlc2AgbW9kdWxlIGNvbnRhaW5zIG1ldGhvZHMgZm9yIGNyZWF0aW5nIGFuZCBtYW5pcHVsYXRpbmcgc2V0cyBvZiB2ZXJ0aWNlcy5cbiogQSBzZXQgb2YgdmVydGljZXMgaXMgYW4gYXJyYXkgb2YgYE1hdHRlci5WZWN0b3JgIHdpdGggYWRkaXRpb25hbCBpbmRleGluZyBwcm9wZXJ0aWVzIGluc2VydGVkIGJ5IGBWZXJ0aWNlcy5jcmVhdGVgLlxuKiBBIGBNYXR0ZXIuQm9keWAgbWFpbnRhaW5zIGEgc2V0IG9mIHZlcnRpY2VzIHRvIHJlcHJlc2VudCB0aGUgc2hhcGUgb2YgdGhlIG9iamVjdCAoaXRzIGNvbnZleCBodWxsKS5cbipcbiogU2VlIHRoZSBpbmNsdWRlZCB1c2FnZSBbZXhhbXBsZXNdKGh0dHBzOi8vZ2l0aHViLmNvbS9saWFicnUvbWF0dGVyLWpzL3RyZWUvbWFzdGVyL2V4YW1wbGVzKS5cbipcbiogQGNsYXNzIFZlcnRpY2VzXG4qL1xuXG52YXIgVmVydGljZXMgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBWZXJ0aWNlcztcblxudmFyIFZlY3RvciA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlY3RvcicpO1xudmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgc2V0IG9mIGBNYXR0ZXIuQm9keWAgY29tcGF0aWJsZSB2ZXJ0aWNlcy5cbiAgICAgKiBUaGUgYHBvaW50c2AgYXJndW1lbnQgYWNjZXB0cyBhbiBhcnJheSBvZiBgTWF0dGVyLlZlY3RvcmAgcG9pbnRzIG9yaWVudGF0ZWQgYXJvdW5kIHRoZSBvcmlnaW4gYCgwLCAwKWAsIGZvciBleGFtcGxlOlxuICAgICAqXG4gICAgICogICAgIFt7IHg6IDAsIHk6IDAgfSwgeyB4OiAyNSwgeTogNTAgfSwgeyB4OiA1MCwgeTogMCB9XVxuICAgICAqXG4gICAgICogVGhlIGBWZXJ0aWNlcy5jcmVhdGVgIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5IG9mIHZlcnRpY2VzLCB3aGljaCBhcmUgc2ltaWxhciB0byBNYXR0ZXIuVmVjdG9yIG9iamVjdHMsXG4gICAgICogYnV0IHdpdGggc29tZSBhZGRpdGlvbmFsIHJlZmVyZW5jZXMgcmVxdWlyZWQgZm9yIGVmZmljaWVudCBjb2xsaXNpb24gZGV0ZWN0aW9uIHJvdXRpbmVzLlxuICAgICAqXG4gICAgICogVmVydGljZXMgbXVzdCBiZSBzcGVjaWZpZWQgaW4gY2xvY2t3aXNlIG9yZGVyLlxuICAgICAqXG4gICAgICogTm90ZSB0aGF0IHRoZSBgYm9keWAgYXJndW1lbnQgaXMgbm90IG9wdGlvbmFsLCBhIGBNYXR0ZXIuQm9keWAgcmVmZXJlbmNlIG11c3QgYmUgcHJvdmlkZWQuXG4gICAgICpcbiAgICAgKiBAbWV0aG9kIGNyZWF0ZVxuICAgICAqIEBwYXJhbSB7dmVjdG9yW119IHBvaW50c1xuICAgICAqIEBwYXJhbSB7Ym9keX0gYm9keVxuICAgICAqL1xuICAgIFZlcnRpY2VzLmNyZWF0ZSA9IGZ1bmN0aW9uKHBvaW50cywgYm9keSkge1xuICAgICAgICB2YXIgdmVydGljZXMgPSBbXTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBvaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBvaW50ID0gcG9pbnRzW2ldLFxuICAgICAgICAgICAgICAgIHZlcnRleCA9IHtcbiAgICAgICAgICAgICAgICAgICAgeDogcG9pbnQueCxcbiAgICAgICAgICAgICAgICAgICAgeTogcG9pbnQueSxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXg6IGksXG4gICAgICAgICAgICAgICAgICAgIGJvZHk6IGJvZHksXG4gICAgICAgICAgICAgICAgICAgIGlzSW50ZXJuYWw6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdmVydGljZXMucHVzaCh2ZXJ0ZXgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgYSBzdHJpbmcgY29udGFpbmluZyBvcmRlcmVkIHggeSBwYWlycyBzZXBhcmF0ZWQgYnkgc3BhY2VzIChhbmQgb3B0aW9uYWxseSBjb21tYXMpLCBcbiAgICAgKiBpbnRvIGEgYE1hdHRlci5WZXJ0aWNlc2Agb2JqZWN0IGZvciB0aGUgZ2l2ZW4gYE1hdHRlci5Cb2R5YC5cbiAgICAgKiBGb3IgcGFyc2luZyBTVkcgcGF0aHMsIHNlZSBgU3ZnLnBhdGhUb1ZlcnRpY2VzYC5cbiAgICAgKiBAbWV0aG9kIGZyb21QYXRoXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGhcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5mcm9tUGF0aCA9IGZ1bmN0aW9uKHBhdGgsIGJvZHkpIHtcbiAgICAgICAgdmFyIHBhdGhQYXR0ZXJuID0gL0w/XFxzKihbXFwtXFxkXFwuZV0rKVtcXHMsXSooW1xcLVxcZFxcLmVdKykqL2lnLFxuICAgICAgICAgICAgcG9pbnRzID0gW107XG5cbiAgICAgICAgcGF0aC5yZXBsYWNlKHBhdGhQYXR0ZXJuLCBmdW5jdGlvbihtYXRjaCwgeCwgeSkge1xuICAgICAgICAgICAgcG9pbnRzLnB1c2goeyB4OiBwYXJzZUZsb2F0KHgpLCB5OiBwYXJzZUZsb2F0KHkpIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gVmVydGljZXMuY3JlYXRlKHBvaW50cywgYm9keSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGNlbnRyZSAoY2VudHJvaWQpIG9mIHRoZSBzZXQgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBjZW50cmVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEByZXR1cm4ge3ZlY3Rvcn0gVGhlIGNlbnRyZSBwb2ludFxuICAgICAqL1xuICAgIFZlcnRpY2VzLmNlbnRyZSA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBhcmVhID0gVmVydGljZXMuYXJlYSh2ZXJ0aWNlcywgdHJ1ZSksXG4gICAgICAgICAgICBjZW50cmUgPSB7IHg6IDAsIHk6IDAgfSxcbiAgICAgICAgICAgIGNyb3NzLFxuICAgICAgICAgICAgdGVtcCxcbiAgICAgICAgICAgIGo7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaiA9IChpICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGg7XG4gICAgICAgICAgICBjcm9zcyA9IFZlY3Rvci5jcm9zcyh2ZXJ0aWNlc1tpXSwgdmVydGljZXNbal0pO1xuICAgICAgICAgICAgdGVtcCA9IFZlY3Rvci5tdWx0KFZlY3Rvci5hZGQodmVydGljZXNbaV0sIHZlcnRpY2VzW2pdKSwgY3Jvc3MpO1xuICAgICAgICAgICAgY2VudHJlID0gVmVjdG9yLmFkZChjZW50cmUsIHRlbXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFZlY3Rvci5kaXYoY2VudHJlLCA2ICogYXJlYSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGF2ZXJhZ2UgKG1lYW4pIG9mIHRoZSBzZXQgb2YgdmVydGljZXMuXG4gICAgICogQG1ldGhvZCBtZWFuXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHt2ZWN0b3J9IFRoZSBhdmVyYWdlIHBvaW50XG4gICAgICovXG4gICAgVmVydGljZXMubWVhbiA9IGZ1bmN0aW9uKHZlcnRpY2VzKSB7XG4gICAgICAgIHZhciBhdmVyYWdlID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXZlcmFnZS54ICs9IHZlcnRpY2VzW2ldLng7XG4gICAgICAgICAgICBhdmVyYWdlLnkgKz0gdmVydGljZXNbaV0ueTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBWZWN0b3IuZGl2KGF2ZXJhZ2UsIHZlcnRpY2VzLmxlbmd0aCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGFyZWEgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcy5cbiAgICAgKiBAbWV0aG9kIGFyZWFcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7Ym9vbH0gc2lnbmVkXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgYXJlYVxuICAgICAqL1xuICAgIFZlcnRpY2VzLmFyZWEgPSBmdW5jdGlvbih2ZXJ0aWNlcywgc2lnbmVkKSB7XG4gICAgICAgIHZhciBhcmVhID0gMCxcbiAgICAgICAgICAgIGogPSB2ZXJ0aWNlcy5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZWEgKz0gKHZlcnRpY2VzW2pdLnggLSB2ZXJ0aWNlc1tpXS54KSAqICh2ZXJ0aWNlc1tqXS55ICsgdmVydGljZXNbaV0ueSk7XG4gICAgICAgICAgICBqID0gaTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzaWduZWQpXG4gICAgICAgICAgICByZXR1cm4gYXJlYSAvIDI7XG5cbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGFyZWEpIC8gMjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgbW9tZW50IG9mIGluZXJ0aWEgKHNlY29uZCBtb21lbnQgb2YgYXJlYSkgb2YgdGhlIHNldCBvZiB2ZXJ0aWNlcyBnaXZlbiB0aGUgdG90YWwgbWFzcy5cbiAgICAgKiBAbWV0aG9kIGluZXJ0aWFcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXG4gICAgICogQHJldHVybiB7bnVtYmVyfSBUaGUgcG9seWdvbidzIG1vbWVudCBvZiBpbmVydGlhXG4gICAgICovXG4gICAgVmVydGljZXMuaW5lcnRpYSA9IGZ1bmN0aW9uKHZlcnRpY2VzLCBtYXNzKSB7XG4gICAgICAgIHZhciBudW1lcmF0b3IgPSAwLFxuICAgICAgICAgICAgZGVub21pbmF0b3IgPSAwLFxuICAgICAgICAgICAgdiA9IHZlcnRpY2VzLFxuICAgICAgICAgICAgY3Jvc3MsXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIC8vIGZpbmQgdGhlIHBvbHlnb24ncyBtb21lbnQgb2YgaW5lcnRpYSwgdXNpbmcgc2Vjb25kIG1vbWVudCBvZiBhcmVhXG4gICAgICAgIC8vIGZyb20gZXF1YXRpb25zIGF0IGh0dHA6Ly93d3cucGh5c2ljc2ZvcnVtcy5jb20vc2hvd3RocmVhZC5waHA/dD0yNTI5M1xuICAgICAgICBmb3IgKHZhciBuID0gMDsgbiA8IHYubGVuZ3RoOyBuKyspIHtcbiAgICAgICAgICAgIGogPSAobiArIDEpICUgdi5sZW5ndGg7XG4gICAgICAgICAgICBjcm9zcyA9IE1hdGguYWJzKFZlY3Rvci5jcm9zcyh2W2pdLCB2W25dKSk7XG4gICAgICAgICAgICBudW1lcmF0b3IgKz0gY3Jvc3MgKiAoVmVjdG9yLmRvdCh2W2pdLCB2W2pdKSArIFZlY3Rvci5kb3QodltqXSwgdltuXSkgKyBWZWN0b3IuZG90KHZbbl0sIHZbbl0pKTtcbiAgICAgICAgICAgIGRlbm9taW5hdG9yICs9IGNyb3NzO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIChtYXNzIC8gNikgKiAobnVtZXJhdG9yIC8gZGVub21pbmF0b3IpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIHRoZSBzZXQgb2YgdmVydGljZXMgaW4tcGxhY2UuXG4gICAgICogQG1ldGhvZCB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0ge3ZlcnRpY2VzfSB2ZXJ0aWNlc1xuICAgICAqIEBwYXJhbSB7dmVjdG9yfSB2ZWN0b3JcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGFyXG4gICAgICovXG4gICAgVmVydGljZXMudHJhbnNsYXRlID0gZnVuY3Rpb24odmVydGljZXMsIHZlY3Rvciwgc2NhbGFyKSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBpZiAoc2NhbGFyKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1tpXS54ICs9IHZlY3Rvci54ICogc2NhbGFyO1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzW2ldLnkgKz0gdmVjdG9yLnkgKiBzY2FsYXI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2ZXJ0aWNlc1tpXS54ICs9IHZlY3Rvci54O1xuICAgICAgICAgICAgICAgIHZlcnRpY2VzW2ldLnkgKz0gdmVjdG9yLnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmVydGljZXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJvdGF0ZXMgdGhlIHNldCBvZiB2ZXJ0aWNlcyBpbi1wbGFjZS5cbiAgICAgKiBAbWV0aG9kIHJvdGF0ZVxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGFuZ2xlXG4gICAgICogQHBhcmFtIHt2ZWN0b3J9IHBvaW50XG4gICAgICovXG4gICAgVmVydGljZXMucm90YXRlID0gZnVuY3Rpb24odmVydGljZXMsIGFuZ2xlLCBwb2ludCkge1xuICAgICAgICBpZiAoYW5nbGUgPT09IDApXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgdmFyIGNvcyA9IE1hdGguY29zKGFuZ2xlKSxcbiAgICAgICAgICAgIHNpbiA9IE1hdGguc2luKGFuZ2xlKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHZlcnRpY2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmVydGljZSA9IHZlcnRpY2VzW2ldLFxuICAgICAgICAgICAgICAgIGR4ID0gdmVydGljZS54IC0gcG9pbnQueCxcbiAgICAgICAgICAgICAgICBkeSA9IHZlcnRpY2UueSAtIHBvaW50Lnk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB2ZXJ0aWNlLnggPSBwb2ludC54ICsgKGR4ICogY29zIC0gZHkgKiBzaW4pO1xuICAgICAgICAgICAgdmVydGljZS55ID0gcG9pbnQueSArIChkeCAqIHNpbiArIGR5ICogY29zKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGBwb2ludGAgaXMgaW5zaWRlIHRoZSBzZXQgb2YgYHZlcnRpY2VzYC5cbiAgICAgKiBAbWV0aG9kIGNvbnRhaW5zXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gcG9pbnRcbiAgICAgKiBAcmV0dXJuIHtib29sZWFufSBUcnVlIGlmIHRoZSB2ZXJ0aWNlcyBjb250YWlucyBwb2ludCwgb3RoZXJ3aXNlIGZhbHNlXG4gICAgICovXG4gICAgVmVydGljZXMuY29udGFpbnMgPSBmdW5jdGlvbih2ZXJ0aWNlcywgcG9pbnQpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHZlcnRpY2UgPSB2ZXJ0aWNlc1tpXSxcbiAgICAgICAgICAgICAgICBuZXh0VmVydGljZSA9IHZlcnRpY2VzWyhpICsgMSkgJSB2ZXJ0aWNlcy5sZW5ndGhdO1xuICAgICAgICAgICAgaWYgKChwb2ludC54IC0gdmVydGljZS54KSAqIChuZXh0VmVydGljZS55IC0gdmVydGljZS55KSArIChwb2ludC55IC0gdmVydGljZS55KSAqICh2ZXJ0aWNlLnggLSBuZXh0VmVydGljZS54KSA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2NhbGVzIHRoZSB2ZXJ0aWNlcyBmcm9tIGEgcG9pbnQgKGRlZmF1bHQgaXMgY2VudHJlKSBpbi1wbGFjZS5cbiAgICAgKiBAbWV0aG9kIHNjYWxlXG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc2NhbGVYXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHNjYWxlWVxuICAgICAqIEBwYXJhbSB7dmVjdG9yfSBwb2ludFxuICAgICAqL1xuICAgIFZlcnRpY2VzLnNjYWxlID0gZnVuY3Rpb24odmVydGljZXMsIHNjYWxlWCwgc2NhbGVZLCBwb2ludCkge1xuICAgICAgICBpZiAoc2NhbGVYID09PSAxICYmIHNjYWxlWSA9PT0gMSlcbiAgICAgICAgICAgIHJldHVybiB2ZXJ0aWNlcztcblxuICAgICAgICBwb2ludCA9IHBvaW50IHx8IFZlcnRpY2VzLmNlbnRyZSh2ZXJ0aWNlcyk7XG5cbiAgICAgICAgdmFyIHZlcnRleCxcbiAgICAgICAgICAgIGRlbHRhO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdmVydGljZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuICAgICAgICAgICAgZGVsdGEgPSBWZWN0b3Iuc3ViKHZlcnRleCwgcG9pbnQpO1xuICAgICAgICAgICAgdmVydGljZXNbaV0ueCA9IHBvaW50LnggKyBkZWx0YS54ICogc2NhbGVYO1xuICAgICAgICAgICAgdmVydGljZXNbaV0ueSA9IHBvaW50LnkgKyBkZWx0YS55ICogc2NhbGVZO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDaGFtZmVycyBhIHNldCBvZiB2ZXJ0aWNlcyBieSBnaXZpbmcgdGhlbSByb3VuZGVkIGNvcm5lcnMsIHJldHVybnMgYSBuZXcgc2V0IG9mIHZlcnRpY2VzLlxuICAgICAqIFRoZSByYWRpdXMgcGFyYW1ldGVyIGlzIGEgc2luZ2xlIG51bWJlciBvciBhbiBhcnJheSB0byBzcGVjaWZ5IHRoZSByYWRpdXMgZm9yIGVhY2ggdmVydGV4LlxuICAgICAqIEBtZXRob2QgY2hhbWZlclxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHBhcmFtIHtudW1iZXJbXX0gcmFkaXVzXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHF1YWxpdHlcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcXVhbGl0eU1pblxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBxdWFsaXR5TWF4XG4gICAgICovXG4gICAgVmVydGljZXMuY2hhbWZlciA9IGZ1bmN0aW9uKHZlcnRpY2VzLCByYWRpdXMsIHF1YWxpdHksIHF1YWxpdHlNaW4sIHF1YWxpdHlNYXgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiByYWRpdXMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICByYWRpdXMgPSBbcmFkaXVzXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJhZGl1cyA9IHJhZGl1cyB8fCBbOF07XG4gICAgICAgIH1cblxuICAgICAgICAvLyBxdWFsaXR5IGRlZmF1bHRzIHRvIC0xLCB3aGljaCBpcyBhdXRvXG4gICAgICAgIHF1YWxpdHkgPSAodHlwZW9mIHF1YWxpdHkgIT09ICd1bmRlZmluZWQnKSA/IHF1YWxpdHkgOiAtMTtcbiAgICAgICAgcXVhbGl0eU1pbiA9IHF1YWxpdHlNaW4gfHwgMjtcbiAgICAgICAgcXVhbGl0eU1heCA9IHF1YWxpdHlNYXggfHwgMTQ7XG5cbiAgICAgICAgdmFyIG5ld1ZlcnRpY2VzID0gW107XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIHByZXZWZXJ0ZXggPSB2ZXJ0aWNlc1tpIC0gMSA+PSAwID8gaSAtIDEgOiB2ZXJ0aWNlcy5sZW5ndGggLSAxXSxcbiAgICAgICAgICAgICAgICB2ZXJ0ZXggPSB2ZXJ0aWNlc1tpXSxcbiAgICAgICAgICAgICAgICBuZXh0VmVydGV4ID0gdmVydGljZXNbKGkgKyAxKSAlIHZlcnRpY2VzLmxlbmd0aF0sXG4gICAgICAgICAgICAgICAgY3VycmVudFJhZGl1cyA9IHJhZGl1c1tpIDwgcmFkaXVzLmxlbmd0aCA/IGkgOiByYWRpdXMubGVuZ3RoIC0gMV07XG5cbiAgICAgICAgICAgIGlmIChjdXJyZW50UmFkaXVzID09PSAwKSB7XG4gICAgICAgICAgICAgICAgbmV3VmVydGljZXMucHVzaCh2ZXJ0ZXgpO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgcHJldk5vcm1hbCA9IFZlY3Rvci5ub3JtYWxpc2UoeyBcbiAgICAgICAgICAgICAgICB4OiB2ZXJ0ZXgueSAtIHByZXZWZXJ0ZXgueSwgXG4gICAgICAgICAgICAgICAgeTogcHJldlZlcnRleC54IC0gdmVydGV4LnhcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgbmV4dE5vcm1hbCA9IFZlY3Rvci5ub3JtYWxpc2UoeyBcbiAgICAgICAgICAgICAgICB4OiBuZXh0VmVydGV4LnkgLSB2ZXJ0ZXgueSwgXG4gICAgICAgICAgICAgICAgeTogdmVydGV4LnggLSBuZXh0VmVydGV4LnhcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB2YXIgZGlhZ29uYWxSYWRpdXMgPSBNYXRoLnNxcnQoMiAqIE1hdGgucG93KGN1cnJlbnRSYWRpdXMsIDIpKSxcbiAgICAgICAgICAgICAgICByYWRpdXNWZWN0b3IgPSBWZWN0b3IubXVsdChDb21tb24uY2xvbmUocHJldk5vcm1hbCksIGN1cnJlbnRSYWRpdXMpLFxuICAgICAgICAgICAgICAgIG1pZE5vcm1hbCA9IFZlY3Rvci5ub3JtYWxpc2UoVmVjdG9yLm11bHQoVmVjdG9yLmFkZChwcmV2Tm9ybWFsLCBuZXh0Tm9ybWFsKSwgMC41KSksXG4gICAgICAgICAgICAgICAgc2NhbGVkVmVydGV4ID0gVmVjdG9yLnN1Yih2ZXJ0ZXgsIFZlY3Rvci5tdWx0KG1pZE5vcm1hbCwgZGlhZ29uYWxSYWRpdXMpKTtcblxuICAgICAgICAgICAgdmFyIHByZWNpc2lvbiA9IHF1YWxpdHk7XG5cbiAgICAgICAgICAgIGlmIChxdWFsaXR5ID09PSAtMSkge1xuICAgICAgICAgICAgICAgIC8vIGF1dG9tYXRpY2FsbHkgZGVjaWRlIHByZWNpc2lvblxuICAgICAgICAgICAgICAgIHByZWNpc2lvbiA9IE1hdGgucG93KGN1cnJlbnRSYWRpdXMsIDAuMzIpICogMS43NTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcHJlY2lzaW9uID0gQ29tbW9uLmNsYW1wKHByZWNpc2lvbiwgcXVhbGl0eU1pbiwgcXVhbGl0eU1heCk7XG5cbiAgICAgICAgICAgIC8vIHVzZSBhbiBldmVuIHZhbHVlIGZvciBwcmVjaXNpb24sIG1vcmUgbGlrZWx5IHRvIHJlZHVjZSBheGVzIGJ5IHVzaW5nIHN5bW1ldHJ5XG4gICAgICAgICAgICBpZiAocHJlY2lzaW9uICUgMiA9PT0gMSlcbiAgICAgICAgICAgICAgICBwcmVjaXNpb24gKz0gMTtcblxuICAgICAgICAgICAgdmFyIGFscGhhID0gTWF0aC5hY29zKFZlY3Rvci5kb3QocHJldk5vcm1hbCwgbmV4dE5vcm1hbCkpLFxuICAgICAgICAgICAgICAgIHRoZXRhID0gYWxwaGEgLyBwcmVjaXNpb247XG5cbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgcHJlY2lzaW9uOyBqKyspIHtcbiAgICAgICAgICAgICAgICBuZXdWZXJ0aWNlcy5wdXNoKFZlY3Rvci5hZGQoVmVjdG9yLnJvdGF0ZShyYWRpdXNWZWN0b3IsIHRoZXRhICogaiksIHNjYWxlZFZlcnRleCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ld1ZlcnRpY2VzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTb3J0cyB0aGUgaW5wdXQgdmVydGljZXMgaW50byBjbG9ja3dpc2Ugb3JkZXIgaW4gcGxhY2UuXG4gICAgICogQG1ldGhvZCBjbG9ja3dpc2VTb3J0XG4gICAgICogQHBhcmFtIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKiBAcmV0dXJuIHt2ZXJ0aWNlc30gdmVydGljZXNcbiAgICAgKi9cbiAgICBWZXJ0aWNlcy5jbG9ja3dpc2VTb3J0ID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgdmFyIGNlbnRyZSA9IFZlcnRpY2VzLm1lYW4odmVydGljZXMpO1xuXG4gICAgICAgIHZlcnRpY2VzLnNvcnQoZnVuY3Rpb24odmVydGV4QSwgdmVydGV4Qikge1xuICAgICAgICAgICAgcmV0dXJuIFZlY3Rvci5hbmdsZShjZW50cmUsIHZlcnRleEEpIC0gVmVjdG9yLmFuZ2xlKGNlbnRyZSwgdmVydGV4Qik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB2ZXJ0aWNlcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0cnVlIGlmIHRoZSB2ZXJ0aWNlcyBmb3JtIGEgY29udmV4IHNoYXBlICh2ZXJ0aWNlcyBtdXN0IGJlIGluIGNsb2Nrd2lzZSBvcmRlcikuXG4gICAgICogQG1ldGhvZCBpc0NvbnZleFxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiB7Ym9vbH0gYHRydWVgIGlmIHRoZSBgdmVydGljZXNgIGFyZSBjb252ZXgsIGBmYWxzZWAgaWYgbm90IChvciBgbnVsbGAgaWYgbm90IGNvbXB1dGFibGUpLlxuICAgICAqL1xuICAgIFZlcnRpY2VzLmlzQ29udmV4ID0gZnVuY3Rpb24odmVydGljZXMpIHtcbiAgICAgICAgLy8gaHR0cDovL3BhdWxib3Vya2UubmV0L2dlb21ldHJ5L3BvbHlnb25tZXNoL1xuICAgICAgICAvLyBDb3B5cmlnaHQgKGMpIFBhdWwgQm91cmtlICh1c2UgcGVybWl0dGVkKVxuXG4gICAgICAgIHZhciBmbGFnID0gMCxcbiAgICAgICAgICAgIG4gPSB2ZXJ0aWNlcy5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGssXG4gICAgICAgICAgICB6O1xuXG4gICAgICAgIGlmIChuIDwgMylcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICAgICAgICAgIGogPSAoaSArIDEpICUgbjtcbiAgICAgICAgICAgIGsgPSAoaSArIDIpICUgbjtcbiAgICAgICAgICAgIHogPSAodmVydGljZXNbal0ueCAtIHZlcnRpY2VzW2ldLngpICogKHZlcnRpY2VzW2tdLnkgLSB2ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgIHogLT0gKHZlcnRpY2VzW2pdLnkgLSB2ZXJ0aWNlc1tpXS55KSAqICh2ZXJ0aWNlc1trXS54IC0gdmVydGljZXNbal0ueCk7XG5cbiAgICAgICAgICAgIGlmICh6IDwgMCkge1xuICAgICAgICAgICAgICAgIGZsYWcgfD0gMTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoeiA+IDApIHtcbiAgICAgICAgICAgICAgICBmbGFnIHw9IDI7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmbGFnID09PSAzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZsYWcgIT09IDApe1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb252ZXggaHVsbCBvZiB0aGUgaW5wdXQgdmVydGljZXMgYXMgYSBuZXcgYXJyYXkgb2YgcG9pbnRzLlxuICAgICAqIEBtZXRob2QgaHVsbFxuICAgICAqIEBwYXJhbSB7dmVydGljZXN9IHZlcnRpY2VzXG4gICAgICogQHJldHVybiBbdmVydGV4XSB2ZXJ0aWNlc1xuICAgICAqL1xuICAgIFZlcnRpY2VzLmh1bGwgPSBmdW5jdGlvbih2ZXJ0aWNlcykge1xuICAgICAgICAvLyBodHRwOi8vZ2VvbWFsZ29yaXRobXMuY29tL2ExMC1faHVsbC0xLmh0bWxcblxuICAgICAgICB2YXIgdXBwZXIgPSBbXSxcbiAgICAgICAgICAgIGxvd2VyID0gW10sIFxuICAgICAgICAgICAgdmVydGV4LFxuICAgICAgICAgICAgaTtcblxuICAgICAgICAvLyBzb3J0IHZlcnRpY2VzIG9uIHgtYXhpcyAoeS1heGlzIGZvciB0aWVzKVxuICAgICAgICB2ZXJ0aWNlcyA9IHZlcnRpY2VzLnNsaWNlKDApO1xuICAgICAgICB2ZXJ0aWNlcy5zb3J0KGZ1bmN0aW9uKHZlcnRleEEsIHZlcnRleEIpIHtcbiAgICAgICAgICAgIHZhciBkeCA9IHZlcnRleEEueCAtIHZlcnRleEIueDtcbiAgICAgICAgICAgIHJldHVybiBkeCAhPT0gMCA/IGR4IDogdmVydGV4QS55IC0gdmVydGV4Qi55O1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBidWlsZCBsb3dlciBodWxsXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB2ZXJ0aWNlcy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdmVydGV4ID0gdmVydGljZXNbaV07XG5cbiAgICAgICAgICAgIHdoaWxlIChsb3dlci5sZW5ndGggPj0gMiBcbiAgICAgICAgICAgICAgICAgICAmJiBWZWN0b3IuY3Jvc3MzKGxvd2VyW2xvd2VyLmxlbmd0aCAtIDJdLCBsb3dlcltsb3dlci5sZW5ndGggLSAxXSwgdmVydGV4KSA8PSAwKSB7XG4gICAgICAgICAgICAgICAgbG93ZXIucG9wKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxvd2VyLnB1c2godmVydGV4KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGJ1aWxkIHVwcGVyIGh1bGxcbiAgICAgICAgZm9yIChpID0gdmVydGljZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpIC09IDEpIHtcbiAgICAgICAgICAgIHZlcnRleCA9IHZlcnRpY2VzW2ldO1xuXG4gICAgICAgICAgICB3aGlsZSAodXBwZXIubGVuZ3RoID49IDIgXG4gICAgICAgICAgICAgICAgICAgJiYgVmVjdG9yLmNyb3NzMyh1cHBlclt1cHBlci5sZW5ndGggLSAyXSwgdXBwZXJbdXBwZXIubGVuZ3RoIC0gMV0sIHZlcnRleCkgPD0gMCkge1xuICAgICAgICAgICAgICAgIHVwcGVyLnBvcCgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB1cHBlci5wdXNoKHZlcnRleCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBjb25jYXRlbmF0aW9uIG9mIHRoZSBsb3dlciBhbmQgdXBwZXIgaHVsbHMgZ2l2ZXMgdGhlIGNvbnZleCBodWxsXG4gICAgICAgIC8vIG9taXQgbGFzdCBwb2ludHMgYmVjYXVzZSB0aGV5IGFyZSByZXBlYXRlZCBhdCB0aGUgYmVnaW5uaW5nIG9mIHRoZSBvdGhlciBsaXN0XG4gICAgICAgIHVwcGVyLnBvcCgpO1xuICAgICAgICBsb3dlci5wb3AoKTtcblxuICAgICAgICByZXR1cm4gdXBwZXIuY29uY2F0KGxvd2VyKTtcbiAgICB9O1xuXG59KSgpO1xuXG59LHtcIi4uL2NvcmUvQ29tbW9uXCI6MTQsXCIuLi9nZW9tZXRyeS9WZWN0b3JcIjoyOH1dLDMwOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbnZhciBNYXR0ZXIgPSBtb2R1bGUuZXhwb3J0cyA9IF9kZXJlcV8oJy4uL2NvcmUvTWF0dGVyJyk7XG5cbk1hdHRlci5Cb2R5ID0gX2RlcmVxXygnLi4vYm9keS9Cb2R5Jyk7XG5NYXR0ZXIuQ29tcG9zaXRlID0gX2RlcmVxXygnLi4vYm9keS9Db21wb3NpdGUnKTtcbk1hdHRlci5Xb3JsZCA9IF9kZXJlcV8oJy4uL2JvZHkvV29ybGQnKTtcblxuTWF0dGVyLkNvbnRhY3QgPSBfZGVyZXFfKCcuLi9jb2xsaXNpb24vQ29udGFjdCcpO1xuTWF0dGVyLkRldGVjdG9yID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL0RldGVjdG9yJyk7XG5NYXR0ZXIuR3JpZCA9IF9kZXJlcV8oJy4uL2NvbGxpc2lvbi9HcmlkJyk7XG5NYXR0ZXIuUGFpcnMgPSBfZGVyZXFfKCcuLi9jb2xsaXNpb24vUGFpcnMnKTtcbk1hdHRlci5QYWlyID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1BhaXInKTtcbk1hdHRlci5RdWVyeSA9IF9kZXJlcV8oJy4uL2NvbGxpc2lvbi9RdWVyeScpO1xuTWF0dGVyLlJlc29sdmVyID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1Jlc29sdmVyJyk7XG5NYXR0ZXIuU0FUID0gX2RlcmVxXygnLi4vY29sbGlzaW9uL1NBVCcpO1xuXG5NYXR0ZXIuQ29uc3RyYWludCA9IF9kZXJlcV8oJy4uL2NvbnN0cmFpbnQvQ29uc3RyYWludCcpO1xuTWF0dGVyLk1vdXNlQ29uc3RyYWludCA9IF9kZXJlcV8oJy4uL2NvbnN0cmFpbnQvTW91c2VDb25zdHJhaW50Jyk7XG5cbk1hdHRlci5Db21tb24gPSBfZGVyZXFfKCcuLi9jb3JlL0NvbW1vbicpO1xuTWF0dGVyLkVuZ2luZSA9IF9kZXJlcV8oJy4uL2NvcmUvRW5naW5lJyk7XG5NYXR0ZXIuRXZlbnRzID0gX2RlcmVxXygnLi4vY29yZS9FdmVudHMnKTtcbk1hdHRlci5Nb3VzZSA9IF9kZXJlcV8oJy4uL2NvcmUvTW91c2UnKTtcbk1hdHRlci5SdW5uZXIgPSBfZGVyZXFfKCcuLi9jb3JlL1J1bm5lcicpO1xuTWF0dGVyLlNsZWVwaW5nID0gX2RlcmVxXygnLi4vY29yZS9TbGVlcGluZycpO1xuTWF0dGVyLlBsdWdpbiA9IF9kZXJlcV8oJy4uL2NvcmUvUGx1Z2luJyk7XG5cblxuTWF0dGVyLkJvZGllcyA9IF9kZXJlcV8oJy4uL2ZhY3RvcnkvQm9kaWVzJyk7XG5NYXR0ZXIuQ29tcG9zaXRlcyA9IF9kZXJlcV8oJy4uL2ZhY3RvcnkvQ29tcG9zaXRlcycpO1xuXG5NYXR0ZXIuQXhlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L0F4ZXMnKTtcbk1hdHRlci5Cb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTtcbk1hdHRlci5TdmcgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9TdmcnKTtcbk1hdHRlci5WZWN0b3IgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9WZWN0b3InKTtcbk1hdHRlci5WZXJ0aWNlcyA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlcnRpY2VzJyk7XG5cbk1hdHRlci5SZW5kZXIgPSBfZGVyZXFfKCcuLi9yZW5kZXIvUmVuZGVyJyk7XG5NYXR0ZXIuUmVuZGVyUGl4aSA9IF9kZXJlcV8oJy4uL3JlbmRlci9SZW5kZXJQaXhpJyk7XG5cbi8vIGFsaWFzZXNcblxuTWF0dGVyLldvcmxkLmFkZCA9IE1hdHRlci5Db21wb3NpdGUuYWRkO1xuTWF0dGVyLldvcmxkLnJlbW92ZSA9IE1hdHRlci5Db21wb3NpdGUucmVtb3ZlO1xuTWF0dGVyLldvcmxkLmFkZENvbXBvc2l0ZSA9IE1hdHRlci5Db21wb3NpdGUuYWRkQ29tcG9zaXRlO1xuTWF0dGVyLldvcmxkLmFkZEJvZHkgPSBNYXR0ZXIuQ29tcG9zaXRlLmFkZEJvZHk7XG5NYXR0ZXIuV29ybGQuYWRkQ29uc3RyYWludCA9IE1hdHRlci5Db21wb3NpdGUuYWRkQ29uc3RyYWludDtcbk1hdHRlci5Xb3JsZC5jbGVhciA9IE1hdHRlci5Db21wb3NpdGUuY2xlYXI7XG5NYXR0ZXIuRW5naW5lLnJ1biA9IE1hdHRlci5SdW5uZXIucnVuO1xuXG59LHtcIi4uL2JvZHkvQm9keVwiOjEsXCIuLi9ib2R5L0NvbXBvc2l0ZVwiOjIsXCIuLi9ib2R5L1dvcmxkXCI6MyxcIi4uL2NvbGxpc2lvbi9Db250YWN0XCI6NCxcIi4uL2NvbGxpc2lvbi9EZXRlY3RvclwiOjUsXCIuLi9jb2xsaXNpb24vR3JpZFwiOjYsXCIuLi9jb2xsaXNpb24vUGFpclwiOjcsXCIuLi9jb2xsaXNpb24vUGFpcnNcIjo4LFwiLi4vY29sbGlzaW9uL1F1ZXJ5XCI6OSxcIi4uL2NvbGxpc2lvbi9SZXNvbHZlclwiOjEwLFwiLi4vY29sbGlzaW9uL1NBVFwiOjExLFwiLi4vY29uc3RyYWludC9Db25zdHJhaW50XCI6MTIsXCIuLi9jb25zdHJhaW50L01vdXNlQ29uc3RyYWludFwiOjEzLFwiLi4vY29yZS9Db21tb25cIjoxNCxcIi4uL2NvcmUvRW5naW5lXCI6MTUsXCIuLi9jb3JlL0V2ZW50c1wiOjE2LFwiLi4vY29yZS9NYXR0ZXJcIjoxNyxcIi4uL2NvcmUvTWV0cmljc1wiOjE4LFwiLi4vY29yZS9Nb3VzZVwiOjE5LFwiLi4vY29yZS9QbHVnaW5cIjoyMCxcIi4uL2NvcmUvUnVubmVyXCI6MjEsXCIuLi9jb3JlL1NsZWVwaW5nXCI6MjIsXCIuLi9mYWN0b3J5L0JvZGllc1wiOjIzLFwiLi4vZmFjdG9yeS9Db21wb3NpdGVzXCI6MjQsXCIuLi9nZW9tZXRyeS9BeGVzXCI6MjUsXCIuLi9nZW9tZXRyeS9Cb3VuZHNcIjoyNixcIi4uL2dlb21ldHJ5L1N2Z1wiOjI3LFwiLi4vZ2VvbWV0cnkvVmVjdG9yXCI6MjgsXCIuLi9nZW9tZXRyeS9WZXJ0aWNlc1wiOjI5LFwiLi4vcmVuZGVyL1JlbmRlclwiOjMxLFwiLi4vcmVuZGVyL1JlbmRlclBpeGlcIjozMn1dLDMxOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5SZW5kZXJgIG1vZHVsZSBpcyBhIHNpbXBsZSBIVE1MNSBjYW52YXMgYmFzZWQgcmVuZGVyZXIgZm9yIHZpc3VhbGlzaW5nIGluc3RhbmNlcyBvZiBgTWF0dGVyLkVuZ2luZWAuXG4qIEl0IGlzIGludGVuZGVkIGZvciBkZXZlbG9wbWVudCBhbmQgZGVidWdnaW5nIHB1cnBvc2VzLCBidXQgbWF5IGFsc28gYmUgc3VpdGFibGUgZm9yIHNpbXBsZSBnYW1lcy5cbiogSXQgaW5jbHVkZXMgYSBudW1iZXIgb2YgZHJhd2luZyBvcHRpb25zIGluY2x1ZGluZyB3aXJlZnJhbWUsIHZlY3RvciB3aXRoIHN1cHBvcnQgZm9yIHNwcml0ZXMgYW5kIHZpZXdwb3J0cy5cbipcbiogQGNsYXNzIFJlbmRlclxuKi9cblxudmFyIFJlbmRlciA9IHt9O1xuXG5tb2R1bGUuZXhwb3J0cyA9IFJlbmRlcjtcblxudmFyIENvbW1vbiA9IF9kZXJlcV8oJy4uL2NvcmUvQ29tbW9uJyk7XG52YXIgQ29tcG9zaXRlID0gX2RlcmVxXygnLi4vYm9keS9Db21wb3NpdGUnKTtcbnZhciBCb3VuZHMgPSBfZGVyZXFfKCcuLi9nZW9tZXRyeS9Cb3VuZHMnKTtcbnZhciBFdmVudHMgPSBfZGVyZXFfKCcuLi9jb3JlL0V2ZW50cycpO1xudmFyIEdyaWQgPSBfZGVyZXFfKCcuLi9jb2xsaXNpb24vR3JpZCcpO1xudmFyIFZlY3RvciA9IF9kZXJlcV8oJy4uL2dlb21ldHJ5L1ZlY3RvcicpO1xudmFyIE1vdXNlID0gX2RlcmVxXygnLi4vY29yZS9Nb3VzZScpO1xuXG4oZnVuY3Rpb24oKSB7XG5cbiAgICB2YXIgX3JlcXVlc3RBbmltYXRpb25GcmFtZSxcbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lO1xuXG4gICAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIF9yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgd2luZG93Lm1velJlcXVlc3RBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNSZXF1ZXN0QW5pbWF0aW9uRnJhbWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZnVuY3Rpb24oY2FsbGJhY2speyB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soQ29tbW9uLm5vdygpKTsgfSwgMTAwMCAvIDYwKTsgfTtcblxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IHdpbmRvdy53ZWJraXRDYW5jZWxBbmltYXRpb25GcmFtZSB8fCB3aW5kb3cubXNDYW5jZWxBbmltYXRpb25GcmFtZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbmV3IHJlbmRlcmVyLiBUaGUgb3B0aW9ucyBwYXJhbWV0ZXIgaXMgYW4gb2JqZWN0IHRoYXQgc3BlY2lmaWVzIGFueSBwcm9wZXJ0aWVzIHlvdSB3aXNoIHRvIG92ZXJyaWRlIHRoZSBkZWZhdWx0cy5cbiAgICAgKiBBbGwgcHJvcGVydGllcyBoYXZlIGRlZmF1bHQgdmFsdWVzLCBhbmQgbWFueSBhcmUgcHJlLWNhbGN1bGF0ZWQgYXV0b21hdGljYWxseSBiYXNlZCBvbiBvdGhlciBwcm9wZXJ0aWVzLlxuICAgICAqIFNlZSB0aGUgcHJvcGVydGllcyBzZWN0aW9uIGJlbG93IGZvciBkZXRhaWxlZCBpbmZvcm1hdGlvbiBvbiB3aGF0IHlvdSBjYW4gcGFzcyB2aWEgdGhlIGBvcHRpb25zYCBvYmplY3QuXG4gICAgICogQG1ldGhvZCBjcmVhdGVcbiAgICAgKiBAcGFyYW0ge29iamVjdH0gW29wdGlvbnNdXG4gICAgICogQHJldHVybiB7cmVuZGVyfSBBIG5ldyByZW5kZXJlclxuICAgICAqL1xuICAgIFJlbmRlci5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXI6IFJlbmRlcixcbiAgICAgICAgICAgIGVuZ2luZTogbnVsbCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBjYW52YXM6IG51bGwsXG4gICAgICAgICAgICBtb3VzZTogbnVsbCxcbiAgICAgICAgICAgIGZyYW1lUmVxdWVzdElkOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uczoge1xuICAgICAgICAgICAgICAgIHdpZHRoOiA4MDAsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiA2MDAsXG4gICAgICAgICAgICAgICAgcGl4ZWxSYXRpbzogMSxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzE4MTgxZCcsXG4gICAgICAgICAgICAgICAgd2lyZWZyYW1lQmFja2dyb3VuZDogJyMwZjBmMTMnLFxuICAgICAgICAgICAgICAgIGhhc0JvdW5kczogISFvcHRpb25zLmJvdW5kcyxcbiAgICAgICAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgICAgICAgIHdpcmVmcmFtZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgc2hvd1NsZWVwaW5nOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dEZWJ1ZzogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0Jyb2FkcGhhc2U6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dCb3VuZHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dWZWxvY2l0eTogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0NvbGxpc2lvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dTZXBhcmF0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0F4ZXM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dQb3NpdGlvbnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dBbmdsZUluZGljYXRvcjogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0lkczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1NoYWRvd3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dWZXJ0ZXhOdW1iZXJzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93Q29udmV4SHVsbHM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dJbnRlcm5hbEVkZ2VzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93TW91c2VQb3NpdGlvbjogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVuZGVyID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKHJlbmRlci5jYW52YXMpIHtcbiAgICAgICAgICAgIHJlbmRlci5jYW52YXMud2lkdGggPSByZW5kZXIub3B0aW9ucy53aWR0aCB8fCByZW5kZXIuY2FudmFzLndpZHRoO1xuICAgICAgICAgICAgcmVuZGVyLmNhbnZhcy5oZWlnaHQgPSByZW5kZXIub3B0aW9ucy5oZWlnaHQgfHwgcmVuZGVyLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICByZW5kZXIubW91c2UgPSBvcHRpb25zLm1vdXNlO1xuICAgICAgICByZW5kZXIuZW5naW5lID0gb3B0aW9ucy5lbmdpbmU7XG4gICAgICAgIHJlbmRlci5jYW52YXMgPSByZW5kZXIuY2FudmFzIHx8IF9jcmVhdGVDYW52YXMocmVuZGVyLm9wdGlvbnMud2lkdGgsIHJlbmRlci5vcHRpb25zLmhlaWdodCk7XG4gICAgICAgIHJlbmRlci5jb250ZXh0ID0gcmVuZGVyLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICByZW5kZXIudGV4dHVyZXMgPSB7fTtcblxuICAgICAgICByZW5kZXIuYm91bmRzID0gcmVuZGVyLmJvdW5kcyB8fCB7XG4gICAgICAgICAgICBtaW46IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtYXg6IHtcbiAgICAgICAgICAgICAgICB4OiByZW5kZXIuY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHJlbmRlci5jYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKHJlbmRlci5vcHRpb25zLnBpeGVsUmF0aW8gIT09IDEpIHtcbiAgICAgICAgICAgIFJlbmRlci5zZXRQaXhlbFJhdGlvKHJlbmRlciwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoQ29tbW9uLmlzRWxlbWVudChyZW5kZXIuZWxlbWVudCkpIHtcbiAgICAgICAgICAgIHJlbmRlci5lbGVtZW50LmFwcGVuZENoaWxkKHJlbmRlci5jYW52YXMpO1xuICAgICAgICB9IGVsc2UgaWYgKCFyZW5kZXIuY2FudmFzLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIENvbW1vbi5sb2coJ1JlbmRlci5jcmVhdGU6IG9wdGlvbnMuZWxlbWVudCB3YXMgdW5kZWZpbmVkLCByZW5kZXIuY2FudmFzIHdhcyBjcmVhdGVkIGJ1dCBub3QgYXBwZW5kZWQnLCAnd2FybicpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRlcjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ29udGludW91c2x5IHVwZGF0ZXMgdGhlIHJlbmRlciBjYW52YXMgb24gdGhlIGByZXF1ZXN0QW5pbWF0aW9uRnJhbWVgIGV2ZW50LlxuICAgICAqIEBtZXRob2QgcnVuXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci5ydW4gPSBmdW5jdGlvbihyZW5kZXIpIHtcbiAgICAgICAgKGZ1bmN0aW9uIGxvb3AodGltZSl7XG4gICAgICAgICAgICByZW5kZXIuZnJhbWVSZXF1ZXN0SWQgPSBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGxvb3ApO1xuICAgICAgICAgICAgUmVuZGVyLndvcmxkKHJlbmRlcik7XG4gICAgICAgIH0pKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEVuZHMgZXhlY3V0aW9uIG9mIGBSZW5kZXIucnVuYCBvbiB0aGUgZ2l2ZW4gYHJlbmRlcmAsIGJ5IGNhbmNlbGluZyB0aGUgYW5pbWF0aW9uIGZyYW1lIHJlcXVlc3QgZXZlbnQgbG9vcC5cbiAgICAgKiBAbWV0aG9kIHN0b3BcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICovXG4gICAgUmVuZGVyLnN0b3AgPSBmdW5jdGlvbihyZW5kZXIpIHtcbiAgICAgICAgX2NhbmNlbEFuaW1hdGlvbkZyYW1lKHJlbmRlci5mcmFtZVJlcXVlc3RJZCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHBpeGVsIHJhdGlvIG9mIHRoZSByZW5kZXJlciBhbmQgdXBkYXRlcyB0aGUgY2FudmFzLlxuICAgICAqIFRvIGF1dG9tYXRpY2FsbHkgZGV0ZWN0IHRoZSBjb3JyZWN0IHJhdGlvLCBwYXNzIHRoZSBzdHJpbmcgYCdhdXRvJ2AgZm9yIGBwaXhlbFJhdGlvYC5cbiAgICAgKiBAbWV0aG9kIHNldFBpeGVsUmF0aW9cbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHBpeGVsUmF0aW9cbiAgICAgKi9cbiAgICBSZW5kZXIuc2V0UGl4ZWxSYXRpbyA9IGZ1bmN0aW9uKHJlbmRlciwgcGl4ZWxSYXRpbykge1xuICAgICAgICB2YXIgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgY2FudmFzID0gcmVuZGVyLmNhbnZhcztcblxuICAgICAgICBpZiAocGl4ZWxSYXRpbyA9PT0gJ2F1dG8nKSB7XG4gICAgICAgICAgICBwaXhlbFJhdGlvID0gX2dldFBpeGVsUmF0aW8oY2FudmFzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIG9wdGlvbnMucGl4ZWxSYXRpbyA9IHBpeGVsUmF0aW87XG4gICAgICAgIGNhbnZhcy5zZXRBdHRyaWJ1dGUoJ2RhdGEtcGl4ZWwtcmF0aW8nLCBwaXhlbFJhdGlvKTtcbiAgICAgICAgY2FudmFzLndpZHRoID0gb3B0aW9ucy53aWR0aCAqIHBpeGVsUmF0aW87XG4gICAgICAgIGNhbnZhcy5oZWlnaHQgPSBvcHRpb25zLmhlaWdodCAqIHBpeGVsUmF0aW87XG4gICAgICAgIGNhbnZhcy5zdHlsZS53aWR0aCA9IG9wdGlvbnMud2lkdGggKyAncHgnO1xuICAgICAgICBjYW52YXMuc3R5bGUuaGVpZ2h0ID0gb3B0aW9ucy5oZWlnaHQgKyAncHgnO1xuICAgICAgICByZW5kZXIuY29udGV4dC5zY2FsZShwaXhlbFJhdGlvLCBwaXhlbFJhdGlvKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUG9zaXRpb25zIGFuZCBzaXplcyB0aGUgdmlld3BvcnQgYXJvdW5kIHRoZSBnaXZlbiBvYmplY3QgYm91bmRzLlxuICAgICAqIE9iamVjdHMgbXVzdCBoYXZlIGF0IGxlYXN0IG9uZSBvZiB0aGUgZm9sbG93aW5nIHByb3BlcnRpZXM6XG4gICAgICogLSBgb2JqZWN0LmJvdW5kc2BcbiAgICAgKiAtIGBvYmplY3QucG9zaXRpb25gXG4gICAgICogLSBgb2JqZWN0Lm1pbmAgYW5kIGBvYmplY3QubWF4YFxuICAgICAqIC0gYG9iamVjdC54YCBhbmQgYG9iamVjdC55YFxuICAgICAqIEBtZXRob2QgbG9va0F0XG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7b2JqZWN0W119IG9iamVjdHNcbiAgICAgKiBAcGFyYW0ge3ZlY3Rvcn0gW3BhZGRpbmddXG4gICAgICogQHBhcmFtIHtib29sfSBbY2VudGVyPXRydWVdXG4gICAgICovXG4gICAgUmVuZGVyLmxvb2tBdCA9IGZ1bmN0aW9uKHJlbmRlciwgb2JqZWN0cywgcGFkZGluZywgY2VudGVyKSB7XG4gICAgICAgIGNlbnRlciA9IHR5cGVvZiBjZW50ZXIgIT09ICd1bmRlZmluZWQnID8gY2VudGVyIDogdHJ1ZTtcbiAgICAgICAgb2JqZWN0cyA9IENvbW1vbi5pc0FycmF5KG9iamVjdHMpID8gb2JqZWN0cyA6IFtvYmplY3RzXTtcbiAgICAgICAgcGFkZGluZyA9IHBhZGRpbmcgfHwge1xuICAgICAgICAgICAgeDogMCxcbiAgICAgICAgICAgIHk6IDBcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBmaW5kIGJvdW5kcyBvZiBhbGwgb2JqZWN0c1xuICAgICAgICB2YXIgYm91bmRzID0ge1xuICAgICAgICAgICAgbWluOiB7IHg6IEluZmluaXR5LCB5OiBJbmZpbml0eSB9LFxuICAgICAgICAgICAgbWF4OiB7IHg6IC1JbmZpbml0eSwgeTogLUluZmluaXR5IH1cbiAgICAgICAgfTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG9iamVjdHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHZhciBvYmplY3QgPSBvYmplY3RzW2ldLFxuICAgICAgICAgICAgICAgIG1pbiA9IG9iamVjdC5ib3VuZHMgPyBvYmplY3QuYm91bmRzLm1pbiA6IChvYmplY3QubWluIHx8IG9iamVjdC5wb3NpdGlvbiB8fCBvYmplY3QpLFxuICAgICAgICAgICAgICAgIG1heCA9IG9iamVjdC5ib3VuZHMgPyBvYmplY3QuYm91bmRzLm1heCA6IChvYmplY3QubWF4IHx8IG9iamVjdC5wb3NpdGlvbiB8fCBvYmplY3QpO1xuXG4gICAgICAgICAgICBpZiAobWluICYmIG1heCkge1xuICAgICAgICAgICAgICAgIGlmIChtaW4ueCA8IGJvdW5kcy5taW4ueClcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLm1pbi54ID0gbWluLng7XG5cbiAgICAgICAgICAgICAgICBpZiAobWF4LnggPiBib3VuZHMubWF4LngpXG4gICAgICAgICAgICAgICAgICAgIGJvdW5kcy5tYXgueCA9IG1heC54O1xuXG4gICAgICAgICAgICAgICAgaWYgKG1pbi55IDwgYm91bmRzLm1pbi55KVxuICAgICAgICAgICAgICAgICAgICBib3VuZHMubWluLnkgPSBtaW4ueTtcblxuICAgICAgICAgICAgICAgIGlmIChtYXgueSA+IGJvdW5kcy5tYXgueSlcbiAgICAgICAgICAgICAgICAgICAgYm91bmRzLm1heC55ID0gbWF4Lnk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmaW5kIHJhdGlvc1xuICAgICAgICB2YXIgd2lkdGggPSAoYm91bmRzLm1heC54IC0gYm91bmRzLm1pbi54KSArIDIgKiBwYWRkaW5nLngsXG4gICAgICAgICAgICBoZWlnaHQgPSAoYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55KSArIDIgKiBwYWRkaW5nLnksXG4gICAgICAgICAgICB2aWV3SGVpZ2h0ID0gcmVuZGVyLmNhbnZhcy5oZWlnaHQsXG4gICAgICAgICAgICB2aWV3V2lkdGggPSByZW5kZXIuY2FudmFzLndpZHRoLFxuICAgICAgICAgICAgb3V0ZXJSYXRpbyA9IHZpZXdXaWR0aCAvIHZpZXdIZWlnaHQsXG4gICAgICAgICAgICBpbm5lclJhdGlvID0gd2lkdGggLyBoZWlnaHQsXG4gICAgICAgICAgICBzY2FsZVggPSAxLFxuICAgICAgICAgICAgc2NhbGVZID0gMTtcblxuICAgICAgICAvLyBmaW5kIHNjYWxlIGZhY3RvclxuICAgICAgICBpZiAoaW5uZXJSYXRpbyA+IG91dGVyUmF0aW8pIHtcbiAgICAgICAgICAgIHNjYWxlWSA9IGlubmVyUmF0aW8gLyBvdXRlclJhdGlvO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NhbGVYID0gb3V0ZXJSYXRpbyAvIGlubmVyUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICAvLyBlbmFibGUgYm91bmRzXG4gICAgICAgIHJlbmRlci5vcHRpb25zLmhhc0JvdW5kcyA9IHRydWU7XG5cbiAgICAgICAgLy8gcG9zaXRpb24gYW5kIHNpemVcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueCA9IGJvdW5kcy5taW4ueDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5tYXgueCA9IGJvdW5kcy5taW4ueCArIHdpZHRoICogc2NhbGVYO1xuICAgICAgICByZW5kZXIuYm91bmRzLm1pbi55ID0gYm91bmRzLm1pbi55O1xuICAgICAgICByZW5kZXIuYm91bmRzLm1heC55ID0gYm91bmRzLm1pbi55ICsgaGVpZ2h0ICogc2NhbGVZO1xuXG4gICAgICAgIC8vIGNlbnRlclxuICAgICAgICBpZiAoY2VudGVyKSB7XG4gICAgICAgICAgICByZW5kZXIuYm91bmRzLm1pbi54ICs9IHdpZHRoICogMC41IC0gKHdpZHRoICogc2NhbGVYKSAqIDAuNTtcbiAgICAgICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnggKz0gd2lkdGggKiAwLjUgLSAod2lkdGggKiBzY2FsZVgpICogMC41O1xuICAgICAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueSArPSBoZWlnaHQgKiAwLjUgLSAoaGVpZ2h0ICogc2NhbGVZKSAqIDAuNTtcbiAgICAgICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnkgKz0gaGVpZ2h0ICogMC41IC0gKGhlaWdodCAqIHNjYWxlWSkgKiAwLjU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwYWRkaW5nXG4gICAgICAgIHJlbmRlci5ib3VuZHMubWluLnggLT0gcGFkZGluZy54O1xuICAgICAgICByZW5kZXIuYm91bmRzLm1heC54IC09IHBhZGRpbmcueDtcbiAgICAgICAgcmVuZGVyLmJvdW5kcy5taW4ueSAtPSBwYWRkaW5nLnk7XG4gICAgICAgIHJlbmRlci5ib3VuZHMubWF4LnkgLT0gcGFkZGluZy55O1xuXG4gICAgICAgIC8vIHVwZGF0ZSBtb3VzZVxuICAgICAgICBpZiAocmVuZGVyLm1vdXNlKSB7XG4gICAgICAgICAgICBNb3VzZS5zZXRTY2FsZShyZW5kZXIubW91c2UsIHtcbiAgICAgICAgICAgICAgICB4OiAocmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngpIC8gcmVuZGVyLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICB5OiAocmVuZGVyLmJvdW5kcy5tYXgueSAtIHJlbmRlci5ib3VuZHMubWluLnkpIC8gcmVuZGVyLmNhbnZhcy5oZWlnaHRcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBNb3VzZS5zZXRPZmZzZXQocmVuZGVyLm1vdXNlLCByZW5kZXIuYm91bmRzLm1pbik7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwbGllcyB2aWV3cG9ydCB0cmFuc2Zvcm1zIGJhc2VkIG9uIGByZW5kZXIuYm91bmRzYCB0byBhIHJlbmRlciBjb250ZXh0LlxuICAgICAqIEBtZXRob2Qgc3RhcnRWaWV3VHJhbnNmb3JtXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqL1xuICAgIFJlbmRlci5zdGFydFZpZXdUcmFuc2Zvcm0gPSBmdW5jdGlvbihyZW5kZXIpIHtcbiAgICAgICAgdmFyIGJvdW5kc1dpZHRoID0gcmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngsXG4gICAgICAgICAgICBib3VuZHNIZWlnaHQgPSByZW5kZXIuYm91bmRzLm1heC55IC0gcmVuZGVyLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgIGJvdW5kc1NjYWxlWCA9IGJvdW5kc1dpZHRoIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICBib3VuZHNTY2FsZVkgPSBib3VuZHNIZWlnaHQgLyByZW5kZXIub3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgcmVuZGVyLmNvbnRleHQuc2NhbGUoMSAvIGJvdW5kc1NjYWxlWCwgMSAvIGJvdW5kc1NjYWxlWSk7XG4gICAgICAgIHJlbmRlci5jb250ZXh0LnRyYW5zbGF0ZSgtcmVuZGVyLmJvdW5kcy5taW4ueCwgLXJlbmRlci5ib3VuZHMubWluLnkpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgYWxsIHRyYW5zZm9ybXMgb24gdGhlIHJlbmRlciBjb250ZXh0LlxuICAgICAqIEBtZXRob2QgZW5kVmlld1RyYW5zZm9ybVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKi9cbiAgICBSZW5kZXIuZW5kVmlld1RyYW5zZm9ybSA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICByZW5kZXIuY29udGV4dC5zZXRUcmFuc2Zvcm0ocmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCwgcmVuZGVyLm9wdGlvbnMucGl4ZWxSYXRpbywgMCwgMCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbmRlcnMgdGhlIGdpdmVuIGBlbmdpbmVgJ3MgYE1hdHRlci5Xb3JsZGAgb2JqZWN0LlxuICAgICAqIFRoaXMgaXMgdGhlIGVudHJ5IHBvaW50IGZvciBhbGwgcmVuZGVyaW5nIGFuZCBzaG91bGQgYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgdGhlIHNjZW5lIGNoYW5nZXMuXG4gICAgICogQG1ldGhvZCB3b3JsZFxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKi9cbiAgICBSZW5kZXIud29ybGQgPSBmdW5jdGlvbihyZW5kZXIpIHtcbiAgICAgICAgdmFyIGVuZ2luZSA9IHJlbmRlci5lbmdpbmUsXG4gICAgICAgICAgICB3b3JsZCA9IGVuZ2luZS53b3JsZCxcbiAgICAgICAgICAgIGNhbnZhcyA9IHJlbmRlci5jYW52YXMsXG4gICAgICAgICAgICBjb250ZXh0ID0gcmVuZGVyLmNvbnRleHQsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBhbGxCb2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSxcbiAgICAgICAgICAgIGFsbENvbnN0cmFpbnRzID0gQ29tcG9zaXRlLmFsbENvbnN0cmFpbnRzKHdvcmxkKSxcbiAgICAgICAgICAgIGJhY2tncm91bmQgPSBvcHRpb25zLndpcmVmcmFtZXMgPyBvcHRpb25zLndpcmVmcmFtZUJhY2tncm91bmQgOiBvcHRpb25zLmJhY2tncm91bmQsXG4gICAgICAgICAgICBib2RpZXMgPSBbXSxcbiAgICAgICAgICAgIGNvbnN0cmFpbnRzID0gW10sXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHZhciBldmVudCA9IHtcbiAgICAgICAgICAgIHRpbWVzdGFtcDogZW5naW5lLnRpbWluZy50aW1lc3RhbXBcbiAgICAgICAgfTtcblxuICAgICAgICBFdmVudHMudHJpZ2dlcihyZW5kZXIsICdiZWZvcmVSZW5kZXInLCBldmVudCk7XG5cbiAgICAgICAgLy8gYXBwbHkgYmFja2dyb3VuZCBpZiBpdCBoYXMgY2hhbmdlZFxuICAgICAgICBpZiAocmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kICE9PSBiYWNrZ3JvdW5kKVxuICAgICAgICAgICAgX2FwcGx5QmFja2dyb3VuZChyZW5kZXIsIGJhY2tncm91bmQpO1xuXG4gICAgICAgIC8vIGNsZWFyIHRoZSBjYW52YXMgd2l0aCBhIHRyYW5zcGFyZW50IGZpbGwsIHRvIGFsbG93IHRoZSBjYW52YXMgYmFja2dyb3VuZCB0byBzaG93XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1pbic7XG4gICAgICAgIGNvbnRleHQuZmlsbFN0eWxlID0gXCJ0cmFuc3BhcmVudFwiO1xuICAgICAgICBjb250ZXh0LmZpbGxSZWN0KDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgIGNvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcblxuICAgICAgICAvLyBoYW5kbGUgYm91bmRzXG4gICAgICAgIGlmIChvcHRpb25zLmhhc0JvdW5kcykge1xuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBib2RpZXMgdGhhdCBhcmUgbm90IGluIHZpZXdcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhbGxCb2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgYm9keSA9IGFsbEJvZGllc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoQm91bmRzLm92ZXJsYXBzKGJvZHkuYm91bmRzLCByZW5kZXIuYm91bmRzKSlcbiAgICAgICAgICAgICAgICAgICAgYm9kaWVzLnB1c2goYm9keSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIGZpbHRlciBvdXQgY29uc3RyYWludHMgdGhhdCBhcmUgbm90IGluIHZpZXdcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCBhbGxDb25zdHJhaW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gYWxsQ29uc3RyYWludHNbaV0sXG4gICAgICAgICAgICAgICAgICAgIGJvZHlBID0gY29uc3RyYWludC5ib2R5QSxcbiAgICAgICAgICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLFxuICAgICAgICAgICAgICAgICAgICBwb2ludEFXb3JsZCA9IGNvbnN0cmFpbnQucG9pbnRBLFxuICAgICAgICAgICAgICAgICAgICBwb2ludEJXb3JsZCA9IGNvbnN0cmFpbnQucG9pbnRCO1xuXG4gICAgICAgICAgICAgICAgaWYgKGJvZHlBKSBwb2ludEFXb3JsZCA9IFZlY3Rvci5hZGQoYm9keUEucG9zaXRpb24sIGNvbnN0cmFpbnQucG9pbnRBKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9keUIpIHBvaW50QldvcmxkID0gVmVjdG9yLmFkZChib2R5Qi5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFwb2ludEFXb3JsZCB8fCAhcG9pbnRCV29ybGQpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKEJvdW5kcy5jb250YWlucyhyZW5kZXIuYm91bmRzLCBwb2ludEFXb3JsZCkgfHwgQm91bmRzLmNvbnRhaW5zKHJlbmRlci5ib3VuZHMsIHBvaW50QldvcmxkKSlcbiAgICAgICAgICAgICAgICAgICAgY29uc3RyYWludHMucHVzaChjb25zdHJhaW50KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSB2aWV3XG4gICAgICAgICAgICBSZW5kZXIuc3RhcnRWaWV3VHJhbnNmb3JtKHJlbmRlcik7XG5cbiAgICAgICAgICAgIC8vIHVwZGF0ZSBtb3VzZVxuICAgICAgICAgICAgaWYgKHJlbmRlci5tb3VzZSkge1xuICAgICAgICAgICAgICAgIE1vdXNlLnNldFNjYWxlKHJlbmRlci5tb3VzZSwge1xuICAgICAgICAgICAgICAgICAgICB4OiAocmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngpIC8gcmVuZGVyLmNhbnZhcy53aWR0aCxcbiAgICAgICAgICAgICAgICAgICAgeTogKHJlbmRlci5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1pbi55KSAvIHJlbmRlci5jYW52YXMuaGVpZ2h0XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICBNb3VzZS5zZXRPZmZzZXQocmVuZGVyLm1vdXNlLCByZW5kZXIuYm91bmRzLm1pbik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdHJhaW50cyA9IGFsbENvbnN0cmFpbnRzO1xuICAgICAgICAgICAgYm9kaWVzID0gYWxsQm9kaWVzO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFvcHRpb25zLndpcmVmcmFtZXMgfHwgKGVuZ2luZS5lbmFibGVTbGVlcGluZyAmJiBvcHRpb25zLnNob3dTbGVlcGluZykpIHtcbiAgICAgICAgICAgIC8vIGZ1bGx5IGZlYXR1cmVkIHJlbmRlcmluZyBvZiBib2RpZXNcbiAgICAgICAgICAgIFJlbmRlci5ib2RpZXMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0NvbnZleEh1bGxzKVxuICAgICAgICAgICAgICAgIFJlbmRlci5ib2R5Q29udmV4SHVsbHMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgICAgICAvLyBvcHRpbWlzZWQgbWV0aG9kIGZvciB3aXJlZnJhbWVzIG9ubHlcbiAgICAgICAgICAgIFJlbmRlci5ib2R5V2lyZWZyYW1lcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93Qm91bmRzKVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlCb3VuZHMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dBeGVzIHx8IG9wdGlvbnMuc2hvd0FuZ2xlSW5kaWNhdG9yKVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlBeGVzKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93UG9zaXRpb25zKVxuICAgICAgICAgICAgUmVuZGVyLmJvZHlQb3NpdGlvbnMocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dWZWxvY2l0eSlcbiAgICAgICAgICAgIFJlbmRlci5ib2R5VmVsb2NpdHkocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dJZHMpXG4gICAgICAgICAgICBSZW5kZXIuYm9keUlkcyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1NlcGFyYXRpb25zKVxuICAgICAgICAgICAgUmVuZGVyLnNlcGFyYXRpb25zKHJlbmRlciwgZW5naW5lLnBhaXJzLmxpc3QsIGNvbnRleHQpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3dDb2xsaXNpb25zKVxuICAgICAgICAgICAgUmVuZGVyLmNvbGxpc2lvbnMocmVuZGVyLCBlbmdpbmUucGFpcnMubGlzdCwgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1ZlcnRleE51bWJlcnMpXG4gICAgICAgICAgICBSZW5kZXIudmVydGV4TnVtYmVycyhyZW5kZXIsIGJvZGllcywgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd01vdXNlUG9zaXRpb24pXG4gICAgICAgICAgICBSZW5kZXIubW91c2VQb3NpdGlvbihyZW5kZXIsIHJlbmRlci5tb3VzZSwgY29udGV4dCk7XG5cbiAgICAgICAgUmVuZGVyLmNvbnN0cmFpbnRzKGNvbnN0cmFpbnRzLCBjb250ZXh0KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG93QnJvYWRwaGFzZSAmJiBlbmdpbmUuYnJvYWRwaGFzZS5jb250cm9sbGVyID09PSBHcmlkKVxuICAgICAgICAgICAgUmVuZGVyLmdyaWQocmVuZGVyLCBlbmdpbmUuYnJvYWRwaGFzZSwgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0RlYnVnKVxuICAgICAgICAgICAgUmVuZGVyLmRlYnVnKHJlbmRlciwgY29udGV4dCk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7XG4gICAgICAgICAgICAvLyByZXZlcnQgdmlldyB0cmFuc2Zvcm1zXG4gICAgICAgICAgICBSZW5kZXIuZW5kVmlld1RyYW5zZm9ybShyZW5kZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgRXZlbnRzLnRyaWdnZXIocmVuZGVyLCAnYWZ0ZXJSZW5kZXInLCBldmVudCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGRlYnVnXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5kZWJ1ZyA9IGZ1bmN0aW9uKHJlbmRlciwgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgd29ybGQgPSBlbmdpbmUud29ybGQsXG4gICAgICAgICAgICBtZXRyaWNzID0gZW5naW5lLm1ldHJpY3MsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBib2RpZXMgPSBDb21wb3NpdGUuYWxsQm9kaWVzKHdvcmxkKSxcbiAgICAgICAgICAgIHNwYWNlID0gXCIgICAgXCI7XG5cbiAgICAgICAgaWYgKGVuZ2luZS50aW1pbmcudGltZXN0YW1wIC0gKHJlbmRlci5kZWJ1Z1RpbWVzdGFtcCB8fCAwKSA+PSA1MDApIHtcbiAgICAgICAgICAgIHZhciB0ZXh0ID0gXCJcIjtcblxuICAgICAgICAgICAgaWYgKG1ldHJpY3MudGltaW5nKSB7XG4gICAgICAgICAgICAgICAgdGV4dCArPSBcImZwczogXCIgKyBNYXRoLnJvdW5kKG1ldHJpY3MudGltaW5nLmZwcykgKyBzcGFjZTtcbiAgICAgICAgICAgIH1cblxuXG4gICAgICAgICAgICByZW5kZXIuZGVidWdTdHJpbmcgPSB0ZXh0O1xuICAgICAgICAgICAgcmVuZGVyLmRlYnVnVGltZXN0YW1wID0gZW5naW5lLnRpbWluZy50aW1lc3RhbXA7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocmVuZGVyLmRlYnVnU3RyaW5nKSB7XG4gICAgICAgICAgICBjLmZvbnQgPSBcIjEycHggQXJpYWxcIjtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC41KSc7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC41KSc7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBzcGxpdCA9IHJlbmRlci5kZWJ1Z1N0cmluZy5zcGxpdCgnXFxuJyk7XG5cbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc3BsaXQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBjLmZpbGxUZXh0KHNwbGl0W2ldLCA1MCwgNTAgKyBpICogMTgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGNvbnN0cmFpbnRzXG4gICAgICogQHBhcmFtIHtjb25zdHJhaW50W119IGNvbnN0cmFpbnRzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmNvbnN0cmFpbnRzID0gZnVuY3Rpb24oY29uc3RyYWludHMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0O1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY29uc3RyYWludHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBjb25zdHJhaW50ID0gY29uc3RyYWludHNbaV07XG5cbiAgICAgICAgICAgIGlmICghY29uc3RyYWludC5yZW5kZXIudmlzaWJsZSB8fCAhY29uc3RyYWludC5wb2ludEEgfHwgIWNvbnN0cmFpbnQucG9pbnRCKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgYm9keUEgPSBjb25zdHJhaW50LmJvZHlBLFxuICAgICAgICAgICAgICAgIGJvZHlCID0gY29uc3RyYWludC5ib2R5QixcbiAgICAgICAgICAgICAgICBzdGFydCxcbiAgICAgICAgICAgICAgICBlbmQ7XG5cbiAgICAgICAgICAgIGlmIChib2R5QSkge1xuICAgICAgICAgICAgICAgIHN0YXJ0ID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzdGFydCA9IGNvbnN0cmFpbnQucG9pbnRBO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY29uc3RyYWludC5yZW5kZXIudHlwZSA9PT0gJ3BpbicpIHtcbiAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGMuYXJjKHN0YXJ0LngsIHN0YXJ0LnksIDMsIDAsIDIgKiBNYXRoLlBJKTtcbiAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoYm9keUIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gVmVjdG9yLmFkZChib2R5Qi5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGNvbnN0cmFpbnQucG9pbnRCO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgYy5tb3ZlVG8oc3RhcnQueCwgc3RhcnQueSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoY29uc3RyYWludC5yZW5kZXIudHlwZSA9PT0gJ3NwcmluZycpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRlbHRhID0gVmVjdG9yLnN1YihlbmQsIHN0YXJ0KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vcm1hbCA9IFZlY3Rvci5wZXJwKFZlY3Rvci5ub3JtYWxpc2UoZGVsdGEpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvaWxzID0gTWF0aC5jZWlsKENvbW1vbi5jbGFtcChjb25zdHJhaW50Lmxlbmd0aCAvIDUsIDEyLCAyMCkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0O1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxOyBqIDwgY29pbHM7IGogKz0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0ID0gaiAlIDIgPT09IDAgPyAxIDogLTE7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0LnggKyBkZWx0YS54ICogKGogLyBjb2lscykgKyBub3JtYWwueCAqIG9mZnNldCAqIDQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQueSArIGRlbHRhLnkgKiAoaiAvIGNvaWxzKSArIG5vcm1hbC55ICogb2Zmc2V0ICogNFxuICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGMubGluZVRvKGVuZC54LCBlbmQueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChjb25zdHJhaW50LnJlbmRlci5saW5lV2lkdGgpIHtcbiAgICAgICAgICAgICAgICBjLmxpbmVXaWR0aCA9IGNvbnN0cmFpbnQucmVuZGVyLmxpbmVXaWR0aDtcbiAgICAgICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gY29uc3RyYWludC5yZW5kZXIuc3Ryb2tlU3R5bGU7XG4gICAgICAgICAgICAgICAgYy5zdHJva2UoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbnN0cmFpbnQucmVuZGVyLmFuY2hvcnMpIHtcbiAgICAgICAgICAgICAgICBjLmZpbGxTdHlsZSA9IGNvbnN0cmFpbnQucmVuZGVyLnN0cm9rZVN0eWxlO1xuICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgYy5hcmMoc3RhcnQueCwgc3RhcnQueSwgMywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGMuYXJjKGVuZC54LCBlbmQueSwgMywgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGMuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgYy5maWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keVNoYWRvd3NcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5U2hhZG93cyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGVuZ2luZSA9IHJlbmRlci5lbmdpbmU7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGlmIChib2R5LmNpcmNsZVJhZGl1cykge1xuICAgICAgICAgICAgICAgIGMuYmVnaW5QYXRoKCk7XG4gICAgICAgICAgICAgICAgYy5hcmMoYm9keS5wb3NpdGlvbi54LCBib2R5LnBvc2l0aW9uLnksIGJvZHkuY2lyY2xlUmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYy5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjLm1vdmVUbyhib2R5LnZlcnRpY2VzWzBdLngsIGJvZHkudmVydGljZXNbMF0ueSk7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBib2R5LnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGMubGluZVRvKGJvZHkudmVydGljZXNbal0ueCwgYm9keS52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGRpc3RhbmNlWCA9IGJvZHkucG9zaXRpb24ueCAtIHJlbmRlci5vcHRpb25zLndpZHRoICogMC41LFxuICAgICAgICAgICAgICAgIGRpc3RhbmNlWSA9IGJvZHkucG9zaXRpb24ueSAtIHJlbmRlci5vcHRpb25zLmhlaWdodCAqIDAuMixcbiAgICAgICAgICAgICAgICBkaXN0YW5jZSA9IE1hdGguYWJzKGRpc3RhbmNlWCkgKyBNYXRoLmFicyhkaXN0YW5jZVkpO1xuXG4gICAgICAgICAgICBjLnNoYWRvd0NvbG9yID0gJ3JnYmEoMCwwLDAsMC4xNSknO1xuICAgICAgICAgICAgYy5zaGFkb3dPZmZzZXRYID0gMC4wNSAqIGRpc3RhbmNlWDtcbiAgICAgICAgICAgIGMuc2hhZG93T2Zmc2V0WSA9IDAuMDUgKiBkaXN0YW5jZVk7XG4gICAgICAgICAgICBjLnNoYWRvd0JsdXIgPSAxICsgMTIgKiBNYXRoLm1pbigxLCBkaXN0YW5jZSAvIDEwMDApO1xuXG4gICAgICAgICAgICBjLmZpbGwoKTtcblxuICAgICAgICAgICAgYy5zaGFkb3dDb2xvciA9IG51bGw7XG4gICAgICAgICAgICBjLnNoYWRvd09mZnNldFggPSBudWxsO1xuICAgICAgICAgICAgYy5zaGFkb3dPZmZzZXRZID0gbnVsbDtcbiAgICAgICAgICAgIGMuc2hhZG93Qmx1ciA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9kaWVzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9kaWVzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIHNob3dJbnRlcm5hbEVkZ2VzID0gb3B0aW9ucy5zaG93SW50ZXJuYWxFZGdlcyB8fCAhb3B0aW9ucy53aXJlZnJhbWVzLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaztcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChrID0gYm9keS5wYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGsgPCBib2R5LnBhcnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgcGFydCA9IGJvZHkucGFydHNba107XG5cbiAgICAgICAgICAgICAgICBpZiAoIXBhcnQucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvd1NsZWVwaW5nICYmIGJvZHkuaXNTbGVlcGluZykge1xuICAgICAgICAgICAgICAgICAgICBjLmdsb2JhbEFscGhhID0gMC41ICogcGFydC5yZW5kZXIub3BhY2l0eTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhcnQucmVuZGVyLm9wYWNpdHkgIT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5nbG9iYWxBbHBoYSA9IHBhcnQucmVuZGVyLm9wYWNpdHk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKHBhcnQucmVuZGVyLnNwcml0ZSAmJiBwYXJ0LnJlbmRlci5zcHJpdGUudGV4dHVyZSAmJiAhb3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHBhcnQgc3ByaXRlXG4gICAgICAgICAgICAgICAgICAgIHZhciBzcHJpdGUgPSBwYXJ0LnJlbmRlci5zcHJpdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlID0gX2dldFRleHR1cmUocmVuZGVyLCBzcHJpdGUudGV4dHVyZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYy50cmFuc2xhdGUocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICBjLnJvdGF0ZShwYXJ0LmFuZ2xlKTtcblxuICAgICAgICAgICAgICAgICAgICBjLmRyYXdJbWFnZShcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZXh0dXJlLndpZHRoICogLXNwcml0ZS54T2Zmc2V0ICogc3ByaXRlLnhTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUuaGVpZ2h0ICogLXNwcml0ZS55T2Zmc2V0ICogc3ByaXRlLnlTY2FsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHR1cmUud2lkdGggKiBzcHJpdGUueFNjYWxlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dHVyZS5oZWlnaHQgKiBzcHJpdGUueVNjYWxlXG4gICAgICAgICAgICAgICAgICAgICk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gcmV2ZXJ0IHRyYW5zbGF0aW9uLCBob3BlZnVsbHkgZmFzdGVyIHRoYW4gc2F2ZSAvIHJlc3RvcmVcbiAgICAgICAgICAgICAgICAgICAgYy5yb3RhdGUoLXBhcnQuYW5nbGUpO1xuICAgICAgICAgICAgICAgICAgICBjLnRyYW5zbGF0ZSgtcGFydC5wb3NpdGlvbi54LCAtcGFydC5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyBwYXJ0IHBvbHlnb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQuY2lyY2xlUmFkaXVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5hcmMocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnksIHBhcnQuY2lyY2xlUmFkaXVzLCAwLCAyICogTWF0aC5QSSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1swXS54LCBwYXJ0LnZlcnRpY2VzWzBdLnkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMTsgaiA8IHBhcnQudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXBhcnQudmVydGljZXNbaiAtIDFdLmlzSW50ZXJuYWwgfHwgc2hvd0ludGVybmFsRWRnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC52ZXJ0aWNlc1tqXS54LCBwYXJ0LnZlcnRpY2VzW2pdLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbal0ueCwgcGFydC52ZXJ0aWNlc1tqXS55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFydC52ZXJ0aWNlc1tqXS5pc0ludGVybmFsICYmICFzaG93SW50ZXJuYWxFZGdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhwYXJ0LnZlcnRpY2VzWyhqICsgMSkgJSBwYXJ0LnZlcnRpY2VzLmxlbmd0aF0ueCwgcGFydC52ZXJ0aWNlc1soaiArIDEpICUgcGFydC52ZXJ0aWNlcy5sZW5ndGhdLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC52ZXJ0aWNlc1swXS54LCBwYXJ0LnZlcnRpY2VzWzBdLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICghb3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLmZpbGxTdHlsZSA9IHBhcnQucmVuZGVyLmZpbGxTdHlsZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQucmVuZGVyLmxpbmVXaWR0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVdpZHRoID0gcGFydC5yZW5kZXIubGluZVdpZHRoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSBwYXJ0LnJlbmRlci5zdHJva2VTdHlsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjLnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICBjLmZpbGwoKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnI2JiYic7XG4gICAgICAgICAgICAgICAgICAgICAgICBjLnN0cm9rZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgYy5nbG9iYWxBbHBoYSA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogT3B0aW1pc2VkIG1ldGhvZCBmb3IgZHJhd2luZyBib2R5IHdpcmVmcmFtZXMgaW4gb25lIHBhc3NcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keVdpcmVmcmFtZXNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5V2lyZWZyYW1lcyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIHNob3dJbnRlcm5hbEVkZ2VzID0gcmVuZGVyLm9wdGlvbnMuc2hvd0ludGVybmFsRWRnZXMsXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgcGFydCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqLFxuICAgICAgICAgICAgaztcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBhbGwgYm9kaWVzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgLy8gaGFuZGxlIGNvbXBvdW5kIHBhcnRzXG4gICAgICAgICAgICBmb3IgKGsgPSBib2R5LnBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gYm9keS5wYXJ0c1trXTtcblxuICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbMF0ueCwgcGFydC52ZXJ0aWNlc1swXS55KTtcblxuICAgICAgICAgICAgICAgIGZvciAoaiA9IDE7IGogPCBwYXJ0LnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcGFydC52ZXJ0aWNlc1tqIC0gMV0uaXNJbnRlcm5hbCB8fCBzaG93SW50ZXJuYWxFZGdlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC52ZXJ0aWNlc1tqXS54LCBwYXJ0LnZlcnRpY2VzW2pdLnkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC52ZXJ0aWNlc1tqXS54LCBwYXJ0LnZlcnRpY2VzW2pdLnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhcnQudmVydGljZXNbal0uaXNJbnRlcm5hbCAmJiAhc2hvd0ludGVybmFsRWRnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQudmVydGljZXNbKGogKyAxKSAlIHBhcnQudmVydGljZXMubGVuZ3RoXS54LCBwYXJ0LnZlcnRpY2VzWyhqICsgMSkgJSBwYXJ0LnZlcnRpY2VzLmxlbmd0aF0ueSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBjLmxpbmVUbyhwYXJ0LnZlcnRpY2VzWzBdLngsIHBhcnQudmVydGljZXNbMF0ueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnI2JiYic7XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIE9wdGltaXNlZCBtZXRob2QgZm9yIGRyYXdpbmcgYm9keSBjb252ZXggaHVsbCB3aXJlZnJhbWVzIGluIG9uZSBwYXNzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlDb252ZXhIdWxsc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlDb252ZXhIdWxscyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICBwYXJ0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGNvbnZleCBodWxsc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUgfHwgYm9keS5wYXJ0cy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGMubW92ZVRvKGJvZHkudmVydGljZXNbMF0ueCwgYm9keS52ZXJ0aWNlc1swXS55KTtcblxuICAgICAgICAgICAgZm9yIChqID0gMTsgaiA8IGJvZHkudmVydGljZXMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjLmxpbmVUbyhib2R5LnZlcnRpY2VzW2pdLngsIGJvZHkudmVydGljZXNbal0ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGMubGluZVRvKGJvZHkudmVydGljZXNbMF0ueCwgYm9keS52ZXJ0aWNlc1swXS55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMiknO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIGJvZHkgdmVydGV4IG51bWJlcnMuXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIHZlcnRleE51bWJlcnNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci52ZXJ0ZXhOdW1iZXJzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGosXG4gICAgICAgICAgICBrO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwYXJ0cyA9IGJvZGllc1tpXS5wYXJ0cztcbiAgICAgICAgICAgIGZvciAoayA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgayA8IHBhcnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcnQgPSBwYXJ0c1trXTtcbiAgICAgICAgICAgICAgICBmb3IgKGogPSAwOyBqIDwgcGFydC52ZXJ0aWNlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdyZ2JhKDI1NSwyNTUsMjU1LDAuMiknO1xuICAgICAgICAgICAgICAgICAgICBjLmZpbGxUZXh0KGkgKyAnXycgKyBqLCBwYXJ0LnBvc2l0aW9uLnggKyAocGFydC52ZXJ0aWNlc1tqXS54IC0gcGFydC5wb3NpdGlvbi54KSAqIDAuOCwgcGFydC5wb3NpdGlvbi55ICsgKHBhcnQudmVydGljZXNbal0ueSAtIHBhcnQucG9zaXRpb24ueSkgKiAwLjgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW5kZXJzIG1vdXNlIHBvc2l0aW9uLlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBtb3VzZVBvc2l0aW9uXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7bW91c2V9IG1vdXNlXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLm1vdXNlUG9zaXRpb24gPSBmdW5jdGlvbihyZW5kZXIsIG1vdXNlLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dDtcbiAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjgpJztcbiAgICAgICAgYy5maWxsVGV4dChtb3VzZS5wb3NpdGlvbi54ICsgJyAgJyArIG1vdXNlLnBvc2l0aW9uLnksIG1vdXNlLnBvc2l0aW9uLnggKyA1LCBtb3VzZS5wb3NpdGlvbi55IC0gNSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvZHkgYm91bmRzXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGJvZHlCb3VuZHNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5Qm91bmRzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucztcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXTtcblxuICAgICAgICAgICAgaWYgKGJvZHkucmVuZGVyLnZpc2libGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcGFydHMgPSBib2RpZXNbaV0ucGFydHM7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IHBhcnRzLmxlbmd0aCA+IDEgPyAxIDogMDsgaiA8IHBhcnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgICAgIGMucmVjdChwYXJ0LmJvdW5kcy5taW4ueCwgcGFydC5ib3VuZHMubWluLnksIHBhcnQuYm91bmRzLm1heC54IC0gcGFydC5ib3VuZHMubWluLngsIHBhcnQuYm91bmRzLm1heC55IC0gcGFydC5ib3VuZHMubWluLnkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjA4KSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMCwwLDAsMC4xKSc7XG4gICAgICAgIH1cblxuICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERyYXdzIGJvZHkgYW5nbGUgaW5kaWNhdG9ycyBhbmQgYXhlc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5QXhlc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlBeGVzID0gZnVuY3Rpb24ocmVuZGVyLCBib2RpZXMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGs7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYm9keSA9IGJvZGllc1tpXSxcbiAgICAgICAgICAgICAgICBwYXJ0cyA9IGJvZHkucGFydHM7XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvd0F4ZXMpIHtcbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgYWxsIGF4ZXNcbiAgICAgICAgICAgICAgICBmb3IgKGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoayA9IDA7IGsgPCBwYXJ0LmF4ZXMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBheGlzID0gcGFydC5heGVzW2tdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8ocGFydC5wb3NpdGlvbi54LCBwYXJ0LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYy5saW5lVG8ocGFydC5wb3NpdGlvbi54ICsgYXhpcy54ICogMjAsIHBhcnQucG9zaXRpb24ueSArIGF4aXMueSAqIDIwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChqID0gcGFydHMubGVuZ3RoID4gMSA/IDEgOiAwOyBqIDwgcGFydHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgcGFydCA9IHBhcnRzW2pdO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGsgPSAwOyBrIDwgcGFydC5heGVzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW5kZXIgYSBzaW5nbGUgYXhpcyBpbmRpY2F0b3JcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubW92ZVRvKHBhcnQucG9zaXRpb24ueCwgcGFydC5wb3NpdGlvbi55KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGMubGluZVRvKChwYXJ0LnZlcnRpY2VzWzBdLnggKyBwYXJ0LnZlcnRpY2VzW3BhcnQudmVydGljZXMubGVuZ3RoLTFdLngpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChwYXJ0LnZlcnRpY2VzWzBdLnkgKyBwYXJ0LnZlcnRpY2VzW3BhcnQudmVydGljZXMubGVuZ3RoLTFdLnkpIC8gMik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ2luZGlhbnJlZCc7XG4gICAgICAgICAgICBjLmxpbmVXaWR0aCA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LCAyNTUsIDI1NSwgMC40KSc7XG4gICAgICAgICAgICBjLmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdvdmVybGF5JztcbiAgICAgICAgICAgIGMubGluZVdpZHRoID0gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgICAgIGMuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ3NvdXJjZS1vdmVyJztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9keSBwb3NpdGlvbnNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgYm9keVBvc2l0aW9uc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHlbXX0gYm9kaWVzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmJvZHlQb3NpdGlvbnMgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIHBhcnQsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgaztcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBjdXJyZW50IHBvc2l0aW9uc1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYm9kaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBib2R5ID0gYm9kaWVzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHkucmVuZGVyLnZpc2libGUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0c1xuICAgICAgICAgICAgZm9yIChrID0gMDsgayA8IGJvZHkucGFydHMubGVuZ3RoOyBrKyspIHtcbiAgICAgICAgICAgICAgICBwYXJ0ID0gYm9keS5wYXJ0c1trXTtcbiAgICAgICAgICAgICAgICBjLmFyYyhwYXJ0LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSwgMywgMCwgMiAqIE1hdGguUEksIGZhbHNlKTtcbiAgICAgICAgICAgICAgICBjLmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAnaW5kaWFucmVkJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMCwwLDAsMC41KSc7XG4gICAgICAgIH1cbiAgICAgICAgYy5maWxsKCk7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICAvLyByZW5kZXIgcHJldmlvdXMgcG9zaXRpb25zXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJvZHkgPSBib2RpZXNbaV07XG4gICAgICAgICAgICBpZiAoYm9keS5yZW5kZXIudmlzaWJsZSkge1xuICAgICAgICAgICAgICAgIGMuYXJjKGJvZHkucG9zaXRpb25QcmV2LngsIGJvZHkucG9zaXRpb25QcmV2LnksIDIsIDAsIDIgKiBNYXRoLlBJLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgYy5jbG9zZVBhdGgoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuOCknO1xuICAgICAgICBjLmZpbGwoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRHJhd3MgYm9keSB2ZWxvY2l0eVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5VmVsb2NpdHlcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtib2R5W119IGJvZGllc1xuICAgICAqIEBwYXJhbSB7UmVuZGVyaW5nQ29udGV4dH0gY29udGV4dFxuICAgICAqL1xuICAgIFJlbmRlci5ib2R5VmVsb2NpdHkgPSBmdW5jdGlvbihyZW5kZXIsIGJvZGllcywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQ7XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgdmFyIGJvZHkgPSBib2RpZXNbaV07XG5cbiAgICAgICAgICAgIGlmICghYm9keS5yZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgYy5tb3ZlVG8oYm9keS5wb3NpdGlvbi54LCBib2R5LnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgYy5saW5lVG8oYm9keS5wb3NpdGlvbi54ICsgKGJvZHkucG9zaXRpb24ueCAtIGJvZHkucG9zaXRpb25QcmV2LngpICogMiwgYm9keS5wb3NpdGlvbi55ICsgKGJvZHkucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb25QcmV2LnkpICogMik7XG4gICAgICAgIH1cblxuICAgICAgICBjLmxpbmVXaWR0aCA9IDM7XG4gICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnY29ybmZsb3dlcmJsdWUnO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEcmF3cyBib2R5IGlkc1xuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBib2R5SWRzXG4gICAgICogQHBhcmFtIHtyZW5kZXJ9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7Ym9keVtdfSBib2RpZXNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuYm9keUlkcyA9IGZ1bmN0aW9uKHJlbmRlciwgYm9kaWVzLCBjb250ZXh0KSB7XG4gICAgICAgIHZhciBjID0gY29udGV4dCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBib2RpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmICghYm9kaWVzW2ldLnJlbmRlci52aXNpYmxlKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgcGFydHMgPSBib2RpZXNbaV0ucGFydHM7XG4gICAgICAgICAgICBmb3IgKGogPSBwYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGogPCBwYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIHZhciBwYXJ0ID0gcGFydHNbal07XG4gICAgICAgICAgICAgICAgYy5mb250ID0gXCIxMnB4IEFyaWFsXCI7XG4gICAgICAgICAgICAgICAgYy5maWxsU3R5bGUgPSAncmdiYSgyNTUsMjU1LDI1NSwwLjUpJztcbiAgICAgICAgICAgICAgICBjLmZpbGxUZXh0KHBhcnQuaWQsIHBhcnQucG9zaXRpb24ueCArIDEwLCBwYXJ0LnBvc2l0aW9uLnkgLSAxMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2QgY29sbGlzaW9uc1xuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge3BhaXJbXX0gcGFpcnNcbiAgICAgKiBAcGFyYW0ge1JlbmRlcmluZ0NvbnRleHR9IGNvbnRleHRcbiAgICAgKi9cbiAgICBSZW5kZXIuY29sbGlzaW9ucyA9IGZ1bmN0aW9uKHJlbmRlciwgcGFpcnMsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgcGFpcixcbiAgICAgICAgICAgIGNvbGxpc2lvbixcbiAgICAgICAgICAgIGNvcnJlY3RlZCxcbiAgICAgICAgICAgIGJvZHlBLFxuICAgICAgICAgICAgYm9keUIsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgajtcblxuICAgICAgICBjLmJlZ2luUGF0aCgpO1xuXG4gICAgICAgIC8vIHJlbmRlciBjb2xsaXNpb24gcG9zaXRpb25zXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IHBhaXIuYWN0aXZlQ29udGFjdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgY29udGFjdCA9IHBhaXIuYWN0aXZlQ29udGFjdHNbal0sXG4gICAgICAgICAgICAgICAgICAgIHZlcnRleCA9IGNvbnRhY3QudmVydGV4O1xuICAgICAgICAgICAgICAgIGMucmVjdCh2ZXJ0ZXgueCAtIDEuNSwgdmVydGV4LnkgLSAxLjUsIDMuNSwgMy41KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuZmlsbFN0eWxlID0gJ3JnYmEoMjU1LDI1NSwyNTUsMC43KSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLmZpbGxTdHlsZSA9ICdvcmFuZ2UnO1xuICAgICAgICB9XG4gICAgICAgIGMuZmlsbCgpO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIGNvbGxpc2lvbiBub3JtYWxzXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuXG4gICAgICAgICAgICBpZiAocGFpci5hY3RpdmVDb250YWN0cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5vcm1hbFBvc1ggPSBwYWlyLmFjdGl2ZUNvbnRhY3RzWzBdLnZlcnRleC54LFxuICAgICAgICAgICAgICAgICAgICBub3JtYWxQb3NZID0gcGFpci5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueTtcblxuICAgICAgICAgICAgICAgIGlmIChwYWlyLmFjdGl2ZUNvbnRhY3RzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgICAgICBub3JtYWxQb3NYID0gKHBhaXIuYWN0aXZlQ29udGFjdHNbMF0udmVydGV4LnggKyBwYWlyLmFjdGl2ZUNvbnRhY3RzWzFdLnZlcnRleC54KSAvIDI7XG4gICAgICAgICAgICAgICAgICAgIG5vcm1hbFBvc1kgPSAocGFpci5hY3RpdmVDb250YWN0c1swXS52ZXJ0ZXgueSArIHBhaXIuYWN0aXZlQ29udGFjdHNbMV0udmVydGV4LnkpIC8gMjtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoY29sbGlzaW9uLmJvZHlCID09PSBjb2xsaXNpb24uc3VwcG9ydHNbMF0uYm9keSB8fCBjb2xsaXNpb24uYm9keUEuaXNTdGF0aWMgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICAgICAgYy5tb3ZlVG8obm9ybWFsUG9zWCAtIGNvbGxpc2lvbi5ub3JtYWwueCAqIDgsIG5vcm1hbFBvc1kgLSBjb2xsaXNpb24ubm9ybWFsLnkgKiA4KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjLm1vdmVUbyhub3JtYWxQb3NYICsgY29sbGlzaW9uLm5vcm1hbC54ICogOCwgbm9ybWFsUG9zWSArIGNvbGxpc2lvbi5ub3JtYWwueSAqIDgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGMubGluZVRvKG5vcm1hbFBvc1gsIG5vcm1hbFBvc1kpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMud2lyZWZyYW1lcykge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjcpJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAnb3JhbmdlJztcbiAgICAgICAgfVxuXG4gICAgICAgIGMubGluZVdpZHRoID0gMTtcbiAgICAgICAgYy5zdHJva2UoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBtZXRob2Qgc2VwYXJhdGlvbnNcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtwYWlyW119IHBhaXJzXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLnNlcGFyYXRpb25zID0gZnVuY3Rpb24ocmVuZGVyLCBwYWlycywgY29udGV4dCkge1xuICAgICAgICB2YXIgYyA9IGNvbnRleHQsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBwYWlyLFxuICAgICAgICAgICAgY29sbGlzaW9uLFxuICAgICAgICAgICAgY29ycmVjdGVkLFxuICAgICAgICAgICAgYm9keUEsXG4gICAgICAgICAgICBib2R5QixcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBqO1xuXG4gICAgICAgIGMuYmVnaW5QYXRoKCk7XG5cbiAgICAgICAgLy8gcmVuZGVyIHNlcGFyYXRpb25zXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBwYWlycy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgcGFpciA9IHBhaXJzW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBhaXIuaXNBY3RpdmUpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIGNvbGxpc2lvbiA9IHBhaXIuY29sbGlzaW9uO1xuICAgICAgICAgICAgYm9keUEgPSBjb2xsaXNpb24uYm9keUE7XG4gICAgICAgICAgICBib2R5QiA9IGNvbGxpc2lvbi5ib2R5QjtcblxuICAgICAgICAgICAgdmFyIGsgPSAxO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHlCLmlzU3RhdGljICYmICFib2R5QS5pc1N0YXRpYykgayA9IDAuNTtcbiAgICAgICAgICAgIGlmIChib2R5Qi5pc1N0YXRpYykgayA9IDA7XG5cbiAgICAgICAgICAgIGMubW92ZVRvKGJvZHlCLnBvc2l0aW9uLngsIGJvZHlCLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgYy5saW5lVG8oYm9keUIucG9zaXRpb24ueCAtIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi54ICogaywgYm9keUIucG9zaXRpb24ueSAtIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi55ICogayk7XG5cbiAgICAgICAgICAgIGsgPSAxO1xuXG4gICAgICAgICAgICBpZiAoIWJvZHlCLmlzU3RhdGljICYmICFib2R5QS5pc1N0YXRpYykgayA9IDAuNTtcbiAgICAgICAgICAgIGlmIChib2R5QS5pc1N0YXRpYykgayA9IDA7XG5cbiAgICAgICAgICAgIGMubW92ZVRvKGJvZHlBLnBvc2l0aW9uLngsIGJvZHlBLnBvc2l0aW9uLnkpO1xuICAgICAgICAgICAgYy5saW5lVG8oYm9keUEucG9zaXRpb24ueCArIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi54ICogaywgYm9keUEucG9zaXRpb24ueSArIGNvbGxpc2lvbi5wZW5ldHJhdGlvbi55ICogayk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuNSknO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYy5zdHJva2VTdHlsZSA9ICdvcmFuZ2UnO1xuICAgICAgICB9XG4gICAgICAgIGMuc3Ryb2tlKCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbWV0aG9kIGdyaWRcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtncmlkfSBncmlkXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmdyaWQgPSBmdW5jdGlvbihyZW5kZXIsIGdyaWQsIGNvbnRleHQpIHtcbiAgICAgICAgdmFyIGMgPSBjb250ZXh0LFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zO1xuXG4gICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgIGMuc3Ryb2tlU3R5bGUgPSAncmdiYSgyNTUsMTgwLDAsMC4xKSc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjLnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE4MCwwLDAuNSknO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5iZWdpblBhdGgoKTtcblxuICAgICAgICB2YXIgYnVja2V0S2V5cyA9IENvbW1vbi5rZXlzKGdyaWQuYnVja2V0cyk7XG5cbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBidWNrZXRLZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgYnVja2V0SWQgPSBidWNrZXRLZXlzW2ldO1xuXG4gICAgICAgICAgICBpZiAoZ3JpZC5idWNrZXRzW2J1Y2tldElkXS5sZW5ndGggPCAyKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICB2YXIgcmVnaW9uID0gYnVja2V0SWQuc3BsaXQoL0N8Ui8pO1xuICAgICAgICAgICAgYy5yZWN0KDAuNSArIHBhcnNlSW50KHJlZ2lvblsxXSwgMTApICogZ3JpZC5idWNrZXRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgMC41ICsgcGFyc2VJbnQocmVnaW9uWzJdLCAxMCkgKiBncmlkLmJ1Y2tldEhlaWdodCxcbiAgICAgICAgICAgICAgICAgICAgZ3JpZC5idWNrZXRXaWR0aCxcbiAgICAgICAgICAgICAgICAgICAgZ3JpZC5idWNrZXRIZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgYy5saW5lV2lkdGggPSAxO1xuICAgICAgICBjLnN0cm9rZSgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG1ldGhvZCBpbnNwZWN0b3JcbiAgICAgKiBAcGFyYW0ge2luc3BlY3Rvcn0gaW5zcGVjdG9yXG4gICAgICogQHBhcmFtIHtSZW5kZXJpbmdDb250ZXh0fSBjb250ZXh0XG4gICAgICovXG4gICAgUmVuZGVyLmluc3BlY3RvciA9IGZ1bmN0aW9uKGluc3BlY3RvciwgY29udGV4dCkge1xuICAgICAgICB2YXIgZW5naW5lID0gaW5zcGVjdG9yLmVuZ2luZSxcbiAgICAgICAgICAgIHNlbGVjdGVkID0gaW5zcGVjdG9yLnNlbGVjdGVkLFxuICAgICAgICAgICAgcmVuZGVyID0gaW5zcGVjdG9yLnJlbmRlcixcbiAgICAgICAgICAgIG9wdGlvbnMgPSByZW5kZXIub3B0aW9ucyxcbiAgICAgICAgICAgIGJvdW5kcztcblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNCb3VuZHMpIHtcbiAgICAgICAgICAgIHZhciBib3VuZHNXaWR0aCA9IHJlbmRlci5ib3VuZHMubWF4LnggLSByZW5kZXIuYm91bmRzLm1pbi54LFxuICAgICAgICAgICAgICAgIGJvdW5kc0hlaWdodCA9IHJlbmRlci5ib3VuZHMubWF4LnkgLSByZW5kZXIuYm91bmRzLm1pbi55LFxuICAgICAgICAgICAgICAgIGJvdW5kc1NjYWxlWCA9IGJvdW5kc1dpZHRoIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICAgICAgYm91bmRzU2NhbGVZID0gYm91bmRzSGVpZ2h0IC8gcmVuZGVyLm9wdGlvbnMuaGVpZ2h0O1xuXG4gICAgICAgICAgICBjb250ZXh0LnNjYWxlKDEgLyBib3VuZHNTY2FsZVgsIDEgLyBib3VuZHNTY2FsZVkpO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLXJlbmRlci5ib3VuZHMubWluLngsIC1yZW5kZXIuYm91bmRzLm1pbi55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2VsZWN0ZWQubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBpdGVtID0gc2VsZWN0ZWRbaV0uZGF0YTtcblxuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoMC41LCAwLjUpO1xuICAgICAgICAgICAgY29udGV4dC5saW5lV2lkdGggPSAxO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2VTdHlsZSA9ICdyZ2JhKDI1NSwxNjUsMCwwLjkpJztcbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goWzEsMl0pO1xuXG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0udHlwZSkge1xuXG4gICAgICAgICAgICBjYXNlICdib2R5JzpcblxuICAgICAgICAgICAgICAgIC8vIHJlbmRlciBib2R5IHNlbGVjdGlvbnNcbiAgICAgICAgICAgICAgICBib3VuZHMgPSBpdGVtLmJvdW5kcztcbiAgICAgICAgICAgICAgICBjb250ZXh0LmJlZ2luUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQucmVjdChNYXRoLmZsb29yKGJvdW5kcy5taW4ueCAtIDMpLCBNYXRoLmZsb29yKGJvdW5kcy5taW4ueSAtIDMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCArIDYpLCBNYXRoLmZsb29yKGJvdW5kcy5tYXgueSAtIGJvdW5kcy5taW4ueSArIDYpKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuc3Ryb2tlKCk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcblxuICAgICAgICAgICAgY2FzZSAnY29uc3RyYWludCc6XG5cbiAgICAgICAgICAgICAgICAvLyByZW5kZXIgY29uc3RyYWludCBzZWxlY3Rpb25zXG4gICAgICAgICAgICAgICAgdmFyIHBvaW50ID0gaXRlbS5wb2ludEE7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0uYm9keUEpXG4gICAgICAgICAgICAgICAgICAgIHBvaW50ID0gaXRlbS5wb2ludEI7XG4gICAgICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgICAgICBjb250ZXh0LmFyYyhwb2ludC54LCBwb2ludC55LCAxMCwgMCwgMiAqIE1hdGguUEkpO1xuICAgICAgICAgICAgICAgIGNvbnRleHQuY2xvc2VQYXRoKCk7XG4gICAgICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcblxuICAgICAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnRleHQuc2V0TGluZURhc2goW10pO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLTAuNSwgLTAuNSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyByZW5kZXIgc2VsZWN0aW9uIHJlZ2lvblxuICAgICAgICBpZiAoaW5zcGVjdG9yLnNlbGVjdFN0YXJ0ICE9PSBudWxsKSB7XG4gICAgICAgICAgICBjb250ZXh0LnRyYW5zbGF0ZSgwLjUsIDAuNSk7XG4gICAgICAgICAgICBjb250ZXh0LmxpbmVXaWR0aCA9IDE7XG4gICAgICAgICAgICBjb250ZXh0LnN0cm9rZVN0eWxlID0gJ3JnYmEoMjU1LDE2NSwwLDAuNiknO1xuICAgICAgICAgICAgY29udGV4dC5maWxsU3R5bGUgPSAncmdiYSgyNTUsMTY1LDAsMC4xKSc7XG4gICAgICAgICAgICBib3VuZHMgPSBpbnNwZWN0b3Iuc2VsZWN0Qm91bmRzO1xuICAgICAgICAgICAgY29udGV4dC5iZWdpblBhdGgoKTtcbiAgICAgICAgICAgIGNvbnRleHQucmVjdChNYXRoLmZsb29yKGJvdW5kcy5taW4ueCksIE1hdGguZmxvb3IoYm91bmRzLm1pbi55KSxcbiAgICAgICAgICAgICAgICAgICAgICAgICBNYXRoLmZsb29yKGJvdW5kcy5tYXgueCAtIGJvdW5kcy5taW4ueCksIE1hdGguZmxvb3IoYm91bmRzLm1heC55IC0gYm91bmRzLm1pbi55KSk7XG4gICAgICAgICAgICBjb250ZXh0LmNsb3NlUGF0aCgpO1xuICAgICAgICAgICAgY29udGV4dC5zdHJva2UoKTtcbiAgICAgICAgICAgIGNvbnRleHQuZmlsbCgpO1xuICAgICAgICAgICAgY29udGV4dC50cmFuc2xhdGUoLTAuNSwgLTAuNSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5oYXNCb3VuZHMpXG4gICAgICAgICAgICBjb250ZXh0LnNldFRyYW5zZm9ybSgxLCAwLCAwLCAxLCAwLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAbWV0aG9kIF9jcmVhdGVDYW52YXNcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7fSB3aWR0aFxuICAgICAqIEBwYXJhbSB7fSBoZWlnaHRcbiAgICAgKiBAcmV0dXJuIGNhbnZhc1xuICAgICAqL1xuICAgIHZhciBfY3JlYXRlQ2FudmFzID0gZnVuY3Rpb24od2lkdGgsIGhlaWdodCkge1xuICAgICAgICB2YXIgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgIGNhbnZhcy53aWR0aCA9IHdpZHRoO1xuICAgICAgICBjYW52YXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjYW52YXMub25jb250ZXh0bWVudSA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gZmFsc2U7IH07XG4gICAgICAgIGNhbnZhcy5vbnNlbGVjdHN0YXJ0ID0gZnVuY3Rpb24oKSB7IHJldHVybiBmYWxzZTsgfTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcGl4ZWwgcmF0aW8gb2YgdGhlIGNhbnZhcy5cbiAgICAgKiBAbWV0aG9kIF9nZXRQaXhlbFJhdGlvXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0hUTUxFbGVtZW50fSBjYW52YXNcbiAgICAgKiBAcmV0dXJuIHtOdW1iZXJ9IHBpeGVsIHJhdGlvXG4gICAgICovXG4gICAgdmFyIF9nZXRQaXhlbFJhdGlvID0gZnVuY3Rpb24oY2FudmFzKSB7XG4gICAgICAgIHZhciBjb250ZXh0ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyksXG4gICAgICAgICAgICBkZXZpY2VQaXhlbFJhdGlvID0gd2luZG93LmRldmljZVBpeGVsUmF0aW8gfHwgMSxcbiAgICAgICAgICAgIGJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gPSBjb250ZXh0LndlYmtpdEJhY2tpbmdTdG9yZVBpeGVsUmF0aW8gfHwgY29udGV4dC5tb3pCYWNraW5nU3RvcmVQaXhlbFJhdGlvXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHx8IGNvbnRleHQubXNCYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IGNvbnRleHQub0JhY2tpbmdTdG9yZVBpeGVsUmF0aW9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgY29udGV4dC5iYWNraW5nU3RvcmVQaXhlbFJhdGlvIHx8IDE7XG5cbiAgICAgICAgcmV0dXJuIGRldmljZVBpeGVsUmF0aW8gLyBiYWNraW5nU3RvcmVQaXhlbFJhdGlvO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSByZXF1ZXN0ZWQgdGV4dHVyZSAoYW4gSW1hZ2UpIHZpYSBpdHMgcGF0aFxuICAgICAqIEBtZXRob2QgX2dldFRleHR1cmVcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gaW1hZ2VQYXRoXG4gICAgICogQHJldHVybiB7SW1hZ2V9IHRleHR1cmVcbiAgICAgKi9cbiAgICB2YXIgX2dldFRleHR1cmUgPSBmdW5jdGlvbihyZW5kZXIsIGltYWdlUGF0aCkge1xuICAgICAgICB2YXIgaW1hZ2UgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXTtcblxuICAgICAgICBpZiAoaW1hZ2UpXG4gICAgICAgICAgICByZXR1cm4gaW1hZ2U7XG5cbiAgICAgICAgaW1hZ2UgPSByZW5kZXIudGV4dHVyZXNbaW1hZ2VQYXRoXSA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWFnZS5zcmMgPSBpbWFnZVBhdGg7XG5cbiAgICAgICAgcmV0dXJuIGltYWdlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBsaWVzIHRoZSBiYWNrZ3JvdW5kIHRvIHRoZSBjYW52YXMgdXNpbmcgQ1NTLlxuICAgICAqIEBtZXRob2QgYXBwbHlCYWNrZ3JvdW5kXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3JlbmRlcn0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmRcbiAgICAgKi9cbiAgICB2YXIgX2FwcGx5QmFja2dyb3VuZCA9IGZ1bmN0aW9uKHJlbmRlciwgYmFja2dyb3VuZCkge1xuICAgICAgICB2YXIgY3NzQmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG5cbiAgICAgICAgaWYgKC8oanBnfGdpZnxwbmcpJC8udGVzdChiYWNrZ3JvdW5kKSlcbiAgICAgICAgICAgIGNzc0JhY2tncm91bmQgPSAndXJsKCcgKyBiYWNrZ3JvdW5kICsgJyknO1xuXG4gICAgICAgIHJlbmRlci5jYW52YXMuc3R5bGUuYmFja2dyb3VuZCA9IGNzc0JhY2tncm91bmQ7XG4gICAgICAgIHJlbmRlci5jYW52YXMuc3R5bGUuYmFja2dyb3VuZFNpemUgPSBcImNvbnRhaW5cIjtcbiAgICAgICAgcmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kID0gYmFja2dyb3VuZDtcbiAgICB9O1xuXG4gICAgLypcbiAgICAqXG4gICAgKiAgRXZlbnRzIERvY3VtZW50YXRpb25cbiAgICAqXG4gICAgKi9cblxuICAgIC8qKlxuICAgICogRmlyZWQgYmVmb3JlIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBiZWZvcmVSZW5kZXJcbiAgICAqIEBwYXJhbSB7fSBldmVudCBBbiBldmVudCBvYmplY3RcbiAgICAqIEBwYXJhbSB7bnVtYmVyfSBldmVudC50aW1lc3RhbXAgVGhlIGVuZ2luZS50aW1pbmcudGltZXN0YW1wIG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50LnNvdXJjZSBUaGUgc291cmNlIG9iamVjdCBvZiB0aGUgZXZlbnRcbiAgICAqIEBwYXJhbSB7fSBldmVudC5uYW1lIFRoZSBuYW1lIG9mIHRoZSBldmVudFxuICAgICovXG5cbiAgICAvKipcbiAgICAqIEZpcmVkIGFmdGVyIHJlbmRlcmluZ1xuICAgICpcbiAgICAqIEBldmVudCBhZnRlclJlbmRlclxuICAgICogQHBhcmFtIHt9IGV2ZW50IEFuIGV2ZW50IG9iamVjdFxuICAgICogQHBhcmFtIHtudW1iZXJ9IGV2ZW50LnRpbWVzdGFtcCBUaGUgZW5naW5lLnRpbWluZy50aW1lc3RhbXAgb2YgdGhlIGV2ZW50XG4gICAgKiBAcGFyYW0ge30gZXZlbnQuc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0IG9mIHRoZSBldmVudFxuICAgICogQHBhcmFtIHt9IGV2ZW50Lm5hbWUgVGhlIG5hbWUgb2YgdGhlIGV2ZW50XG4gICAgKi9cblxuICAgIC8qXG4gICAgKlxuICAgICogIFByb3BlcnRpZXMgRG9jdW1lbnRhdGlvblxuICAgICpcbiAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBiYWNrLXJlZmVyZW5jZSB0byB0aGUgYE1hdHRlci5SZW5kZXJgIG1vZHVsZS5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb250cm9sbGVyXG4gICAgICogQHR5cGUgcmVuZGVyXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgYE1hdHRlci5FbmdpbmVgIGluc3RhbmNlIHRvIGJlIHVzZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgZW5naW5lXG4gICAgICogQHR5cGUgZW5naW5lXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgZWxlbWVudCB3aGVyZSB0aGUgY2FudmFzIGlzIHRvIGJlIGluc2VydGVkIChpZiBgcmVuZGVyLmNhbnZhc2AgaGFzIG5vdCBiZWVuIHNwZWNpZmllZClcbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBlbGVtZW50XG4gICAgICogQHR5cGUgSFRNTEVsZW1lbnRcbiAgICAgKiBAZGVmYXVsdCBudWxsXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgY2FudmFzIGVsZW1lbnQgdG8gcmVuZGVyIHRvLiBJZiBub3Qgc3BlY2lmaWVkLCBvbmUgd2lsbCBiZSBjcmVhdGVkIGlmIGByZW5kZXIuZWxlbWVudGAgaGFzIGJlZW4gc3BlY2lmaWVkLlxuICAgICAqXG4gICAgICogQHByb3BlcnR5IGNhbnZhc1xuICAgICAqIEB0eXBlIEhUTUxDYW52YXNFbGVtZW50XG4gICAgICogQGRlZmF1bHQgbnVsbFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIGNvbmZpZ3VyYXRpb24gb3B0aW9ucyBvZiB0aGUgcmVuZGVyZXIuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9uc1xuICAgICAqIEB0eXBlIHt9XG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgdGFyZ2V0IHdpZHRoIGluIHBpeGVscyBvZiB0aGUgYHJlbmRlci5jYW52YXNgIHRvIGJlIGNyZWF0ZWQuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgb3B0aW9ucy53aWR0aFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDgwMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRhcmdldCBoZWlnaHQgaW4gcGl4ZWxzIG9mIHRoZSBgcmVuZGVyLmNhbnZhc2AgdG8gYmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmhlaWdodFxuICAgICAqIEB0eXBlIG51bWJlclxuICAgICAqIEBkZWZhdWx0IDYwMFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBmbGFnIHRoYXQgc3BlY2lmaWVzIGlmIGByZW5kZXIuYm91bmRzYCBzaG91bGQgYmUgdXNlZCB3aGVuIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBvcHRpb25zLmhhc0JvdW5kc1xuICAgICAqIEB0eXBlIGJvb2xlYW5cbiAgICAgKiBAZGVmYXVsdCBmYWxzZVxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQSBgQm91bmRzYCBvYmplY3QgdGhhdCBzcGVjaWZpZXMgdGhlIGRyYXdpbmcgdmlldyByZWdpb24uXG4gICAgICogUmVuZGVyaW5nIHdpbGwgYmUgYXV0b21hdGljYWxseSB0cmFuc2Zvcm1lZCBhbmQgc2NhbGVkIHRvIGZpdCB3aXRoaW4gdGhlIGNhbnZhcyBzaXplIChgcmVuZGVyLm9wdGlvbnMud2lkdGhgIGFuZCBgcmVuZGVyLm9wdGlvbnMuaGVpZ2h0YCkuXG4gICAgICogVGhpcyBhbGxvd3MgZm9yIGNyZWF0aW5nIHZpZXdzIHRoYXQgY2FuIHBhbiBvciB6b29tIGFyb3VuZCB0aGUgc2NlbmUuXG4gICAgICogWW91IG11c3QgYWxzbyBzZXQgYHJlbmRlci5vcHRpb25zLmhhc0JvdW5kc2AgdG8gYHRydWVgIHRvIGVuYWJsZSBib3VuZGVkIHJlbmRlcmluZy5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBib3VuZHNcbiAgICAgKiBAdHlwZSBib3VuZHNcbiAgICAgKi9cblxuICAgIC8qKlxuICAgICAqIFRoZSAyZCByZW5kZXJpbmcgY29udGV4dCBmcm9tIHRoZSBgcmVuZGVyLmNhbnZhc2AgZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBwcm9wZXJ0eSBjb250ZXh0XG4gICAgICogQHR5cGUgQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXG4gICAgICovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc3ByaXRlIHRleHR1cmUgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcHJvcGVydHkgdGV4dHVyZXNcbiAgICAgKiBAdHlwZSB7fVxuICAgICAqL1xuXG59KSgpO1xuXG59LHtcIi4uL2JvZHkvQ29tcG9zaXRlXCI6MixcIi4uL2NvbGxpc2lvbi9HcmlkXCI6NixcIi4uL2NvcmUvQ29tbW9uXCI6MTQsXCIuLi9jb3JlL0V2ZW50c1wiOjE2LFwiLi4vY29yZS9Nb3VzZVwiOjE5LFwiLi4vZ2VvbWV0cnkvQm91bmRzXCI6MjYsXCIuLi9nZW9tZXRyeS9WZWN0b3JcIjoyOH1dLDMyOltmdW5jdGlvbihfZGVyZXFfLG1vZHVsZSxleHBvcnRzKXtcbi8qKlxuKiBUaGUgYE1hdHRlci5SZW5kZXJQaXhpYCBtb2R1bGUgaXMgYW4gZXhhbXBsZSByZW5kZXJlciB1c2luZyBwaXhpLmpzLlxuKiBTZWUgYWxzbyBgTWF0dGVyLlJlbmRlcmAgZm9yIGEgY2FudmFzIGJhc2VkIHJlbmRlcmVyLlxuKlxuKiBAY2xhc3MgUmVuZGVyUGl4aVxuKiBAZGVwcmVjYXRlZCB0aGUgTWF0dGVyLlJlbmRlclBpeGkgbW9kdWxlIHdpbGwgc29vbiBiZSByZW1vdmVkIGZyb20gdGhlIE1hdHRlci5qcyBjb3JlLlxuKiBJdCB3aWxsIGxpa2VseSBiZSBtb3ZlZCB0byBpdHMgb3duIHJlcG9zaXRvcnkgKGJ1dCBtYWludGVuYW5jZSB3aWxsIGJlIGxpbWl0ZWQpLlxuKi9cblxudmFyIFJlbmRlclBpeGkgPSB7fTtcblxubW9kdWxlLmV4cG9ydHMgPSBSZW5kZXJQaXhpO1xuXG52YXIgQm91bmRzID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvQm91bmRzJyk7XG52YXIgQ29tcG9zaXRlID0gX2RlcmVxXygnLi4vYm9keS9Db21wb3NpdGUnKTtcbnZhciBDb21tb24gPSBfZGVyZXFfKCcuLi9jb3JlL0NvbW1vbicpO1xudmFyIEV2ZW50cyA9IF9kZXJlcV8oJy4uL2NvcmUvRXZlbnRzJyk7XG52YXIgVmVjdG9yID0gX2RlcmVxXygnLi4vZ2VvbWV0cnkvVmVjdG9yJyk7XG5cbihmdW5jdGlvbigpIHtcblxuICAgIHZhciBfcmVxdWVzdEFuaW1hdGlvbkZyYW1lLFxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWU7XG5cbiAgICBpZiAodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgX3JlcXVlc3RBbmltYXRpb25GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHwgd2luZG93LndlYmtpdFJlcXVlc3RBbmltYXRpb25GcmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cubW96UmVxdWVzdEFuaW1hdGlvbkZyYW1lIHx8IHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfHwgZnVuY3Rpb24oY2FsbGJhY2speyB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHsgY2FsbGJhY2soQ29tbW9uLm5vdygpKTsgfSwgMTAwMCAvIDYwKTsgfTtcbiAgIFxuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUgPSB3aW5kb3cuY2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1vekNhbmNlbEFuaW1hdGlvbkZyYW1lIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB8fCB3aW5kb3cud2Via2l0Q2FuY2VsQW5pbWF0aW9uRnJhbWUgfHwgd2luZG93Lm1zQ2FuY2VsQW5pbWF0aW9uRnJhbWU7XG4gICAgfVxuICAgIFxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgUGl4aS5qcyBXZWJHTCByZW5kZXJlclxuICAgICAqIEBtZXRob2QgY3JlYXRlXG4gICAgICogQHBhcmFtIHtvYmplY3R9IG9wdGlvbnNcbiAgICAgKiBAcmV0dXJuIHtSZW5kZXJQaXhpfSBBIG5ldyByZW5kZXJlclxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgUmVuZGVyUGl4aS5jcmVhdGUgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIENvbW1vbi53YXJuKCdSZW5kZXJQaXhpLmNyZWF0ZTogTWF0dGVyLlJlbmRlclBpeGkgaXMgZGVwcmVjYXRlZCAoc2VlIGRvY3MpJyk7XG5cbiAgICAgICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgY29udHJvbGxlcjogUmVuZGVyUGl4aSxcbiAgICAgICAgICAgIGVuZ2luZTogbnVsbCxcbiAgICAgICAgICAgIGVsZW1lbnQ6IG51bGwsXG4gICAgICAgICAgICBmcmFtZVJlcXVlc3RJZDogbnVsbCxcbiAgICAgICAgICAgIGNhbnZhczogbnVsbCxcbiAgICAgICAgICAgIHJlbmRlcmVyOiBudWxsLFxuICAgICAgICAgICAgY29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgc3ByaXRlQ29udGFpbmVyOiBudWxsLFxuICAgICAgICAgICAgcGl4aU9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IDgwMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IDYwMCxcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnI2ZhZmFmYScsXG4gICAgICAgICAgICAgICAgd2lyZWZyYW1lQmFja2dyb3VuZDogJyMyMjInLFxuICAgICAgICAgICAgICAgIGhhc0JvdW5kczogZmFsc2UsXG4gICAgICAgICAgICAgICAgZW5hYmxlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICB3aXJlZnJhbWVzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHNob3dTbGVlcGluZzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93RGVidWc6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dCcm9hZHBoYXNlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93Qm91bmRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93VmVsb2NpdHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHNob3dDb2xsaXNpb25zOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93QXhlczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd1Bvc2l0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgICAgc2hvd0FuZ2xlSW5kaWNhdG9yOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93SWRzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBzaG93U2hhZG93czogZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB2YXIgcmVuZGVyID0gQ29tbW9uLmV4dGVuZChkZWZhdWx0cywgb3B0aW9ucyksXG4gICAgICAgICAgICB0cmFuc3BhcmVudCA9ICFyZW5kZXIub3B0aW9ucy53aXJlZnJhbWVzICYmIHJlbmRlci5vcHRpb25zLmJhY2tncm91bmQgPT09ICd0cmFuc3BhcmVudCc7XG5cbiAgICAgICAgLy8gaW5pdCBwaXhpXG4gICAgICAgIHJlbmRlci5waXhpT3B0aW9ucyA9IHJlbmRlci5waXhpT3B0aW9ucyB8fCB7XG4gICAgICAgICAgICB2aWV3OiByZW5kZXIuY2FudmFzLFxuICAgICAgICAgICAgdHJhbnNwYXJlbnQ6IHRyYW5zcGFyZW50LFxuICAgICAgICAgICAgYW50aWFsaWFzOiB0cnVlLFxuICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yOiBvcHRpb25zLmJhY2tncm91bmRcbiAgICAgICAgfTtcblxuICAgICAgICByZW5kZXIubW91c2UgPSBvcHRpb25zLm1vdXNlO1xuICAgICAgICByZW5kZXIuZW5naW5lID0gb3B0aW9ucy5lbmdpbmU7XG4gICAgICAgIHJlbmRlci5yZW5kZXJlciA9IHJlbmRlci5yZW5kZXJlciB8fCBuZXcgUElYSS5XZWJHTFJlbmRlcmVyKHJlbmRlci5vcHRpb25zLndpZHRoLCByZW5kZXIub3B0aW9ucy5oZWlnaHQsIHJlbmRlci5waXhpT3B0aW9ucyk7XG4gICAgICAgIHJlbmRlci5jb250YWluZXIgPSByZW5kZXIuY29udGFpbmVyIHx8IG5ldyBQSVhJLkNvbnRhaW5lcigpO1xuICAgICAgICByZW5kZXIuc3ByaXRlQ29udGFpbmVyID0gcmVuZGVyLnNwcml0ZUNvbnRhaW5lciB8fCBuZXcgUElYSS5Db250YWluZXIoKTtcbiAgICAgICAgcmVuZGVyLmNhbnZhcyA9IHJlbmRlci5jYW52YXMgfHwgcmVuZGVyLnJlbmRlcmVyLnZpZXc7XG4gICAgICAgIHJlbmRlci5ib3VuZHMgPSByZW5kZXIuYm91bmRzIHx8IHsgXG4gICAgICAgICAgICBtaW46IHtcbiAgICAgICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgICAgIHk6IDBcbiAgICAgICAgICAgIH0sIFxuICAgICAgICAgICAgbWF4OiB7IFxuICAgICAgICAgICAgICAgIHg6IHJlbmRlci5vcHRpb25zLndpZHRoLFxuICAgICAgICAgICAgICAgIHk6IHJlbmRlci5vcHRpb25zLmhlaWdodFxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIC8vIGV2ZW50IGxpc3RlbmVyc1xuICAgICAgICBFdmVudHMub24ocmVuZGVyLmVuZ2luZSwgJ2JlZm9yZVVwZGF0ZScsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgUmVuZGVyUGl4aS5jbGVhcihyZW5kZXIpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjYWNoZXNcbiAgICAgICAgcmVuZGVyLnRleHR1cmVzID0ge307XG4gICAgICAgIHJlbmRlci5zcHJpdGVzID0ge307XG4gICAgICAgIHJlbmRlci5wcmltaXRpdmVzID0ge307XG5cbiAgICAgICAgLy8gdXNlIGEgc3ByaXRlIGJhdGNoIGZvciBwZXJmb3JtYW5jZVxuICAgICAgICByZW5kZXIuY29udGFpbmVyLmFkZENoaWxkKHJlbmRlci5zcHJpdGVDb250YWluZXIpO1xuXG4gICAgICAgIC8vIGluc2VydCBjYW52YXNcbiAgICAgICAgaWYgKENvbW1vbi5pc0VsZW1lbnQocmVuZGVyLmVsZW1lbnQpKSB7XG4gICAgICAgICAgICByZW5kZXIuZWxlbWVudC5hcHBlbmRDaGlsZChyZW5kZXIuY2FudmFzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIENvbW1vbi53YXJuKCdObyBcInJlbmRlci5lbGVtZW50XCIgcGFzc2VkLCBcInJlbmRlci5jYW52YXNcIiB3YXMgbm90IGluc2VydGVkIGludG8gZG9jdW1lbnQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBwcmV2ZW50IG1lbnVzIG9uIGNhbnZhc1xuICAgICAgICByZW5kZXIuY2FudmFzLm9uY29udGV4dG1lbnUgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9O1xuICAgICAgICByZW5kZXIuY2FudmFzLm9uc2VsZWN0c3RhcnQgPSBmdW5jdGlvbigpIHsgcmV0dXJuIGZhbHNlOyB9O1xuXG4gICAgICAgIHJldHVybiByZW5kZXI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENvbnRpbnVvdXNseSB1cGRhdGVzIHRoZSByZW5kZXIgY2FudmFzIG9uIHRoZSBgcmVxdWVzdEFuaW1hdGlvbkZyYW1lYCBldmVudC5cbiAgICAgKiBAbWV0aG9kIHJ1blxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFJlbmRlclBpeGkucnVuID0gZnVuY3Rpb24ocmVuZGVyKSB7XG4gICAgICAgIChmdW5jdGlvbiBsb29wKHRpbWUpe1xuICAgICAgICAgICAgcmVuZGVyLmZyYW1lUmVxdWVzdElkID0gX3JlcXVlc3RBbmltYXRpb25GcmFtZShsb29wKTtcbiAgICAgICAgICAgIFJlbmRlclBpeGkud29ybGQocmVuZGVyKTtcbiAgICAgICAgfSkoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRW5kcyBleGVjdXRpb24gb2YgYFJlbmRlci5ydW5gIG9uIHRoZSBnaXZlbiBgcmVuZGVyYCwgYnkgY2FuY2VsaW5nIHRoZSBhbmltYXRpb24gZnJhbWUgcmVxdWVzdCBldmVudCBsb29wLlxuICAgICAqIEBtZXRob2Qgc3RvcFxuICAgICAqIEBwYXJhbSB7cmVuZGVyfSByZW5kZXJcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFJlbmRlclBpeGkuc3RvcCA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICBfY2FuY2VsQW5pbWF0aW9uRnJhbWUocmVuZGVyLmZyYW1lUmVxdWVzdElkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBzY2VuZSBncmFwaFxuICAgICAqIEBtZXRob2QgY2xlYXJcbiAgICAgKiBAcGFyYW0ge1JlbmRlclBpeGl9IHJlbmRlclxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgUmVuZGVyUGl4aS5jbGVhciA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gcmVuZGVyLmNvbnRhaW5lcixcbiAgICAgICAgICAgIHNwcml0ZUNvbnRhaW5lciA9IHJlbmRlci5zcHJpdGVDb250YWluZXI7XG5cbiAgICAgICAgLy8gY2xlYXIgc3RhZ2UgY29udGFpbmVyXG4gICAgICAgIHdoaWxlIChjb250YWluZXIuY2hpbGRyZW5bMF0pIHsgXG4gICAgICAgICAgICBjb250YWluZXIucmVtb3ZlQ2hpbGQoY29udGFpbmVyLmNoaWxkcmVuWzBdKTsgXG4gICAgICAgIH1cblxuICAgICAgICAvLyBjbGVhciBzcHJpdGUgYmF0Y2hcbiAgICAgICAgd2hpbGUgKHNwcml0ZUNvbnRhaW5lci5jaGlsZHJlblswXSkgeyBcbiAgICAgICAgICAgIHNwcml0ZUNvbnRhaW5lci5yZW1vdmVDaGlsZChzcHJpdGVDb250YWluZXIuY2hpbGRyZW5bMF0pOyBcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBiZ1Nwcml0ZSA9IHJlbmRlci5zcHJpdGVzWydiZy0wJ107XG5cbiAgICAgICAgLy8gY2xlYXIgY2FjaGVzXG4gICAgICAgIHJlbmRlci50ZXh0dXJlcyA9IHt9O1xuICAgICAgICByZW5kZXIuc3ByaXRlcyA9IHt9O1xuICAgICAgICByZW5kZXIucHJpbWl0aXZlcyA9IHt9O1xuXG4gICAgICAgIC8vIHNldCBiYWNrZ3JvdW5kIHNwcml0ZVxuICAgICAgICByZW5kZXIuc3ByaXRlc1snYmctMCddID0gYmdTcHJpdGU7XG4gICAgICAgIGlmIChiZ1Nwcml0ZSlcbiAgICAgICAgICAgIGNvbnRhaW5lci5hZGRDaGlsZEF0KGJnU3ByaXRlLCAwKTtcblxuICAgICAgICAvLyBhZGQgc3ByaXRlIGJhdGNoIGJhY2sgaW50byBjb250YWluZXJcbiAgICAgICAgcmVuZGVyLmNvbnRhaW5lci5hZGRDaGlsZChyZW5kZXIuc3ByaXRlQ29udGFpbmVyKTtcblxuICAgICAgICAvLyByZXNldCBiYWNrZ3JvdW5kIHN0YXRlXG4gICAgICAgIHJlbmRlci5jdXJyZW50QmFja2dyb3VuZCA9IG51bGw7XG5cbiAgICAgICAgLy8gcmVzZXQgYm91bmRzIHRyYW5zZm9ybXNcbiAgICAgICAgY29udGFpbmVyLnNjYWxlLnNldCgxLCAxKTtcbiAgICAgICAgY29udGFpbmVyLnBvc2l0aW9uLnNldCgwLCAwKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYmFja2dyb3VuZCBvZiB0aGUgY2FudmFzIFxuICAgICAqIEBtZXRob2Qgc2V0QmFja2dyb3VuZFxuICAgICAqIEBwYXJhbSB7UmVuZGVyUGl4aX0gcmVuZGVyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmRcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFJlbmRlclBpeGkuc2V0QmFja2dyb3VuZCA9IGZ1bmN0aW9uKHJlbmRlciwgYmFja2dyb3VuZCkge1xuICAgICAgICBpZiAocmVuZGVyLmN1cnJlbnRCYWNrZ3JvdW5kICE9PSBiYWNrZ3JvdW5kKSB7XG4gICAgICAgICAgICB2YXIgaXNDb2xvciA9IGJhY2tncm91bmQuaW5kZXhPZiAmJiBiYWNrZ3JvdW5kLmluZGV4T2YoJyMnKSAhPT0gLTEsXG4gICAgICAgICAgICAgICAgYmdTcHJpdGUgPSByZW5kZXIuc3ByaXRlc1snYmctMCddO1xuXG4gICAgICAgICAgICBpZiAoaXNDb2xvcikge1xuICAgICAgICAgICAgICAgIC8vIGlmIHNvbGlkIGJhY2tncm91bmQgY29sb3JcbiAgICAgICAgICAgICAgICB2YXIgY29sb3IgPSBDb21tb24uY29sb3JUb051bWJlcihiYWNrZ3JvdW5kKTtcbiAgICAgICAgICAgICAgICByZW5kZXIucmVuZGVyZXIuYmFja2dyb3VuZENvbG9yID0gY29sb3I7XG5cbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYmFja2dyb3VuZCBzcHJpdGUgaWYgZXhpc3RpbmdcbiAgICAgICAgICAgICAgICBpZiAoYmdTcHJpdGUpXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlci5jb250YWluZXIucmVtb3ZlQ2hpbGQoYmdTcHJpdGUpOyBcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gaW5pdGlhbGlzZSBiYWNrZ3JvdW5kIHNwcml0ZSBpZiBuZWVkZWRcbiAgICAgICAgICAgICAgICBpZiAoIWJnU3ByaXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZXh0dXJlID0gX2dldFRleHR1cmUocmVuZGVyLCBiYWNrZ3JvdW5kKTtcblxuICAgICAgICAgICAgICAgICAgICBiZ1Nwcml0ZSA9IHJlbmRlci5zcHJpdGVzWydiZy0wJ10gPSBuZXcgUElYSS5TcHJpdGUodGV4dHVyZSk7XG4gICAgICAgICAgICAgICAgICAgIGJnU3ByaXRlLnBvc2l0aW9uLnggPSAwO1xuICAgICAgICAgICAgICAgICAgICBiZ1Nwcml0ZS5wb3NpdGlvbi55ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGVyLmNvbnRhaW5lci5hZGRDaGlsZEF0KGJnU3ByaXRlLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJlbmRlci5jdXJyZW50QmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRGVzY3JpcHRpb25cbiAgICAgKiBAbWV0aG9kIHdvcmxkXG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgUmVuZGVyUGl4aS53b3JsZCA9IGZ1bmN0aW9uKHJlbmRlcikge1xuICAgICAgICB2YXIgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIHdvcmxkID0gZW5naW5lLndvcmxkLFxuICAgICAgICAgICAgcmVuZGVyZXIgPSByZW5kZXIucmVuZGVyZXIsXG4gICAgICAgICAgICBjb250YWluZXIgPSByZW5kZXIuY29udGFpbmVyLFxuICAgICAgICAgICAgb3B0aW9ucyA9IHJlbmRlci5vcHRpb25zLFxuICAgICAgICAgICAgYm9kaWVzID0gQ29tcG9zaXRlLmFsbEJvZGllcyh3b3JsZCksXG4gICAgICAgICAgICBhbGxDb25zdHJhaW50cyA9IENvbXBvc2l0ZS5hbGxDb25zdHJhaW50cyh3b3JsZCksXG4gICAgICAgICAgICBjb25zdHJhaW50cyA9IFtdLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBpZiAob3B0aW9ucy53aXJlZnJhbWVzKSB7XG4gICAgICAgICAgICBSZW5kZXJQaXhpLnNldEJhY2tncm91bmQocmVuZGVyLCBvcHRpb25zLndpcmVmcmFtZUJhY2tncm91bmQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgUmVuZGVyUGl4aS5zZXRCYWNrZ3JvdW5kKHJlbmRlciwgb3B0aW9ucy5iYWNrZ3JvdW5kKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGhhbmRsZSBib3VuZHNcbiAgICAgICAgdmFyIGJvdW5kc1dpZHRoID0gcmVuZGVyLmJvdW5kcy5tYXgueCAtIHJlbmRlci5ib3VuZHMubWluLngsXG4gICAgICAgICAgICBib3VuZHNIZWlnaHQgPSByZW5kZXIuYm91bmRzLm1heC55IC0gcmVuZGVyLmJvdW5kcy5taW4ueSxcbiAgICAgICAgICAgIGJvdW5kc1NjYWxlWCA9IGJvdW5kc1dpZHRoIC8gcmVuZGVyLm9wdGlvbnMud2lkdGgsXG4gICAgICAgICAgICBib3VuZHNTY2FsZVkgPSBib3VuZHNIZWlnaHQgLyByZW5kZXIub3B0aW9ucy5oZWlnaHQ7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGFzQm91bmRzKSB7XG4gICAgICAgICAgICAvLyBIaWRlIGJvZGllcyB0aGF0IGFyZSBub3QgaW4gdmlld1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIHZhciBib2R5ID0gYm9kaWVzW2ldO1xuICAgICAgICAgICAgICAgIGJvZHkucmVuZGVyLnNwcml0ZS52aXNpYmxlID0gQm91bmRzLm92ZXJsYXBzKGJvZHkuYm91bmRzLCByZW5kZXIuYm91bmRzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gZmlsdGVyIG91dCBjb25zdHJhaW50cyB0aGF0IGFyZSBub3QgaW4gdmlld1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IGFsbENvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnN0cmFpbnQgPSBhbGxDb25zdHJhaW50c1tpXSxcbiAgICAgICAgICAgICAgICAgICAgYm9keUEgPSBjb25zdHJhaW50LmJvZHlBLFxuICAgICAgICAgICAgICAgICAgICBib2R5QiA9IGNvbnN0cmFpbnQuYm9keUIsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50QVdvcmxkID0gY29uc3RyYWludC5wb2ludEEsXG4gICAgICAgICAgICAgICAgICAgIHBvaW50QldvcmxkID0gY29uc3RyYWludC5wb2ludEI7XG5cbiAgICAgICAgICAgICAgICBpZiAoYm9keUEpIHBvaW50QVdvcmxkID0gVmVjdG9yLmFkZChib2R5QS5wb3NpdGlvbiwgY29uc3RyYWludC5wb2ludEEpO1xuICAgICAgICAgICAgICAgIGlmIChib2R5QikgcG9pbnRCV29ybGQgPSBWZWN0b3IuYWRkKGJvZHlCLnBvc2l0aW9uLCBjb25zdHJhaW50LnBvaW50Qik7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXBvaW50QVdvcmxkIHx8ICFwb2ludEJXb3JsZClcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgICAgICBpZiAoQm91bmRzLmNvbnRhaW5zKHJlbmRlci5ib3VuZHMsIHBvaW50QVdvcmxkKSB8fCBCb3VuZHMuY29udGFpbnMocmVuZGVyLmJvdW5kcywgcG9pbnRCV29ybGQpKVxuICAgICAgICAgICAgICAgICAgICBjb25zdHJhaW50cy5wdXNoKGNvbnN0cmFpbnQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHZpZXdcbiAgICAgICAgICAgIGNvbnRhaW5lci5zY2FsZS5zZXQoMSAvIGJvdW5kc1NjYWxlWCwgMSAvIGJvdW5kc1NjYWxlWSk7XG4gICAgICAgICAgICBjb250YWluZXIucG9zaXRpb24uc2V0KC1yZW5kZXIuYm91bmRzLm1pbi54ICogKDEgLyBib3VuZHNTY2FsZVgpLCAtcmVuZGVyLmJvdW5kcy5taW4ueSAqICgxIC8gYm91bmRzU2NhbGVZKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdHJhaW50cyA9IGFsbENvbnN0cmFpbnRzO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGJvZGllcy5sZW5ndGg7IGkrKylcbiAgICAgICAgICAgIFJlbmRlclBpeGkuYm9keShyZW5kZXIsIGJvZGllc1tpXSk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGNvbnN0cmFpbnRzLmxlbmd0aDsgaSsrKVxuICAgICAgICAgICAgUmVuZGVyUGl4aS5jb25zdHJhaW50KHJlbmRlciwgY29uc3RyYWludHNbaV0pO1xuXG4gICAgICAgIHJlbmRlcmVyLnJlbmRlcihjb250YWluZXIpO1xuICAgIH07XG5cblxuICAgIC8qKlxuICAgICAqIERlc2NyaXB0aW9uXG4gICAgICogQG1ldGhvZCBjb25zdHJhaW50XG4gICAgICogQHBhcmFtIHtlbmdpbmV9IGVuZ2luZVxuICAgICAqIEBwYXJhbSB7Y29uc3RyYWludH0gY29uc3RyYWludFxuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgUmVuZGVyUGl4aS5jb25zdHJhaW50ID0gZnVuY3Rpb24ocmVuZGVyLCBjb25zdHJhaW50KSB7XG4gICAgICAgIHZhciBlbmdpbmUgPSByZW5kZXIuZW5naW5lLFxuICAgICAgICAgICAgYm9keUEgPSBjb25zdHJhaW50LmJvZHlBLFxuICAgICAgICAgICAgYm9keUIgPSBjb25zdHJhaW50LmJvZHlCLFxuICAgICAgICAgICAgcG9pbnRBID0gY29uc3RyYWludC5wb2ludEEsXG4gICAgICAgICAgICBwb2ludEIgPSBjb25zdHJhaW50LnBvaW50QixcbiAgICAgICAgICAgIGNvbnRhaW5lciA9IHJlbmRlci5jb250YWluZXIsXG4gICAgICAgICAgICBjb25zdHJhaW50UmVuZGVyID0gY29uc3RyYWludC5yZW5kZXIsXG4gICAgICAgICAgICBwcmltaXRpdmVJZCA9ICdjLScgKyBjb25zdHJhaW50LmlkLFxuICAgICAgICAgICAgcHJpbWl0aXZlID0gcmVuZGVyLnByaW1pdGl2ZXNbcHJpbWl0aXZlSWRdO1xuXG4gICAgICAgIC8vIGluaXRpYWxpc2UgY29uc3RyYWludCBwcmltaXRpdmUgaWYgbm90IGV4aXN0aW5nXG4gICAgICAgIGlmICghcHJpbWl0aXZlKVxuICAgICAgICAgICAgcHJpbWl0aXZlID0gcmVuZGVyLnByaW1pdGl2ZXNbcHJpbWl0aXZlSWRdID0gbmV3IFBJWEkuR3JhcGhpY3MoKTtcblxuICAgICAgICAvLyBkb24ndCByZW5kZXIgaWYgY29uc3RyYWludCBkb2VzIG5vdCBoYXZlIHR3byBlbmQgcG9pbnRzXG4gICAgICAgIGlmICghY29uc3RyYWludFJlbmRlci52aXNpYmxlIHx8ICFjb25zdHJhaW50LnBvaW50QSB8fCAhY29uc3RyYWludC5wb2ludEIpIHtcbiAgICAgICAgICAgIHByaW1pdGl2ZS5jbGVhcigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYWRkIHRvIHNjZW5lIGdyYXBoIGlmIG5vdCBhbHJlYWR5IHRoZXJlXG4gICAgICAgIGlmIChDb21tb24uaW5kZXhPZihjb250YWluZXIuY2hpbGRyZW4sIHByaW1pdGl2ZSkgPT09IC0xKVxuICAgICAgICAgICAgY29udGFpbmVyLmFkZENoaWxkKHByaW1pdGl2ZSk7XG5cbiAgICAgICAgLy8gcmVuZGVyIHRoZSBjb25zdHJhaW50IG9uIGV2ZXJ5IHVwZGF0ZSwgc2luY2UgdGhleSBjYW4gY2hhbmdlIGR5bmFtaWNhbGx5XG4gICAgICAgIHByaW1pdGl2ZS5jbGVhcigpO1xuICAgICAgICBwcmltaXRpdmUuYmVnaW5GaWxsKDAsIDApO1xuICAgICAgICBwcmltaXRpdmUubGluZVN0eWxlKGNvbnN0cmFpbnRSZW5kZXIubGluZVdpZHRoLCBDb21tb24uY29sb3JUb051bWJlcihjb25zdHJhaW50UmVuZGVyLnN0cm9rZVN0eWxlKSwgMSk7XG4gICAgICAgIFxuICAgICAgICBpZiAoYm9keUEpIHtcbiAgICAgICAgICAgIHByaW1pdGl2ZS5tb3ZlVG8oYm9keUEucG9zaXRpb24ueCArIHBvaW50QS54LCBib2R5QS5wb3NpdGlvbi55ICsgcG9pbnRBLnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJpbWl0aXZlLm1vdmVUbyhwb2ludEEueCwgcG9pbnRBLnkpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGJvZHlCKSB7XG4gICAgICAgICAgICBwcmltaXRpdmUubGluZVRvKGJvZHlCLnBvc2l0aW9uLnggKyBwb2ludEIueCwgYm9keUIucG9zaXRpb24ueSArIHBvaW50Qi55KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHByaW1pdGl2ZS5saW5lVG8ocG9pbnRCLngsIHBvaW50Qi55KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHByaW1pdGl2ZS5lbmRGaWxsKCk7XG4gICAgfTtcbiAgICBcbiAgICAvKipcbiAgICAgKiBEZXNjcmlwdGlvblxuICAgICAqIEBtZXRob2QgYm9keVxuICAgICAqIEBwYXJhbSB7ZW5naW5lfSBlbmdpbmVcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIFJlbmRlclBpeGkuYm9keSA9IGZ1bmN0aW9uKHJlbmRlciwgYm9keSkge1xuICAgICAgICB2YXIgZW5naW5lID0gcmVuZGVyLmVuZ2luZSxcbiAgICAgICAgICAgIGJvZHlSZW5kZXIgPSBib2R5LnJlbmRlcjtcblxuICAgICAgICBpZiAoIWJvZHlSZW5kZXIudmlzaWJsZSlcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBpZiAoYm9keVJlbmRlci5zcHJpdGUgJiYgYm9keVJlbmRlci5zcHJpdGUudGV4dHVyZSkge1xuICAgICAgICAgICAgdmFyIHNwcml0ZUlkID0gJ2ItJyArIGJvZHkuaWQsXG4gICAgICAgICAgICAgICAgc3ByaXRlID0gcmVuZGVyLnNwcml0ZXNbc3ByaXRlSWRdLFxuICAgICAgICAgICAgICAgIHNwcml0ZUNvbnRhaW5lciA9IHJlbmRlci5zcHJpdGVDb250YWluZXI7XG5cbiAgICAgICAgICAgIC8vIGluaXRpYWxpc2UgYm9keSBzcHJpdGUgaWYgbm90IGV4aXN0aW5nXG4gICAgICAgICAgICBpZiAoIXNwcml0ZSlcbiAgICAgICAgICAgICAgICBzcHJpdGUgPSByZW5kZXIuc3ByaXRlc1tzcHJpdGVJZF0gPSBfY3JlYXRlQm9keVNwcml0ZShyZW5kZXIsIGJvZHkpO1xuXG4gICAgICAgICAgICAvLyBhZGQgdG8gc2NlbmUgZ3JhcGggaWYgbm90IGFscmVhZHkgdGhlcmVcbiAgICAgICAgICAgIGlmIChDb21tb24uaW5kZXhPZihzcHJpdGVDb250YWluZXIuY2hpbGRyZW4sIHNwcml0ZSkgPT09IC0xKVxuICAgICAgICAgICAgICAgIHNwcml0ZUNvbnRhaW5lci5hZGRDaGlsZChzcHJpdGUpO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGUgYm9keSBzcHJpdGVcbiAgICAgICAgICAgIHNwcml0ZS5wb3NpdGlvbi54ID0gYm9keS5wb3NpdGlvbi54O1xuICAgICAgICAgICAgc3ByaXRlLnBvc2l0aW9uLnkgPSBib2R5LnBvc2l0aW9uLnk7XG4gICAgICAgICAgICBzcHJpdGUucm90YXRpb24gPSBib2R5LmFuZ2xlO1xuICAgICAgICAgICAgc3ByaXRlLnNjYWxlLnggPSBib2R5UmVuZGVyLnNwcml0ZS54U2NhbGUgfHwgMTtcbiAgICAgICAgICAgIHNwcml0ZS5zY2FsZS55ID0gYm9keVJlbmRlci5zcHJpdGUueVNjYWxlIHx8IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YXIgcHJpbWl0aXZlSWQgPSAnYi0nICsgYm9keS5pZCxcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUgPSByZW5kZXIucHJpbWl0aXZlc1twcmltaXRpdmVJZF0sXG4gICAgICAgICAgICAgICAgY29udGFpbmVyID0gcmVuZGVyLmNvbnRhaW5lcjtcblxuICAgICAgICAgICAgLy8gaW5pdGlhbGlzZSBib2R5IHByaW1pdGl2ZSBpZiBub3QgZXhpc3RpbmdcbiAgICAgICAgICAgIGlmICghcHJpbWl0aXZlKSB7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlID0gcmVuZGVyLnByaW1pdGl2ZXNbcHJpbWl0aXZlSWRdID0gX2NyZWF0ZUJvZHlQcmltaXRpdmUocmVuZGVyLCBib2R5KTtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUuaW5pdGlhbEFuZ2xlID0gYm9keS5hbmdsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gYWRkIHRvIHNjZW5lIGdyYXBoIGlmIG5vdCBhbHJlYWR5IHRoZXJlXG4gICAgICAgICAgICBpZiAoQ29tbW9uLmluZGV4T2YoY29udGFpbmVyLmNoaWxkcmVuLCBwcmltaXRpdmUpID09PSAtMSlcbiAgICAgICAgICAgICAgICBjb250YWluZXIuYWRkQ2hpbGQocHJpbWl0aXZlKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlIGJvZHkgcHJpbWl0aXZlXG4gICAgICAgICAgICBwcmltaXRpdmUucG9zaXRpb24ueCA9IGJvZHkucG9zaXRpb24ueDtcbiAgICAgICAgICAgIHByaW1pdGl2ZS5wb3NpdGlvbi55ID0gYm9keS5wb3NpdGlvbi55O1xuICAgICAgICAgICAgcHJpbWl0aXZlLnJvdGF0aW9uID0gYm9keS5hbmdsZSAtIHByaW1pdGl2ZS5pbml0aWFsQW5nbGU7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJvZHkgc3ByaXRlXG4gICAgICogQG1ldGhvZCBfY3JlYXRlQm9keVNwcml0ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW5kZXJQaXhpfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlNwcml0ZX0gc3ByaXRlXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICB2YXIgX2NyZWF0ZUJvZHlTcHJpdGUgPSBmdW5jdGlvbihyZW5kZXIsIGJvZHkpIHtcbiAgICAgICAgdmFyIGJvZHlSZW5kZXIgPSBib2R5LnJlbmRlcixcbiAgICAgICAgICAgIHRleHR1cmVQYXRoID0gYm9keVJlbmRlci5zcHJpdGUudGV4dHVyZSxcbiAgICAgICAgICAgIHRleHR1cmUgPSBfZ2V0VGV4dHVyZShyZW5kZXIsIHRleHR1cmVQYXRoKSxcbiAgICAgICAgICAgIHNwcml0ZSA9IG5ldyBQSVhJLlNwcml0ZSh0ZXh0dXJlKTtcblxuICAgICAgICBzcHJpdGUuYW5jaG9yLnggPSBib2R5LnJlbmRlci5zcHJpdGUueE9mZnNldDtcbiAgICAgICAgc3ByaXRlLmFuY2hvci55ID0gYm9keS5yZW5kZXIuc3ByaXRlLnlPZmZzZXQ7XG5cbiAgICAgICAgcmV0dXJuIHNwcml0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGJvZHkgcHJpbWl0aXZlXG4gICAgICogQG1ldGhvZCBfY3JlYXRlQm9keVByaW1pdGl2ZVxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtSZW5kZXJQaXhpfSByZW5kZXJcbiAgICAgKiBAcGFyYW0ge2JvZHl9IGJvZHlcbiAgICAgKiBAcmV0dXJuIHtQSVhJLkdyYXBoaWNzfSBncmFwaGljc1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICovXG4gICAgdmFyIF9jcmVhdGVCb2R5UHJpbWl0aXZlID0gZnVuY3Rpb24ocmVuZGVyLCBib2R5KSB7XG4gICAgICAgIHZhciBib2R5UmVuZGVyID0gYm9keS5yZW5kZXIsXG4gICAgICAgICAgICBvcHRpb25zID0gcmVuZGVyLm9wdGlvbnMsXG4gICAgICAgICAgICBwcmltaXRpdmUgPSBuZXcgUElYSS5HcmFwaGljcygpLFxuICAgICAgICAgICAgZmlsbFN0eWxlID0gQ29tbW9uLmNvbG9yVG9OdW1iZXIoYm9keVJlbmRlci5maWxsU3R5bGUpLFxuICAgICAgICAgICAgc3Ryb2tlU3R5bGUgPSBDb21tb24uY29sb3JUb051bWJlcihib2R5UmVuZGVyLnN0cm9rZVN0eWxlKSxcbiAgICAgICAgICAgIHN0cm9rZVN0eWxlSW5kaWNhdG9yID0gQ29tbW9uLmNvbG9yVG9OdW1iZXIoYm9keVJlbmRlci5zdHJva2VTdHlsZSksXG4gICAgICAgICAgICBzdHJva2VTdHlsZVdpcmVmcmFtZSA9IENvbW1vbi5jb2xvclRvTnVtYmVyKCcjYmJiJyksXG4gICAgICAgICAgICBzdHJva2VTdHlsZVdpcmVmcmFtZUluZGljYXRvciA9IENvbW1vbi5jb2xvclRvTnVtYmVyKCcjQ0Q1QzVDJyksXG4gICAgICAgICAgICBwYXJ0O1xuXG4gICAgICAgIHByaW1pdGl2ZS5jbGVhcigpO1xuXG4gICAgICAgIC8vIGhhbmRsZSBjb21wb3VuZCBwYXJ0c1xuICAgICAgICBmb3IgKHZhciBrID0gYm9keS5wYXJ0cy5sZW5ndGggPiAxID8gMSA6IDA7IGsgPCBib2R5LnBhcnRzLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICBwYXJ0ID0gYm9keS5wYXJ0c1trXTtcblxuICAgICAgICAgICAgaWYgKCFvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUuYmVnaW5GaWxsKGZpbGxTdHlsZSwgMSk7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVTdHlsZShib2R5UmVuZGVyLmxpbmVXaWR0aCwgc3Ryb2tlU3R5bGUsIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBwcmltaXRpdmUuYmVnaW5GaWxsKDAsIDApO1xuICAgICAgICAgICAgICAgIHByaW1pdGl2ZS5saW5lU3R5bGUoMSwgc3Ryb2tlU3R5bGVXaXJlZnJhbWUsIDEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwcmltaXRpdmUubW92ZVRvKHBhcnQudmVydGljZXNbMF0ueCAtIGJvZHkucG9zaXRpb24ueCwgcGFydC52ZXJ0aWNlc1swXS55IC0gYm9keS5wb3NpdGlvbi55KTtcblxuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDE7IGogPCBwYXJ0LnZlcnRpY2VzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVUbyhwYXJ0LnZlcnRpY2VzW2pdLnggLSBib2R5LnBvc2l0aW9uLngsIHBhcnQudmVydGljZXNbal0ueSAtIGJvZHkucG9zaXRpb24ueSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHByaW1pdGl2ZS5saW5lVG8ocGFydC52ZXJ0aWNlc1swXS54IC0gYm9keS5wb3NpdGlvbi54LCBwYXJ0LnZlcnRpY2VzWzBdLnkgLSBib2R5LnBvc2l0aW9uLnkpO1xuXG4gICAgICAgICAgICBwcmltaXRpdmUuZW5kRmlsbCgpO1xuXG4gICAgICAgICAgICAvLyBhbmdsZSBpbmRpY2F0b3JcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3dBbmdsZUluZGljYXRvciB8fCBvcHRpb25zLnNob3dBeGVzKSB7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmJlZ2luRmlsbCgwLCAwKTtcblxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLndpcmVmcmFtZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVTdHlsZSgxLCBzdHJva2VTdHlsZVdpcmVmcmFtZUluZGljYXRvciwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVTdHlsZSgxLCBzdHJva2VTdHlsZUluZGljYXRvcik7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLm1vdmVUbyhwYXJ0LnBvc2l0aW9uLnggLSBib2R5LnBvc2l0aW9uLngsIHBhcnQucG9zaXRpb24ueSAtIGJvZHkucG9zaXRpb24ueSk7XG4gICAgICAgICAgICAgICAgcHJpbWl0aXZlLmxpbmVUbygoKHBhcnQudmVydGljZXNbMF0ueCArIHBhcnQudmVydGljZXNbcGFydC52ZXJ0aWNlcy5sZW5ndGgtMV0ueCkgLyAyIC0gYm9keS5wb3NpdGlvbi54KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKHBhcnQudmVydGljZXNbMF0ueSArIHBhcnQudmVydGljZXNbcGFydC52ZXJ0aWNlcy5sZW5ndGgtMV0ueSkgLyAyIC0gYm9keS5wb3NpdGlvbi55KSk7XG5cbiAgICAgICAgICAgICAgICBwcmltaXRpdmUuZW5kRmlsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHByaW1pdGl2ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcmVxdWVzdGVkIHRleHR1cmUgKGEgUElYSS5UZXh0dXJlKSB2aWEgaXRzIHBhdGhcbiAgICAgKiBAbWV0aG9kIF9nZXRUZXh0dXJlXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge1JlbmRlclBpeGl9IHJlbmRlclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBpbWFnZVBhdGhcbiAgICAgKiBAcmV0dXJuIHtQSVhJLlRleHR1cmV9IHRleHR1cmVcbiAgICAgKiBAZGVwcmVjYXRlZFxuICAgICAqL1xuICAgIHZhciBfZ2V0VGV4dHVyZSA9IGZ1bmN0aW9uKHJlbmRlciwgaW1hZ2VQYXRoKSB7XG4gICAgICAgIHZhciB0ZXh0dXJlID0gcmVuZGVyLnRleHR1cmVzW2ltYWdlUGF0aF07XG5cbiAgICAgICAgaWYgKCF0ZXh0dXJlKVxuICAgICAgICAgICAgdGV4dHVyZSA9IHJlbmRlci50ZXh0dXJlc1tpbWFnZVBhdGhdID0gUElYSS5UZXh0dXJlLmZyb21JbWFnZShpbWFnZVBhdGgpO1xuXG4gICAgICAgIHJldHVybiB0ZXh0dXJlO1xuICAgIH07XG5cbn0pKCk7XG5cbn0se1wiLi4vYm9keS9Db21wb3NpdGVcIjoyLFwiLi4vY29yZS9Db21tb25cIjoxNCxcIi4uL2NvcmUvRXZlbnRzXCI6MTYsXCIuLi9nZW9tZXRyeS9Cb3VuZHNcIjoyNixcIi4uL2dlb21ldHJ5L1ZlY3RvclwiOjI4fV19LHt9LFszMF0pKDMwKVxufSk7XG4iLCJpbXBvcnQgTWF0dGVyIGZyb20gXCJtYXR0ZXItanNcIjtcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuL3V0aWxzXCJcbmltcG9ydCB7IFdvcmxkRXh0ZW5kZWQgfSBmcm9tIFwiLi9leHR0eXBlc1wiO1xuXG5cbmV4cG9ydCBjb25zdCBhbnRpR3Jhdml0eU1hbmhhdHRhbiA9IChzcmM6IE1hdHRlci5Cb2R5LCB0Z3Q6IE1hdHRlci5Cb2R5LCBjb2VmZiA9IDEwMCk6IE1hdHRlci5WZWN0b3IgPT4ge1xuICAgIGxldCBnID0gY29lZmY7XG4gICAgbGV0IGR4ID0gdXRpbHMuZGlzdEhvcml6KHNyYy5wb3NpdGlvbiwgdGd0LnBvc2l0aW9uKTtcbiAgICBsZXQgZHkgPSB1dGlscy5kaXN0VmVydGkoc3JjLnBvc2l0aW9uLCB0Z3QucG9zaXRpb24pO1xuICAgIC8vIGNoYXJhY3RlcmlzdGljIHNpemVcbiAgICBsZXQgY2hhclNpemUgPSAwLjUgKiAoTWF0aC5zcXJ0KHNyYy5hcmVhKSArIE1hdGguc3FydCh0Z3QuYXJlYSkpO1xuICAgIGxldCBhbnRpR3Jhdml0eU1hZ1ggPSAoZHggPCAxLjUgKiBjaGFyU2l6ZSkgPyBnIC8gKDEwMDAgKyBkeCAqKiAyKSA6IDA7XG4gICAgbGV0IGFudGlHcmF2aXR5TWFnWSA9IChkeSA8IDEuNSAqIGNoYXJTaXplKSA/IGcgLyAoMTAwMCArIGR5ICoqIDIpIDogMDtcbiAgICBsZXQgZm9yY2UgPSB7XG4gICAgICAgIHg6IGFudGlHcmF2aXR5TWFnWCxcbiAgICAgICAgeTogYW50aUdyYXZpdHlNYWdZLFxuICAgIH07XG4gICAgcmV0dXJuIGZvcmNlO1xufVxuXG5cbmV4cG9ydCBjb25zdCBhbnRpR3Jhdml0eVJhbmdlZCA9IChzcmM6IE1hdHRlci5Cb2R5LCB0Z3Q6IE1hdHRlci5Cb2R5LCBjb2VmZiA9IDEwMCwgcmFuZ2VGYWN0b3IgPSAzLjApOiBNYXR0ZXIuVmVjdG9yID0+IHtcbiAgICBsZXQgZCA9IHV0aWxzLmRpc3RFdWNsaWQoc3JjLnBvc2l0aW9uLCB0Z3QucG9zaXRpb24pO1xuICAgIC8vIGNoYXJhY3RlcmlzdGljIHNpemVcbiAgICBsZXQgY2hhclNpemUgPSAwLjUgKiAoTWF0aC5zcXJ0KHNyYy5hcmVhKSArIE1hdGguc3FydCh0Z3QuYXJlYSkpO1xuICAgIGxldCBhbnRpR3Jhdml0eU1hZyA9IChkIDwgcmFuZ2VGYWN0b3IgKiBjaGFyU2l6ZSkgPyBjb2VmZiAvIGQgKiogMiA6IDA7XG4gICAgbGV0IHVuaXRTcmNUb1RndCA9IHV0aWxzLnVuaXRWZWMoc3JjLnBvc2l0aW9uLCB0Z3QucG9zaXRpb24pXG4gICAgbGV0IGZvcmNlID0ge1xuICAgICAgICB4OiBhbnRpR3Jhdml0eU1hZyAqIHVuaXRTcmNUb1RndC54LFxuICAgICAgICB5OiBhbnRpR3Jhdml0eU1hZyAqIHVuaXRTcmNUb1RndC55LFxuICAgIH07XG4gICAgcmV0dXJuIGZvcmNlO1xufVxuXG5cbmV4cG9ydCBjb25zdCBhbnRpR3Jhdml0eSA9IChzcmM6IE1hdHRlci5Cb2R5LCB0Z3Q6IE1hdHRlci5Cb2R5LCBjb2VmZiA9IDEwMCk6IE1hdHRlci5WZWN0b3IgPT4ge1xuICAgIGxldCBkID0gdXRpbHMuZGlzdEV1Y2xpZChzcmMucG9zaXRpb24sIHRndC5wb3NpdGlvbik7XG4gICAgbGV0IGFudGlHcmF2aXR5TWFnID0gY29lZmYgLyBkICoqIDI7XG4gICAgbGV0IHVuaXRTcmNUb1RndCA9IHV0aWxzLnVuaXRWZWMoc3JjLnBvc2l0aW9uLCB0Z3QucG9zaXRpb24pXG4gICAgbGV0IGZvcmNlID0ge1xuICAgICAgICB4OiBhbnRpR3Jhdml0eU1hZyAqIHVuaXRTcmNUb1RndC54LFxuICAgICAgICB5OiBhbnRpR3Jhdml0eU1hZyAqIHVuaXRTcmNUb1RndC55LFxuICAgIH07XG4gICAgcmV0dXJuIGZvcmNlO1xufVxuXG5cbmV4cG9ydCBjb25zdCBhcHBseUFudGlHcmF2aXR5VHdvQm9keSA9ICh3b3JsZDogV29ybGRFeHRlbmRlZCwgc3JjOiBNYXR0ZXIuQm9keSwgdGd0OiBNYXR0ZXIuQm9keSkgPT4ge1xuICAgIGNvbnN0IGYgPSAoczogTWF0dGVyLkJvZHksIHQ6IE1hdHRlci5Cb2R5KTogTWF0dGVyLlZlY3RvciA9PiB7XG4gICAgICAgIHJldHVybiBhbnRpR3Jhdml0eVJhbmdlZChzLCB0LCB3b3JsZC5yZXB1bHNpb25Db2VmZiwgd29ybGQucmVwdWxzaW9uUmFuZ2UpO1xuICAgIH07XG5cbiAgICAvLyB3YWxsIHNob3VsZCBub3QgYmUgaW52b2x2ZWRcbiAgICBpZiAoIXNyYy5pc1N0YXRpYyAmJiAhdGd0LmlzU3RhdGljKSB7XG4gICAgICAgIGxldCBmb3JjZUFudGlHcmF2aXR5ID0gZihzcmMsIHRndCk7XG4gICAgICAgIC8vIGFudGlncmF2aXR5IGV4ZXJ0cyBvbiB0aGUgY2VudGVyIG9mIGEgYmxvY2tcbiAgICAgICAgTWF0dGVyLkJvZHkuYXBwbHlGb3JjZSh0Z3QsIHRndC5wb3NpdGlvbiwgZm9yY2VBbnRpR3Jhdml0eSk7XG4gICAgICAgIE1hdHRlci5Cb2R5LmFwcGx5Rm9yY2Uoc3JjLCBzcmMucG9zaXRpb24sIHV0aWxzLm5lZ2F0ZShmb3JjZUFudGlHcmF2aXR5KSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBjb25zdCBhcHBseUFudGlHcmF2aXR5ID0gKHdvcmxkOiBXb3JsZEV4dGVuZGVkLCBibG9ja3M6IE1hdHRlci5Cb2R5W10pID0+IHtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgICAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBibG9ja3MubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgIGFwcGx5QW50aUdyYXZpdHlUd29Cb2R5KHdvcmxkLCBibG9ja3NbaV0sIGJsb2Nrc1tqXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCJpbXBvcnQgeyByYW5nZSB9IGZyb20gXCIuL3V0aWxzXCI7XG5cbnR5cGUgTm9kZSA9IHN0cmluZyB8IG51bWJlcjtcbnR5cGUgSW5kZXggPSBudW1iZXI7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVW5pb25GaW5kIHtcbiAgbGVuOiBudW1iZXI7XG4gIHBhcmVudDogbnVtYmVyW107XG4gIHRyYW5zbGF0ZTogTWFwPE5vZGUsIEluZGV4PjtcblxuICBjb25zdHJ1Y3Rvcihhcmc6IG51bWJlciB8IE5vZGVbXSkge1xuICAgIGlmICh0eXBlb2YgYXJnID09ICdudW1iZXInKSB7XG4gICAgICB0aGlzLmxlbiA9IGFyZztcbiAgICAgIHRoaXMudHJhbnNsYXRlID0gbmV3IE1hcChyYW5nZShhcmcpLm1hcCgoXywgaSkgPT4gW2ksIGldKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMubGVuID0gYXJnLmxlbmd0aDtcbiAgICAgIHRoaXMudHJhbnNsYXRlID0gbmV3IE1hcChhcmcubWFwKCh2LCBpKSA9PiBbdiwgaV0pKTtcbiAgICB9XG4gICAgdGhpcy5wYXJlbnQgPSByYW5nZSh0aGlzLmxlbikubWFwKF8gPT4gLTEpO1xuICB9XG5cbiAgX2lzUm9vdCh4OiBJbmRleCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB0aGlzLnBhcmVudFt4XSA8IDA7XG4gIH1cblxuICBfcm9vdCh4OiBJbmRleCk6IEluZGV4IHtcbiAgICB3aGlsZSAoIXRoaXMuX2lzUm9vdCh4KSkge1xuICAgICAgeCA9IHRoaXMucGFyZW50W3hdO1xuICAgIH1cbiAgICByZXR1cm4geDtcbiAgfVxuXG4gIF9kZXB0aCh4OiBJbmRleCk6IEluZGV4IHtcbiAgICByZXR1cm4gLXRoaXMucGFyZW50W3RoaXMuX3Jvb3QoeCldO1xuICB9XG5cbiAgLyoqXG4gICAqIEZldGNoIGluZGV4LiBBZGQgdG8gdGhpcy5fdHJhbnNsYXRlIGlmIGFic2VudC5cbiAgICogQHBhcmFtIHhcbiAgICovXG4gIF9pbmRleCh4OiBOb2RlKTogSW5kZXgge1xuICAgIGxldCB0bXAgPSB0aGlzLnRyYW5zbGF0ZS5nZXQoeCk7XG4gICAgbGV0IGl4OiBJbmRleDtcbiAgICBpZiAodG1wID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGl4ID0gdGhpcy5sZW47XG4gICAgICB0aGlzLnRyYW5zbGF0ZS5zZXQoeCwgaXgpO1xuICAgICAgdGhpcy5sZW4gKz0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaXggPSB0bXA7XG4gICAgfVxuICAgIHJldHVybiBpeDtcbiAgfVxuXG4gIGFyZUNvbm5lY3RlZCh4OiBOb2RlLCB5OiBOb2RlKTogYm9vbGVhbiB7XG4gICAgbGV0IGl4ID0gdGhpcy5faW5kZXgoeCk7XG4gICAgbGV0IGl5ID0gdGhpcy5faW5kZXgoeSk7XG4gICAgcmV0dXJuIHRoaXMuX3Jvb3QoaXgpID09IHRoaXMuX3Jvb3QoaXkpO1xuICB9XG5cbiAgY29ubmVjdCh4OiBOb2RlLCB5OiBOb2RlKTogYm9vbGVhbiB7XG4gICAgbGV0IGl4ID0gdGhpcy5faW5kZXgoeCk7XG4gICAgbGV0IGl5ID0gdGhpcy5faW5kZXgoeSk7XG4gICAgaWYgKHRoaXMuX2RlcHRoKGl4KSA8IHRoaXMuX2RlcHRoKGl5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuY29ubmVjdCh5LCB4KTtcbiAgICB9XG4gICAgbGV0IHJvb3RYID0gdGhpcy5fcm9vdChpeCk7XG4gICAgbGV0IHJvb3RZID0gdGhpcy5fcm9vdChpeSk7XG4gICAgaWYgKHJvb3RYID09IHJvb3RZKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRoaXMucGFyZW50W3Jvb3RYXSArPSB0aGlzLnBhcmVudFtyb290WV07XG4gICAgdGhpcy5wYXJlbnRbcm9vdFldID0gcm9vdFg7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICBnZXRSb290QWxsKCk6IEluZGV4W10ge1xuICAgIHJldHVybiByYW5nZSh0aGlzLmxlbikubWFwKGkgPT4gdGhpcy5fcm9vdChpKSk7XG4gIH07XG59XG5cblxuY2xhc3MgTXVsdGlTZXQ8VD4ge1xuICBjb3VudGVyOiBNYXA8VCwgbnVtYmVyPjtcbiAgY29uc3RydWN0b3IoeHM/OiBUW10pIHtcbiAgICB0aGlzLmNvdW50ZXIgPSBuZXcgTWFwPFQsIG51bWJlcj4oKTtcbiAgICBpZiAoeHMpIHtcbiAgICAgIHhzLmZvckVhY2goeCA9PiB0aGlzLmFkZCh4KSk7XG4gICAgfVxuICB9XG5cbiAgYWRkKHg6IFQpIHtcbiAgICB0aGlzLmNvdW50ZXIuc2V0KHgsICh0aGlzLmNvdW50ZXIuZ2V0KHgpID8/IDApICsgMSlcbiAgfVxuXG4gIGdldCh4OiBUKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudGVyLmdldCh4KSA/PyAwO1xuICB9XG5cbiAgaGFzKHg6IFQpOiBib29sZWFuIHtcbiAgICByZXR1cm4gdGhpcy5jb3VudGVyLmhhcyh4KTtcbiAgfVxuXG4gIGNsZWFyKCkge1xuICAgIHRoaXMuY291bnRlci5jbGVhcigpO1xuICB9XG59XG4iLCJpbXBvcnQgTWF0dGVyIGZyb20gXCJtYXR0ZXItanNcIjtcbmltcG9ydCB7IGFudGlHcmF2aXR5LCBhbnRpR3Jhdml0eVJhbmdlZCB9IGZyb20gXCIuL3JlcHVsc2lvblwiO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCB7IFdvcmxkRXh0ZW5kZWQgfSBmcm9tIFwiLi9leHR0eXBlc1wiO1xuaW1wb3J0IFVuaW9uRmluZCBmcm9tIFwiLi91bmlvbmZpbmRcIjtcblxuXG5leHBvcnQgY29uc3QgYXBwbHlBbnRpR3Jhdml0eURpc2pvaW50ID0gKHdvcmxkOiBXb3JsZEV4dGVuZGVkLCBibG9ja3M6IE1hdHRlci5Cb2R5W10sIHVmWDogVW5pb25GaW5kLCB1Zlk6IFVuaW9uRmluZCkgPT4ge1xuICBjb25zdCBmID0gKHM6IE1hdHRlci5Cb2R5LCB0OiBNYXR0ZXIuQm9keSk6IE1hdHRlci5WZWN0b3IgPT4ge1xuICAgIHJldHVybiBhbnRpR3Jhdml0eVJhbmdlZChzLCB0LCB3b3JsZC5yZXB1bHNpb25Db2VmZiwgd29ybGQucmVwdWxzaW9uUmFuZ2UpO1xuICB9O1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgYmxvY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgc3JjID0gYmxvY2tzW2ldO1xuICAgICAgbGV0IHRndCA9IGJsb2Nrc1tqXTtcbiAgICAgIGlmICghc3JjLmlzU3RhdGljICYmICF0Z3QuaXNTdGF0aWMpIHtcbiAgICAgICAgbGV0IGZvcmNlID0gZihzcmMsIHRndCk7XG4gICAgICAgIGlmICh1ZlguYXJlQ29ubmVjdGVkKGksIGopKSB7XG4gICAgICAgICAgZm9yY2UueCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHVmWS5hcmVDb25uZWN0ZWQoaSwgaikpIHtcbiAgICAgICAgICBmb3JjZS55ID0gMDtcbiAgICAgICAgfVxuICAgICAgICBNYXR0ZXIuQm9keS5hcHBseUZvcmNlKHRndCwgdGd0LnBvc2l0aW9uLCBmb3JjZSlcbiAgICAgICAgTWF0dGVyLkJvZHkuYXBwbHlGb3JjZShzcmMsIHNyYy5wb3NpdGlvbiwgdXRpbHMubmVnYXRlKGZvcmNlKSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cblxuY29uc3QgYXBwbHlHcm91cGluZ1R3b0JvZHkgPSAod29ybGQ6IFdvcmxkRXh0ZW5kZWQsIHNyYzogTWF0dGVyLkJvZHksIHRndDogTWF0dGVyLkJvZHkpID0+IHtcbiAgY29uc3QgZiA9IChzOiBNYXR0ZXIuQm9keSwgdDogTWF0dGVyLkJvZHkpOiBNYXR0ZXIuVmVjdG9yID0+IGFudGlHcmF2aXR5KHMsIHQsIHdvcmxkLmdyb3VwaW5nQ29lZmYpO1xuXG4gIC8vIHdhbGwgc2hvdWxkIG5vdCBiZSBpbnZvbHZlZFxuICBpZiAoIXNyYy5pc1N0YXRpYyAmJiAhdGd0LmlzU3RhdGljKSB7XG4gICAgbGV0IGZvcmNlQW50aUdyYXZpdHkgPSBmKHNyYywgdGd0KTtcblxuICAgIC8vIGV4ZXJ0IGF0dHJhY3RpdmUgZm9yY2UgaWYgYmxvY2tzIGFyZSBvZiB0aGUgc2FtZSBncm91cFxuICAgIGlmICh1dGlscy5hcmVTYW1lV2lkdGgoc3JjLCB0Z3QpIHx8IHV0aWxzLmFyZVNhbWVIZWlnaHQoc3JjLCB0Z3QpKSB7XG4gICAgICBmb3JjZUFudGlHcmF2aXR5ID0gdXRpbHMubmVnYXRlKGZvcmNlQW50aUdyYXZpdHkpO1xuICAgIH1cbiAgICAvLyBhbnRpZ3Jhdml0eSBleGVydHMgb24gdGhlIGNlbnRlciBvZiBhIGJsb2NrXG4gICAgTWF0dGVyLkJvZHkuYXBwbHlGb3JjZSh0Z3QsIHRndC5wb3NpdGlvbiwgZm9yY2VBbnRpR3Jhdml0eSk7XG4gICAgTWF0dGVyLkJvZHkuYXBwbHlGb3JjZShzcmMsIHNyYy5wb3NpdGlvbiwgdXRpbHMubmVnYXRlKGZvcmNlQW50aUdyYXZpdHkpKTtcbiAgfVxufVxuXG5cbmV4cG9ydCBjb25zdCBhcHBseUdyb3VwaW5nID0gKHdvcmxkOiBXb3JsZEV4dGVuZGVkLCBibG9ja3M6IE1hdHRlci5Cb2R5W10pID0+IHtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBibG9ja3MubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gaSArIDE7IGogPCBibG9ja3MubGVuZ3RoOyBqKyspIHtcbiAgICAgIGFwcGx5R3JvdXBpbmdUd29Cb2R5KHdvcmxkLCBibG9ja3NbaV0sIGJsb2Nrc1tqXSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBLbm9sbGJvdCB9IGZyb20gXCIuL2tub2xsYm90XCI7XG5cbktub2xsYm90LnJ1bigpO1xuIiwiaW1wb3J0IE1hdHRlciBmcm9tIFwibWF0dGVyLWpzXCI7XG5cbmltcG9ydCB7IFdvcmxkRXh0ZW5kZWQgfSBmcm9tIFwiLi9leHR0eXBlc1wiO1xuaW1wb3J0IHsgaW1nUGF0aHMsIHBhcmFtcyB9IGZyb20gXCIuL2NvbmZpZ1wiO1xuaW1wb3J0ICogYXMgdXRpbHMgZnJvbSBcIi4vdXRpbHNcIjtcbmltcG9ydCAqIGFzIHJlcHVsc2lvbiBmcm9tIFwiLi9yZXB1bHNpb25cIjtcbmltcG9ydCAqIGFzIGFsaWduIGZyb20gXCIuL2FsaWdubWVudFwiO1xuaW1wb3J0ICogYXMgZ3JvdXBpbmcgZnJvbSBcIi4vZ3JvdXBpbmdcIjtcbmltcG9ydCAqIGFzIHBva2UgZnJvbSBcIi4vcmFuZG9tcG9rZXNcIjtcblxuXG5leHBvcnQgbmFtZXNwYWNlIEtub2xsYm90IHtcblxuICAgIGV4cG9ydCBjb25zdCBydW4gPSAoKSA9PiB7XG5cbiAgICAgICAgLy8gY3JlYXRlIGFuIGVuZ2luZSBhbmQgcnVubmVyXG4gICAgICAgIGNvbnN0IGVuZ2luZSA9IE1hdHRlci5FbmdpbmUuY3JlYXRlKCk7XG4gICAgICAgIGNvbnN0IHdvcmxkID0gZW5naW5lLndvcmxkIGFzIFdvcmxkRXh0ZW5kZWQ7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IE1hdHRlci5SdW5uZXIuY3JlYXRlKCk7XG5cbiAgICAgICAgLy8gZW5hYmxlIGZvcmNlIGJ5IGRlZmF1bHRcbiAgICAgICAgd29ybGQuZm9yY2VPbiA9IHRydWU7XG5cbiAgICAgICAgLy8gZGlzYWJsZSBncmF2aXR5XG4gICAgICAgIHdvcmxkLmdyYXZpdHkueSA9IDAuMDtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBTY3JlZW4gcGFyYW1ldGVyc1xuICAgICAgICBjb25zdCBTY3JlZW5XaWR0aCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCAtIDIwO1xuICAgICAgICBjb25zdCBTY3JlZW5IZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gMjA7XG4gICAgICAgIGNvbnN0IFNjcmVlbldpZHRoSGFsZiA9IE1hdGguZmxvb3IoU2NyZWVuV2lkdGggLyAyKTtcbiAgICAgICAgY29uc3QgU2NyZWVuSGVpZ2h0SGFsZiA9IE1hdGguZmxvb3IoU2NyZWVuSGVpZ2h0IC8gMik7XG5cbiAgICAgICAgLy8gV2FsbCBwYXJhbWV0ZXJzXG4gICAgICAgIGNvbnN0IFdhbGxUaGlja25lc3MgPSAyMDA7XG4gICAgICAgIGNvbnN0IFdhbGxNYXJnaW4gPSAxMDA7XG4gICAgICAgIGNvbnN0IFdhbGxWaXNpYmxlID0gNTtcbiAgICAgICAgY29uc3QgV2FsbE9mZnNldCA9IE1hdGguZmxvb3IoV2FsbFRoaWNrbmVzcyAvIDIpIC0gV2FsbFZpc2libGU7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gT2JqZWN0IHBhcmFtZXRlcnNcbiAgICAgICAgY29uc3QgTnVtQm94ZXMgPSBpbWdQYXRocy5sZW5ndGg7XG5cbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgICAgLy8gUmFuZG9tIHBva2luZ1xuICAgICAgICB3b3JsZC5wb2tlU2NhbGUgPSBwYXJhbXMucG9rZVNjYWxlO1xuICAgICAgICB3b3JsZC5wb2tlRGVjYXkgPSBwYXJhbXMucG9rZURlY2F5O1xuXG4gICAgICAgIC8vIEFsaWdubWVudCBmb3JjZVxuICAgICAgICB3b3JsZC5hbGlnbm1lbnRGb3JjZUNvZWZmID0gcGFyYW1zLmFsaWdubWVudEZvcmNlQ29lZmY7XG4gICAgICAgIHdvcmxkLmFsaWdubWVudEZvcmNlUmFuZ2UgPSBwYXJhbXMuYWxpZ25tZW50Rm9yY2VSYW5nZTsgIC8vIHBpeGVsc1xuICAgICAgICB3b3JsZC5hbGlnbm1lbnRGb3JjZVdhbGxSYW5nZSA9IHBhcmFtcy5hbGlnbm1lbnRGb3JjZVdhbGxSYW5nZTtcblxuICAgICAgICAvLyBBbnRpR3Jhdml0eSBmb3JjZVxuICAgICAgICB3b3JsZC5yZXB1bHNpb25Db2VmZiA9IHBhcmFtcy5yZXB1bHNpb25Db2VmZjtcbiAgICAgICAgd29ybGQucmVwdWxzaW9uUmFuZ2UgPSBwYXJhbXMucmVwdWxzaW9uUmFuZ2U7ICAgICAgLy8gTk9UIHBpeGVsc1xuXG4gICAgICAgIC8vIEdyb3VwaW5nIGF0dHJhY3Rpb24vcmVwdWxzaW9uXG4gICAgICAgIHdvcmxkLmdyb3VwaW5nQ29lZmYgPSBwYXJhbXMuZ3JvdXBpbmdDb2VmZjtcblxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAvLyBjcmVhdGUgYSByZW5kZXJlclxuICAgICAgICBjb25zdCByZW5kZXIgPSBNYXR0ZXIuUmVuZGVyLmNyZWF0ZSh7XG4gICAgICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5ib2R5LFxuICAgICAgICAgICAgZW5naW5lOiBlbmdpbmUsXG4gICAgICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgICAgICAgd2lkdGg6IFNjcmVlbldpZHRoLFxuICAgICAgICAgICAgICAgIGhlaWdodDogU2NyZWVuSGVpZ2h0LFxuICAgICAgICAgICAgICAgIC8vIHNob3dBbmdsZUluZGljYXRvcjogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzaG93VmVsb2NpdHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHdpcmVmcmFtZXM6IGZhbHNlLCAgICAvLyByZXF1aXJlZCB0byBlbmFibGUgc3ByaXRlcyFcbiAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kOiAnIzI0N2M0MScsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBjcmVhdGUgdHdvIGJveGVzXG4gICAgICAgIGNvbnN0IGJvZHlPcHRpb25zID0ge1xuICAgICAgICAgICAgaW5lcnRpYTogSW5maW5pdHksXG4gICAgICAgICAgICBmcmljdGlvbkFpcjogcGFyYW1zLmZyaWN0aW9uQWlyLFxuICAgICAgICAgICAgZnJpY3Rpb246IHBhcmFtcy5mcmljdGlvbixcbiAgICAgICAgfTtcblxuXG4gICAgICAgIC8vIGdlbmVyYXRlIGJveGVzIHJhbmRvbWx5XG4gICAgICAgIGNvbnN0IGdlbmVyYXRlUmFuZG9tQm94ZXMgPSAoKTogTWF0dGVyLkJvZHlbXSA9PiB7XG4gICAgICAgICAgICBjb25zdCBhbGxTcXVhcmUgPSBmYWxzZTtcbiAgICAgICAgICAgIGNvbnN0IE1pblNpemVYID0gMzA7XG4gICAgICAgICAgICBjb25zdCBNYXhTaXplWCA9IDE3MDtcbiAgICAgICAgICAgIGNvbnN0IE1pblNpemVZID0gMzA7XG4gICAgICAgICAgICBjb25zdCBNYXhTaXplWSA9IDE3MDtcbiAgICAgICAgICAgIGNvbnN0IFVuaXRTaXplID0gMTY7XG5cbiAgICAgICAgICAgIGNvbnN0IGJveGVzID0gQXJyYXk8TWF0dGVyLkJvZHk+KE51bUJveGVzKTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgTnVtQm94ZXM7IGkrKykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlY3RXaWR0aCA9IHV0aWxzLnJhbmRSYW5nZShNaW5TaXplWCwgTWF4U2l6ZVgsIFVuaXRTaXplKTtcbiAgICAgICAgICAgICAgICBsZXQgcmVjdEhlaWdodCA9IHJlY3RXaWR0aDtcbiAgICAgICAgICAgICAgICBpZiAoIWFsbFNxdWFyZSkge1xuICAgICAgICAgICAgICAgICAgICByZWN0SGVpZ2h0ID0gdXRpbHMucmFuZFJhbmdlKE1pblNpemVZLCBNYXhTaXplWSwgVW5pdFNpemUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBvZmZzZXRYID0gV2FsbE9mZnNldCArIHJlY3RXaWR0aCAvIDI7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2Zmc2V0WSA9IFdhbGxPZmZzZXQgKyByZWN0SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBjb25zdCB4ID0gdXRpbHMucmFuZFJhbmdlKG9mZnNldFgsIFNjcmVlbldpZHRoIC0gb2Zmc2V0WCk7XG4gICAgICAgICAgICAgICAgY29uc3QgeSA9IHV0aWxzLnJhbmRSYW5nZShvZmZzZXRZLCBTY3JlZW5IZWlnaHQgLSBvZmZzZXRZKTtcbiAgICAgICAgICAgICAgICBib3hlc1tpXSA9IE1hdHRlci5Cb2RpZXMucmVjdGFuZ2xlKHgsIHksIHJlY3RXaWR0aCwgcmVjdEhlaWdodCwgYm9keU9wdGlvbnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJveGVzO1xuICAgICAgICB9O1xuXG5cbiAgICAgICAgLy8gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzU1OTM0MjQxLzUyNDUyNlxuICAgICAgICBjb25zdCBnZXRJbWFnZURpbWVuc2lvbnMgPSAocGF0aDogc3RyaW5nKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBpbWcgPSBuZXcgSW1hZ2UoKTtcblxuICAgICAgICAgICAgLy8gdGhlIGZvbGxvd2luZyBoYW5kbGVyIHdpbGwgZmlyZSBhZnRlciB0aGUgc3VjY2Vzc2Z1bCBsb2FkaW5nIG9mIHRoZSBpbWFnZVxuICAgICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IG5hdHVyYWxXaWR0aDogd2lkdGgsIG5hdHVyYWxIZWlnaHQ6IGhlaWdodCB9ID0gaW1nO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoeyB3aWR0aCwgaGVpZ2h0IH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gYW5kIHRoaXMgaGFuZGxlciB3aWxsIGZpcmUgaWYgdGhlcmUgd2FzIGFuIGVycm9yIHdpdGggdGhlIGltYWdlIChsaWtlIGlmIGl0J3Mgbm90IHJlYWxseSBhbiBpbWFnZSBvciBhIGNvcnJ1cHRlZCBvbmUpXG4gICAgICAgICAgICBpbWcub25lcnJvciA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICByZWplY3QoJ1RoZXJlIHdhcyBzb21lIHByb2JsZW0gd2l0aCB0aGUgaW1hZ2UuJyk7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBpbWcuc3JjID0gcGF0aDtcbiAgICAgICAgfSk7XG5cblxuICAgICAgICBjb25zdCBnZXRCb3ggPSBhc3luYyAoaW1nUGF0aDogc3RyaW5nKSA9PiB7XG4gICAgICAgICAgICBsZXQgaW1nID0gYXdhaXQgZ2V0SW1hZ2VEaW1lbnNpb25zKGltZ1BhdGgpIGFzIHsgd2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIgfTtcbiAgICAgICAgICAgIGxldCBvZmZzZXRYID0gV2FsbE9mZnNldCArIGltZy53aWR0aCAvIDI7XG4gICAgICAgICAgICBsZXQgb2Zmc2V0WSA9IFdhbGxPZmZzZXQgKyBpbWcuaGVpZ2h0IC8gMjtcbiAgICAgICAgICAgIGxldCB4ID0gdXRpbHMucmFuZFJhbmdlKG9mZnNldFgsIFNjcmVlbldpZHRoIC0gb2Zmc2V0WCk7XG4gICAgICAgICAgICBsZXQgeSA9IHV0aWxzLnJhbmRSYW5nZShvZmZzZXRZLCBTY3JlZW5IZWlnaHQgLSBvZmZzZXRZKTtcbiAgICAgICAgICAgIGxldCBvcHRpb25zID0ge1xuICAgICAgICAgICAgICAgIC4uLmJvZHlPcHRpb25zLFxuICAgICAgICAgICAgICAgIHJlbmRlcjogeyBzcHJpdGU6IHsgdGV4dHVyZTogaW1nUGF0aCB9IH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgcmV0dXJuIE1hdHRlci5Cb2RpZXMucmVjdGFuZ2xlKHgsIHksIGltZy53aWR0aCwgaW1nLmhlaWdodCwgb3B0aW9ucyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZWRCb3hlcyA9IFByb21pc2UuYWxsKGltZ1BhdGhzLm1hcChnZXRCb3gpKTtcblxuICAgICAgICAvLyBzdXJyb3VuZGluZyB3YWxsXG4gICAgICAgIGNvbnN0IHdhbGxPcHRpb25zID0ge1xuICAgICAgICAgICAgaXNTdGF0aWM6IHRydWUsXG4gICAgICAgICAgICBmcmljdGlvbjogcGFyYW1zLndhbGxGcmljdGlvbixcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHdhbGxUb3AgPSBNYXR0ZXIuQm9kaWVzLnJlY3RhbmdsZShcbiAgICAgICAgICAgIFNjcmVlbldpZHRoSGFsZixcbiAgICAgICAgICAgIC1XYWxsT2Zmc2V0LFxuICAgICAgICAgICAgU2NyZWVuV2lkdGggKyBXYWxsTWFyZ2luLFxuICAgICAgICAgICAgV2FsbFRoaWNrbmVzcyxcbiAgICAgICAgICAgIHdhbGxPcHRpb25zLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB3YWxsQm90dG9tID0gTWF0dGVyLkJvZGllcy5yZWN0YW5nbGUoXG4gICAgICAgICAgICBTY3JlZW5XaWR0aEhhbGYsXG4gICAgICAgICAgICBTY3JlZW5IZWlnaHQgKyBXYWxsT2Zmc2V0LFxuICAgICAgICAgICAgU2NyZWVuV2lkdGggKyBXYWxsTWFyZ2luLFxuICAgICAgICAgICAgV2FsbFRoaWNrbmVzcyxcbiAgICAgICAgICAgIHdhbGxPcHRpb25zLFxuICAgICAgICApO1xuICAgICAgICBjb25zdCB3YWxsTGVmdCA9IE1hdHRlci5Cb2RpZXMucmVjdGFuZ2xlKFxuICAgICAgICAgICAgLSBXYWxsT2Zmc2V0LFxuICAgICAgICAgICAgU2NyZWVuSGVpZ2h0SGFsZixcbiAgICAgICAgICAgIFdhbGxUaGlja25lc3MsXG4gICAgICAgICAgICBTY3JlZW5IZWlnaHQgKyBXYWxsTWFyZ2luLFxuICAgICAgICAgICAgd2FsbE9wdGlvbnMsXG4gICAgICAgICk7XG4gICAgICAgIGNvbnN0IHdhbGxSaWdodCA9IE1hdHRlci5Cb2RpZXMucmVjdGFuZ2xlKFxuICAgICAgICAgICAgU2NyZWVuV2lkdGggKyBXYWxsT2Zmc2V0LFxuICAgICAgICAgICAgU2NyZWVuSGVpZ2h0SGFsZixcbiAgICAgICAgICAgIFdhbGxUaGlja25lc3MsXG4gICAgICAgICAgICBTY3JlZW5IZWlnaHQgKyBXYWxsTWFyZ2luLFxuICAgICAgICAgICAgd2FsbE9wdGlvbnMsXG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gbW91c2UgYW5kIGNvbnN0cmFpbnRcbiAgICAgICAgY29uc3QgbW91c2UgPSBNYXR0ZXIuTW91c2UuY3JlYXRlKHJlbmRlci5jYW52YXMpO1xuICAgICAgICBjb25zdCBjb25zdHJhaW50ID0gTWF0dGVyLkNvbnN0cmFpbnQuY3JlYXRlKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIE11c3QgZGVmaW5lIHBvaW50QSBhbmQgcG9pbnRCIHVubGlrZSBJQ29uc3RyYWludERlZmluaXRpb24gaW50ZXJmYWNlXG4gICAgICAgICAgICAgICAgcG9pbnRBOiBtb3VzZS5wb3NpdGlvbixcbiAgICAgICAgICAgICAgICBwb2ludEI6IHsgeDogMCwgeTogMCB9LFxuICAgICAgICAgICAgICAgIHN0aWZmbmVzczogMC4yLFxuICAgICAgICAgICAgICAgIHJlbmRlcjoge1xuICAgICAgICAgICAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgKTtcbiAgICAgICAgY29uc3QgbW91c2VDb25zdHJhaW50ID0gTWF0dGVyLk1vdXNlQ29uc3RyYWludC5jcmVhdGUoXG4gICAgICAgICAgICBlbmdpbmUsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbW91c2U6IG1vdXNlLFxuICAgICAgICAgICAgICAgIGNvbnN0cmFpbnQ6IGNvbnN0cmFpbnQsXG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG5cbiAgICAgICAgLy8gYGJsb2Nrc2AgaXMgdG8gY29udGFpbiBib3hlcywgd2FsbHMsIGFuZCBtb3VzZSBjb25zdHJhaW50c1xuICAgICAgICB2YXIgYmxvY2tzOiBNYXR0ZXIuQm9keVtdO1xuXG4gICAgICAgIGNvbnN0IHNldHVwV29ybGQgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBsZXQgYm94ZXMgPSBhd2FpdCBwcm9taXNlZEJveGVzO1xuICAgICAgICAgICAgYmxvY2tzID0gWy4uLmJveGVzLCB3YWxsVG9wLCB3YWxsQm90dG9tLCB3YWxsTGVmdCwgd2FsbFJpZ2h0XVxuICAgICAgICAgICAgTWF0dGVyLldvcmxkLmFkZCh3b3JsZCwgYmxvY2tzKTtcbiAgICAgICAgICAgIE1hdHRlci5Xb3JsZC5hZGQod29ybGQsIG1vdXNlQ29uc3RyYWludCk7XG4gICAgICAgICAgICBNYXR0ZXIuUnVubmVyLnJ1bihydW5uZXIsIGVuZ2luZSk7XG4gICAgICAgICAgICBNYXR0ZXIuUmVuZGVyLnJ1bihyZW5kZXIpO1xuICAgICAgICB9O1xuXG4gICAgICAgIHNldHVwV29ybGQoKTtcblxuXG4gICAgICAgIC8vIG1haW4gbG9vcFxuICAgICAgICB2YXIgY291bnRlciA9IDA7XG4gICAgICAgIE1hdHRlci5FdmVudHMub24oZW5naW5lLCAnYmVmb3JlVXBkYXRlJywgKGV2ZW50OiBNYXR0ZXIuRXZlbnRzKSA9PiB7XG4gICAgICAgICAgICBjb3VudGVyICs9IDE7XG4gICAgICAgICAgICBpZiAoY291bnRlciAlIDMwMCA9PSAwKSB7XG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJjb3VudGVyOiBcIiwgY291bnRlcik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh3b3JsZC5mb3JjZU9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgPCAxODApIHtcbiAgICAgICAgICAgICAgICAgICAgZ3JvdXBpbmcuYXBwbHlHcm91cGluZyh3b3JsZCwgYmxvY2tzKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNvdW50ZXIgPCAyNDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwdWxzaW9uLmFwcGx5QW50aUdyYXZpdHkod29ybGQsIGJsb2Nrcyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWxpZ24uYXBwbHlBbGlnbm1lbnQod29ybGQsIGJsb2Nrcyk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGNvdW50ZXIgJSAxMCA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgIHdvcmxkLnBva2VTY2FsZSAqPSB3b3JsZC5wb2tlRGVjYXk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHBva2UuYXBwbHlSYW5kb21Qb2tlcyh3b3JsZCwgYmxvY2tzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cblxuICAgICAgICAvLyBUb2dnbGUgZm9yY2VzIGJ5IHByZXNzaW5nIFNwYWNlIGtleVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICAgICAgICAgIGlmIChlLmNvZGUgPT09IFwiU3BhY2VcIikge1xuICAgICAgICAgICAgICAgIHdvcmxkLmZvcmNlT24gPSAhd29ybGQuZm9yY2VPbjtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgVG9nZ2xlZCBmb3JjZTogZm9yY2VPbiBpcyAke3dvcmxkLmZvcmNlT259IG5vd2ApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuXG4gICAgICAgIC8vIFJvdGF0ZSBhIGJsb2NrIGJ5IGRvdWJsZSBjbGlja2luZ1xuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGAtLS0gRG91YmxlIGNsaWNrIGF0IHQ9JHtjb3VudGVyfSAtLS1gKTtcbiAgICAgICAgICAgIGJsb2Nrc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoYiA9PiAoIWIuaXNTdGF0aWMpICYmIE1hdHRlci5Cb3VuZHMuY29udGFpbnMoYi5ib3VuZHMsIG1vdXNlLnBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChiID0+IE1hdHRlci5Cb2R5LnJvdGF0ZShiLCBNYXRoLlBJIC8gMikpO1xuICAgICAgICB9KTtcblxuICAgICAgICAvLyBSb3RhdGUgYSBibG9jayBieSB0b3VjaCByb3RhdGlvblxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCAoZSkgPT4ge1xuICAgICAgICAgICAgbGV0IHRvdWNoID0gZS5jaGFuZ2VkVG91Y2hlcy5pdGVtKDApO1xuICAgICAgICAgICAgbGV0IGFuZ2xlSW5SYWRpYW4gPSBNYXRoLlBJIC8gMTgwICogKHRvdWNoPy5yb3RhdGlvbkFuZ2xlID8/IDApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYC0tLSBUb3VjaCByb3RhdGlvbiBhY3RpdmF0ZWQgYXQgdD0ke2NvdW50ZXJ9IC0tLWApO1xuICAgICAgICAgICAgY29uc29sZS5sb2coYCAgICByb3RhdGlvbiBhbmdsZSA9ICR7dG91Y2g/LnJvdGF0aW9uQW5nbGV9IChkZWcpYClcbiAgICAgICAgICAgIGJsb2Nrc1xuICAgICAgICAgICAgICAgIC5maWx0ZXIoYiA9PiAoIWIuaXNTdGF0aWMpICYmIE1hdHRlci5Cb3VuZHMuY29udGFpbnMoYi5ib3VuZHMsIG1vdXNlLnBvc2l0aW9uKSlcbiAgICAgICAgICAgICAgICAuZm9yRWFjaChiID0+IE1hdHRlci5Cb2R5LnJvdGF0ZShiLCBhbmdsZUluUmFkaWFuKSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbmdpbmU6IGVuZ2luZSxcbiAgICAgICAgICAgIHJ1bm5lcjogcnVubmVyLFxuICAgICAgICAgICAgcmVuZGVyOiByZW5kZXIsXG4gICAgICAgICAgICBjYW52YXM6IHJlbmRlci5jYW52YXMsXG4gICAgICAgICAgICBzdG9wOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgTWF0dGVyLlJlbmRlci5zdG9wKHJlbmRlcik7XG4gICAgICAgICAgICAgICAgTWF0dGVyLlJ1bm5lci5zdG9wKHJ1bm5lcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG5cbiAgICB9XG59XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJjb25zdCBpbWdSb290ID0gXCIuL3B1YmxpYy9sZWdvL1wiO1xuY29uc3QgaW1nTmFtZXMgPSBbXG4gICAgXCJibHVlXzF4Mi5wbmdcIixcbiAgICBcImJsdWVfMXgyLnBuZ1wiLFxuICAgIFwiYmx1ZV8xeDIucG5nXCIsXG4gICAgXCJibHVlXzF4Mi5wbmdcIixcbiAgICBcImJsdWVfMXgyLnBuZ1wiLFxuICAgIFwiYmx1ZV8xeDMucG5nXCIsXG4gICAgXCJibHVlXzF4My5wbmdcIixcbiAgICBcImdyZWVuXzF4Mi5wbmdcIixcbiAgICBcImdyZWVuXzF4Mi5wbmdcIixcbiAgICBcImdyZWVuXzF4Mi5wbmdcIixcbiAgICBcImdyZWVuXzF4Mi5wbmdcIixcbiAgICBcImdyZWVuXzJ4Mi5wbmdcIixcbiAgICBcImdyZWVuXzJ4Mi5wbmdcIixcbiAgICBcIm9yYW5nZV8yeDEucG5nXCIsXG4gICAgXCJvcmFuZ2VfMngxLnBuZ1wiLFxuICAgIFwib3JhbmdlXzJ4MS5wbmdcIixcbiAgICBcIm9yYW5nZV8yeDEucG5nXCIsXG4gICAgXCJvcmFuZ2VfMngxLnBuZ1wiLFxuICAgIFwib3JhbmdlXzJ4MS5wbmdcIixcbiAgICBcIm9yYW5nZV8yeDMucG5nXCIsXG4gICAgXCJvcmFuZ2VfMngzLnBuZ1wiLFxuICAgIFwicmVkXzF4NC5wbmdcIixcbiAgICBcInJlZF8xeDQucG5nXCIsXG4gICAgXCJyZWRfMXg0LnBuZ1wiLFxuICAgIFwicmVkXzJ4Mi5wbmdcIixcbiAgICBcInJlZF8yeDIucG5nXCIsXG4gICAgXCJ5ZWxsb3dfMngxLnBuZ1wiLFxuICAgIFwieWVsbG93XzJ4MS5wbmdcIixcbiAgICBcInllbGxvd18yeDEucG5nXCIsXG4gICAgXCJ5ZWxsb3dfMngxLnBuZ1wiLFxuICAgIFwieWVsbG93XzJ4MS5wbmdcIixcbiAgICBcInllbGxvd18zeDIucG5nXCIsXG4gICAgXCJ5ZWxsb3dfM3gyLnBuZ1wiLFxuICAgIFwieWVsbG93XzN4Mi5wbmdcIlxuXTtcblxuZXhwb3J0IGNvbnN0IGltZ1BhdGhzID0gaW1nTmFtZXMubWFwKG5hbWUgPT4gaW1nUm9vdCArIG5hbWUpO1xuXG5leHBvcnQgY29uc3QgcGFyYW1zID0ge1xuICAgIC8vIEJvZHkgcGFyYW1ldGVyc1xuICAgIGZyaWN0aW9uQWlyOiAwLjAxLFxuICAgIGZyaWN0aW9uOiAwLjAsXG4gICAgd2FsbEZyaWN0aW9uOiAwLjAxLFxuXG4gICAgLy8gR2xvYmFsIHJhbmRvbSBwb2tpbmdcbiAgICBwb2tlU2NhbGU6IDAuMDUsXG4gICAgcG9rZURlY2F5OiAwLjk1LCAgLy8gbXVsdGlwbGllciBhZnRlciAxMCBjb3VudHNcblxuICAgIC8vIEFsaWdubWVudCBmb3JjZVxuICAgIGFsaWdubWVudEZvcmNlQ29lZmY6IDAuMDAxMCxcbiAgICBhbGlnbm1lbnRGb3JjZVJhbmdlOiAzMCwgIC8vIHBpeGVsc1xuICAgIGFsaWdubWVudEZvcmNlV2FsbFJhbmdlOiAxNSwgLy8gcGl4ZWxzXG5cbiAgICAvLyBBbnRpR3Jhdml0eSBmb3JjZVxuICAgIHJlcHVsc2lvbkNvZWZmOiAxMDAsXG4gICAgcmVwdWxzaW9uUmFuZ2U6IDMuMCwgICAgICAvLyBOT1QgcGl4ZWxzXG5cbiAgICAvLyBHcm91cGluZyBhdHRyYWN0aW9uL3JlcHVsc2lvblxuICAgIGdyb3VwaW5nQ29lZmY6IDQwMCxcblxufVxuIiwiaW1wb3J0IE1hdHRlciBmcm9tIFwibWF0dGVyLWpzXCI7XG5pbXBvcnQgKiBhcyB1dGlscyBmcm9tIFwiLi91dGlsc1wiO1xuaW1wb3J0IHsga3J1c2thbCB9IGZyb20gXCIuL2dyYXBoXCI7XG5pbXBvcnQgVW5pb25GaW5kIGZyb20gXCIuL3VuaW9uZmluZFwiO1xuaW1wb3J0IHsgV29ybGRFeHRlbmRlZCwgRWRnZUV4dGVuZGVkLCBHcmFwaEV4dGVuZGVkLCBJUG9pbnRQYWlyRnVuYyB9IGZyb20gXCIuL2V4dHR5cGVzXCI7XG5pbXBvcnQgKiBhcyBncm91cGluZyBmcm9tIFwiLi9ncm91cGluZ1wiO1xuXG5cbmNvbnN0IGNyZWF0ZUFsaWdubWVudEdyYXBoTWV0YSA9ICh3b3JsZDogV29ybGRFeHRlbmRlZCwgYmxvY2tzOiBNYXR0ZXIuQm9keVtdLCBwb2ludFBhaXJGdW5jOiBJUG9pbnRQYWlyRnVuYyk6IEdyYXBoRXh0ZW5kZWQgPT4ge1xuICBsZXQgZWRnZXM6IEVkZ2VFeHRlbmRlZFtdID0gW107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgYmxvY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaiA9IGkgKyAxOyBqIDwgYmxvY2tzLmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBzcmMgPSBibG9ja3NbaV07XG4gICAgICBjb25zdCB0Z3QgPSBibG9ja3Nbal07XG4gICAgICBjb25zdCBbcG9zU3JjLCBwb3NUZ3QsIGRpc3RdID0gcG9pbnRQYWlyRnVuYyhzcmMsIHRndCk7XG4gICAgICBpZiAoZGlzdCA8IHdvcmxkLmFsaWdubWVudEZvcmNlUmFuZ2UgJiYgKCFzcmMuaXNTdGF0aWMgfHwgIXRndC5pc1N0YXRpYykpIHtcbiAgICAgICAgY29uc3QgZSA9IHtcbiAgICAgICAgICB3ZWlnaHQ6IGRpc3QsXG4gICAgICAgICAgcGFpcjogdXRpbHMubWFrZVVub3JkZXJlZFBhaXIoaSwgaiksXG4gICAgICAgICAgcG9zU3JjOiBwb3NTcmMsXG4gICAgICAgICAgcG9zVGd0OiBwb3NUZ3QsXG4gICAgICAgICAgaWR4U3JjOiBpLFxuICAgICAgICAgIGlkeFRndDogaixcbiAgICAgICAgfVxuICAgICAgICBlZGdlcy5wdXNoKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBsZXQgZzogR3JhcGhFeHRlbmRlZCA9IHtcbiAgICB2ZXJ0aWNlczogdXRpbHMucmFuZ2UoYmxvY2tzLmxlbmd0aCksXG4gICAgZWRnZXM6IGVkZ2VzLFxuICB9XG4gIHJldHVybiBnO1xufVxuXG5cbmNvbnN0IGNyZWF0ZUFsaWdubWVudEdyYXBoWCA9ICh3b3JsZDogV29ybGRFeHRlbmRlZCwgYmxvY2tzOiBNYXR0ZXIuQm9keVtdKTogR3JhcGhFeHRlbmRlZCA9PiB7XG4gIHJldHVybiBjcmVhdGVBbGlnbm1lbnRHcmFwaE1ldGEod29ybGQsIGJsb2NrcywgdXRpbHMuY2xvZXN0UG9pbnRQYWlyWCk7XG59XG5cblxuY29uc3QgY3JlYXRlQWxpZ25tZW50R3JhcGhZID0gKHdvcmxkOiBXb3JsZEV4dGVuZGVkLCBibG9ja3M6IE1hdHRlci5Cb2R5W10pOiBHcmFwaEV4dGVuZGVkID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUFsaWdubWVudEdyYXBoTWV0YSh3b3JsZCwgYmxvY2tzLCB1dGlscy5jbG9lc3RQb2ludFBhaXJZKTtcbn1cblxuXG5jb25zdCBhcHBseUFsaWdubWVudEZvcmNlWCA9ICh3b3JsZDogV29ybGRFeHRlbmRlZCwgYmxvY2tzOiBNYXR0ZXIuQm9keVtdLCBlZGdlOiBFZGdlRXh0ZW5kZWQpID0+IHtcbiAgY29uc3Qgc2lnbiA9IChlZGdlLnBvc1NyYy54IDwgZWRnZS5wb3NUZ3QueCkgPyAtMSA6IDE7XG4gIGNvbnN0IGRpc3QgPSBlZGdlLndlaWdodDtcbiAgY29uc3QgZm9yY2UgPSB3b3JsZC5hbGlnbm1lbnRGb3JjZUNvZWZmICogc2lnbiAqIGRpc3Q7XG4gIGNvbnN0IGZvcmNlT25UZ3QgPSB7IHg6IGZvcmNlLCB5OiAwIH07XG4gIGNvbnN0IHNyYyA9IGJsb2Nrc1tlZGdlLmlkeFNyY107XG4gIGNvbnN0IHRndCA9IGJsb2Nrc1tlZGdlLmlkeFRndF07XG4gIE1hdHRlci5Cb2R5LmFwcGx5Rm9yY2UodGd0LCB0Z3QucG9zaXRpb24sIGZvcmNlT25UZ3QpO1xuICBNYXR0ZXIuQm9keS5hcHBseUZvcmNlKHNyYywgc3JjLnBvc2l0aW9uLCB1dGlscy5uZWdhdGUoZm9yY2VPblRndCkpO1xufVxuXG5cbmNvbnN0IGFwcGx5QWxpZ25tZW50Rm9yY2VZID0gKHdvcmxkOiBXb3JsZEV4dGVuZGVkLCBibG9ja3M6IE1hdHRlci5Cb2R5W10sIGVkZ2U6IEVkZ2VFeHRlbmRlZCkgPT4ge1xuICBjb25zdCBzaWduID0gKGVkZ2UucG9zU3JjLnkgPCBlZGdlLnBvc1RndC55KSA/IC0xIDogMTtcbiAgY29uc3QgZGlzdCA9IGVkZ2Uud2VpZ2h0O1xuICBjb25zdCBmb3JjZSA9IHdvcmxkLmFsaWdubWVudEZvcmNlQ29lZmYgKiBzaWduICogZGlzdDtcbiAgY29uc3QgZm9yY2VPblRndCA9IHsgeDogMCwgeTogZm9yY2UgfTtcbiAgY29uc3Qgc3JjID0gYmxvY2tzW2VkZ2UuaWR4U3JjXTtcbiAgY29uc3QgdGd0ID0gYmxvY2tzW2VkZ2UuaWR4VGd0XTtcbiAgTWF0dGVyLkJvZHkuYXBwbHlGb3JjZSh0Z3QsIHRndC5wb3NpdGlvbiwgZm9yY2VPblRndCk7XG4gIE1hdHRlci5Cb2R5LmFwcGx5Rm9yY2Uoc3JjLCBzcmMucG9zaXRpb24sIHV0aWxzLm5lZ2F0ZShmb3JjZU9uVGd0KSk7XG59XG5cblxuY29uc3QgYXBwbHlBbGlnbm1lbnRNU1QgPSAod29ybGQ6IFdvcmxkRXh0ZW5kZWQsIGJsb2NrczogTWF0dGVyLkJvZHlbXSkgPT4ge1xuICBsZXQgZ1ggPSBjcmVhdGVBbGlnbm1lbnRHcmFwaFgod29ybGQsIGJsb2Nrcyk7XG4gIGxldCBnWSA9IGNyZWF0ZUFsaWdubWVudEdyYXBoWSh3b3JsZCwgYmxvY2tzKTtcbiAgbGV0IGVkZ2VNc3RYID0ga3J1c2thbChnWCkgYXMgRWRnZUV4dGVuZGVkW107XG4gIGxldCBlZGdlTXN0WSA9IGtydXNrYWwoZ1kpIGFzIEVkZ2VFeHRlbmRlZFtdO1xuXG4gIC8vIGFsaWdubWVudCBmb3JjZSBvY2N1cnMgYXQgTVNUIGVkZ2VzIG9ubHlcbiAgZWRnZU1zdFguZm9yRWFjaChlID0+IGFwcGx5QWxpZ25tZW50Rm9yY2VYKHdvcmxkLCBibG9ja3MsIGUpKTtcbiAgZWRnZU1zdFkuZm9yRWFjaChlID0+IGFwcGx5QWxpZ25tZW50Rm9yY2VZKHdvcmxkLCBibG9ja3MsIGUpKTtcblxuICAvLyBhbnRpZ3Jhdml0eSBmb3JjZSBvY2N1cnMgYXQgZGlzY29ubmVjdGVkIG5vZGVzXG4gIGxldCB1ZlggPSBuZXcgVW5pb25GaW5kKGdYLnZlcnRpY2VzKTtcbiAgZ1guZWRnZXMuZm9yRWFjaChlID0+IHsgdWZYLmNvbm5lY3QoZS5pZHhTcmMsIGUuaWR4VGd0KSB9KTtcbiAgbGV0IHVmWSA9IG5ldyBVbmlvbkZpbmQoZ1kudmVydGljZXMpO1xuICBnWS5lZGdlcy5mb3JFYWNoKGUgPT4geyB1ZlkuY29ubmVjdChlLmlkeFNyYywgZS5pZHhUZ3QpIH0pO1xuICBncm91cGluZy5hcHBseUFudGlHcmF2aXR5RGlzam9pbnQod29ybGQsIGJsb2NrcywgdWZYLCB1ZlkpO1xufVxuXG5cbmNvbnN0IGNyZWF0ZUJveFdhbGxCaXBhcnRpdGVNZXRhID0gKHdvcmxkOiBXb3JsZEV4dGVuZGVkLCBibG9ja3M6IE1hdHRlci5Cb2R5W10sIHBvaW50UGFpckZ1bmM6IElQb2ludFBhaXJGdW5jKTogR3JhcGhFeHRlbmRlZCA9PiB7XG4gIGxldCBlZGdlczogRWRnZUV4dGVuZGVkW10gPSBbXTtcbiAgY29uc3QgbnVtQm94ID0gYmxvY2tzLmxlbmd0aCAtIDQ7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBudW1Cb3g7IGkrKykge1xuICAgIGZvciAobGV0IGogPSAwOyBqIDwgNDsgaisrKSB7XG4gICAgICBjb25zdCBpZHhCb3ggPSBpO1xuICAgICAgY29uc3QgaWR4V2FsbCA9IGogKyBudW1Cb3g7XG4gICAgICBjb25zdCBibG9jayA9IGJsb2Nrc1tpZHhCb3hdO1xuICAgICAgY29uc3Qgd2FsbCA9IGJsb2Nrc1tpZHhXYWxsXTtcbiAgICAgIGNvbnN0IFtwb3NCb3gsIHBvc1dhbGwsIGRpc3RdID0gcG9pbnRQYWlyRnVuYyhibG9jaywgd2FsbCk7XG4gICAgICBpZiAoZGlzdCA8IHdvcmxkLmFsaWdubWVudEZvcmNlV2FsbFJhbmdlKSB7XG4gICAgICAgIGNvbnN0IGU6IEVkZ2VFeHRlbmRlZCA9IHtcbiAgICAgICAgICB3ZWlnaHQ6IGRpc3QsXG4gICAgICAgICAgcGFpcjogeyBmaXJzdDogaWR4Qm94LCBzZWNvbmQ6IGlkeFdhbGwgfSxcbiAgICAgICAgICBwb3NTcmM6IHBvc0JveCxcbiAgICAgICAgICBwb3NUZ3Q6IHBvc1dhbGwsXG4gICAgICAgICAgaWR4U3JjOiBpZHhCb3gsXG4gICAgICAgICAgaWR4VGd0OiBpZHhXYWxsLFxuICAgICAgICB9XG4gICAgICAgIGVkZ2VzLnB1c2goZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGxldCBnOiBHcmFwaEV4dGVuZGVkID0ge1xuICAgIHZlcnRpY2VzOiB1dGlscy5yYW5nZShibG9ja3MubGVuZ3RoKSxcbiAgICBlZGdlczogZWRnZXMsXG4gIH1cbiAgcmV0dXJuIGc7XG59XG5cbmNvbnN0IGFwcGx5Qm94V2FsbEFsaWdubWVudCA9ICh3b3JsZDogV29ybGRFeHRlbmRlZCwgYmxvY2tzOiBNYXR0ZXIuQm9keVtdKSA9PiB7XG4gIGxldCBnWCA9IGNyZWF0ZUJveFdhbGxCaXBhcnRpdGVNZXRhKHdvcmxkLCBibG9ja3MsIHV0aWxzLmNsb2VzdFBvaW50UGFpclgpO1xuICBsZXQgZ1kgPSBjcmVhdGVCb3hXYWxsQmlwYXJ0aXRlTWV0YSh3b3JsZCwgYmxvY2tzLCB1dGlscy5jbG9lc3RQb2ludFBhaXJZKTtcblxuICAvLyBhbGlnbm1lbnQgZm9yY2Ugb2NjdXJzIGF0IE1TVCBlZGdlcyBvbmx5XG4gIGdYLmVkZ2VzLmZvckVhY2goZSA9PiBhcHBseUFsaWdubWVudEZvcmNlWCh3b3JsZCwgYmxvY2tzLCBlKSk7XG4gIGdZLmVkZ2VzLmZvckVhY2goZSA9PiBhcHBseUFsaWdubWVudEZvcmNlWSh3b3JsZCwgYmxvY2tzLCBlKSk7XG59XG5cblxuZXhwb3J0IGNvbnN0IGFwcGx5QWxpZ25tZW50ID0gKHdvcmxkOiBXb3JsZEV4dGVuZGVkLCBibG9ja3M6IE1hdHRlci5Cb2R5W10pID0+IHtcbiAgYXBwbHlCb3hXYWxsQWxpZ25tZW50KHdvcmxkLCBibG9ja3MpO1xuXG4gIGNvbnN0IGJveGVzID0gYmxvY2tzLnNsaWNlKDAsIGJsb2Nrcy5sZW5ndGggLSA0KTtcbiAgYXBwbHlBbGlnbm1lbnRNU1Qod29ybGQsIGJveGVzKTtcbn1cbiIsImltcG9ydCBVbmlvbkZpbmQgZnJvbSBcIi4vdW5pb25maW5kXCI7XG5pbXBvcnQgeyBQYWlyIH0gZnJvbSBcIi4vdXRpbHNcIjtcblxuLy8gTWluaW11bSBzcGFubmluZyB0cmVlXG50eXBlIFZlcnRleCA9IG51bWJlciB8IHN0cmluZztcblxuZXhwb3J0IGludGVyZmFjZSBFZGdlIHtcbiAgcGFpcjogUGFpcjxWZXJ0ZXg+LFxuICB3ZWlnaHQ6IG51bWJlcixcbiAgW3Byb3BOYW1lOiBzdHJpbmddOiBhbnk7XG59O1xuXG5leHBvcnQgaW50ZXJmYWNlIEdyYXBoIHtcbiAgdmVydGljZXM6IFZlcnRleFtdO1xuICBlZGdlczogRWRnZVtdO1xufVxuXG4vKiogS3J1c2thbCBmb3IgTVNUIE8oRSBsb2cgRSlcbiAqL1xuZXhwb3J0IGNvbnN0IGtydXNrYWwgPSAoZzogR3JhcGgpOiBFZGdlW10gPT4ge1xuICBjb25zdCB1ZiA9IG5ldyBVbmlvbkZpbmQoZy52ZXJ0aWNlcyk7XG4gIGNvbnN0IHNvcnRlZEVkZ2VzID0gZy5lZGdlcy5zb3J0KChlMSwgZTIpID0+IGUxLndlaWdodCAtIGUyLndlaWdodCk7XG4gIGxldCByZXM6IEVkZ2VbXSA9IFtdO1xuICBmb3IgKGxldCBlIG9mIHNvcnRlZEVkZ2VzKSB7XG4gICAgbGV0IHYxID0gZS5wYWlyLmZpcnN0O1xuICAgIGxldCB2MiA9IGUucGFpci5zZWNvbmQ7XG4gICAgaWYgKCF1Zi5hcmVDb25uZWN0ZWQodjEsIHYyKSkge1xuICAgICAgdWYuY29ubmVjdCh2MSwgdjIpO1xuICAgICAgcmVzLnB1c2goZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG4iLCJpbXBvcnQgTWF0dGVyIGZyb20gXCJtYXR0ZXItanNcIjtcbmltcG9ydCAqIGFzIHV0aWxzIGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBXb3JsZEV4dGVuZGVkIH0gZnJvbSBcIi4vZXh0dHlwZXNcIjtcblxuXG5jb25zdCBhcHBseVJhbmRvbVBva2UgPSAod29ybGQ6IFdvcmxkRXh0ZW5kZWQsIGJsb2NrOiBNYXR0ZXIuQm9keSkgPT4ge1xuICBpZiAoIWJsb2NrLmlzU3RhdGljKSB7XG4gICAgTWF0dGVyLkJvZHkuYXBwbHlGb3JjZShibG9jaywgYmxvY2sucG9zaXRpb24sXG4gICAgICB7XG4gICAgICAgIHg6IHdvcmxkLnBva2VTY2FsZSAqIHV0aWxzLnJhbmRuKCksXG4gICAgICAgIHk6IHdvcmxkLnBva2VTY2FsZSAqIHV0aWxzLnJhbmRuKCksXG4gICAgICB9KTtcbiAgfVxufVxuXG5leHBvcnQgY29uc3QgYXBwbHlSYW5kb21Qb2tlcyA9ICh3b3JsZDogV29ybGRFeHRlbmRlZCwgYmxvY2tzOiBNYXR0ZXIuQm9keVtdKSA9PiB7XG4gIGJsb2Nrcy5mb3JFYWNoKGJsb2NrID0+IGFwcGx5UmFuZG9tUG9rZSh3b3JsZCwgYmxvY2spKTtcbn1cbiJdLCJzb3VyY2VSb290IjoiIn0=